
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Borrowing (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-21"><meta name="DC.source" content="fsi_abz_ds_vecsv_borr.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Borrowing (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vec.html">ff_az_ds_vec</a> program for solving the savings only dynamic programming problem.</p><p>No default, change borrowing interest rates. Default, changin minimum consumption etc.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Test Borrowing Interest Rates, No Default, NBC</a></li><li><a href="#2">Test Borrowing Interest Rates, No Default, More Accurate</a></li><li><a href="#3">Test Borrowing Bounds with Defaults</a></li><li><a href="#4">Test Minimum Consumption with Defaults</a></li></ul></div><h2 id="1">Test Borrowing Interest Rates, No Default, NBC</h2><p>The natural borrowing constraint restricts borrowing. Note that <b>pYisMINY</b> in tables below is generally very close to 0. That is the correct mass. As we shift the formal borrowing interest rate, the natural borrowing constraints changes (lower borrowing interest rate, more borrowing allowed), but the mass at the borrowing bound is 0 because at the bound, households would go to negative infinite utility, approximated by -9999 in default parameters pYisMINY. Note the <b>min</b> value in table shows how the natural borrowing constraint is adjusting. that is the NBC bound.</p><p>As the borrowing interest rate increases, households borrow more and average/aggregate savings decrease.</p><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

it_size = 5;

<span class="comment">% default or not</span>
bl_default = false;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
<span class="comment">% cmin</span>
fl_c_min = 0.001;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.001, 0.005, it_size);
ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
<span class="comment">% borrow bound</span>
fl_b_bd = -20;
ar_fl_b_bd = [-20, -15, -10];
ar_fl_b_bd = linspace(-20, 0, it_size);
ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
<span class="comment">% fl_r_borr</span>
fl_r_borr = 0.035;
ar_fl_r_borr = [-999, -999, -999];
ar_fl_r_borr = linspace(0.20, 0.025, it_size);
<span class="comment">% ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;</span>

<span class="comment">% other parameters</span>
it_a_n = 750;
it_z_n = 15;
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

<span class="comment">% Simulate Model</span>

<span class="keyword">for</span> it_cur_param = 1:1:length(ar_bl_default)

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'ar_bl_default = '</span> num2str(ar_bl_default(it_cur_param))]);
    disp([<span class="string">'ar_fl_c_min = '</span> num2str(ar_fl_c_min(it_cur_param))]);
    disp([<span class="string">'ar_fl_b_bd = '</span> num2str(ar_fl_b_bd(it_cur_param))]);
    disp([<span class="string">'ar_fl_r_borr = '</span> num2str(ar_fl_r_borr(it_cur_param))]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = ar_bl_default(it_cur_param);
    param_map(<span class="string">'fl_c_min'</span>) = ar_fl_c_min(it_cur_param);
    param_map(<span class="string">'fl_b_bd'</span>) = ar_fl_b_bd(it_cur_param);

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = ar_fl_r_borr(it_cur_param);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;
    param_map(<span class="string">'fl_beta'</span>) = fl_beta;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    support_map(<span class="string">'bl_graph_funcgrids'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution'</span>);
    result_map = ff_az_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="comment">% Call Distribution CProgram</span>
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution'</span>);
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Warning: "C:\Users\fan\CodeDynaAsset\m_abz\test\ff_az_ds_vecsv\test_pref\html"
not found in path. 
Warning: "C:\Users\fan\CodeDynaAsset\m_abz\test\ff_az_ds_vecsv\test_shock\html"
not found in path. 
Elapsed time is 1.639431 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
Elapsed time is 0.758829 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                 -0.33835                        -0.00062137           
          1                  -0.1289                         -0.0028024           
          5                        0                         -0.0048307           
         10                        0                         -0.0048307           
         15                        0                         -0.0048307           
         20                        0                         -0.0048307           
         25                 0.010738                         -0.0038892           
         35                 0.080555                          0.0020464           
         50                  0.35982                             0.0534           
         65                  0.77873                            0.15299           
         75                   1.1278                            0.25846           
         80                   1.4769                            0.35327           
         85                    1.826                            0.44182           
         90                   2.3147                            0.55967           
         95                   3.2922                            0.73339           
         99                   5.3867                            0.92313           
       99.9                   8.0397                            0.98917           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   0.19282                          4.4542e-05           
          1                   0.50235                           0.0016875           
          5                   0.68262                            0.013841           
         10                   0.79845                            0.032093           
         15                   0.90837                            0.055293           
         20                    1.0479                            0.088223           
         25                    1.0847                             0.10065           
         35                    1.2913                             0.16038           
         50                    1.6911                             0.26548           
         65                    2.1926                             0.39883           
         75                    2.6935                             0.51211           
         80                    3.0116                             0.57955           
         85                    3.4409                             0.65385           
         90                    4.0645                             0.74032           
         95                    5.1261                             0.84704           
         99                    7.4472                             0.95891           
       99.9                    10.382                             0.99462           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.48872                         0.00038339           
          1                  0.57205                          0.0042141           
          5                   0.6871                           0.024436           
         10                  0.79845                           0.055142           
         15                  0.90837                           0.096131           
         20                   1.0059                            0.12605           
         25                   1.0535                            0.16644           
         35                    1.198                            0.26513           
         50                   1.3138                            0.40382           
         65                   1.4156                            0.55202           
         75                   1.5442                            0.66509           
         80                   1.5849                            0.72657           
         85                   1.6625                            0.78803           
         90                   1.7502                             0.8536           
         95                   1.8663                            0.92239           
         99                    2.132                            0.98292           
       99.9                   2.3791                            0.99812           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max        pYis0        pYisMINY     pYisMAXY      p0_1        p1         p5         p10        p15       p20        p25         p35         p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    __________    __________    ________    ________    _______    _______    _______    _______    ______    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.82816      1.181       1.426     -2.2234    49.581       0.17805    5.8387e-43       0        -0.33835    -0.1289          0          0          0         0    0.010738    0.080555    0.35982    0.77873    1.1278    1.4769     1.826    2.3147    3.2922    5.3867    8.0397
    cl_mt_pol_coh     2.1283     1.4713      0.6913     -2.2234    54.536             0    2.5531e-43       0         0.19282    0.50235    0.68262    0.79845    0.90837    1.0479      1.0847      1.2913     1.6911     2.1926    2.6935    3.0116    3.4409    4.0645    5.1261    7.4472    10.382
    cl_mt_pol_c       1.3001    0.34542     0.26568           0    4.9547    2.5531e-43    2.5531e-43       0         0.48872    0.57205     0.6871    0.79845    0.90837    1.0059      1.0535       1.198     1.3138     1.4156    1.5442    1.5849    1.6625    1.7502    1.8663     2.132    2.3791

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1      fracByP1      fracByP5     fracByP10     fracByP15     fracByP20     fracByP25     fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     ___________    __________    __________    __________    __________    __________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a      -0.00062137    -0.0028024    -0.0048307    -0.0048307    -0.0048307    -0.0048307    -0.0038892    0.0020464      0.0534      0.15299      0.25846      0.35327      0.44182      0.55967      0.73339      0.92313       0.98917  
    cl_mt_pol_coh     4.4542e-05     0.0016875      0.013841      0.032093      0.055293      0.088223       0.10065      0.16038     0.26548      0.39883      0.51211      0.57955      0.65385      0.74032      0.84704      0.95891       0.99462  
    cl_mt_pol_c       0.00038339     0.0042141      0.024436      0.055142      0.096131       0.12605       0.16644      0.26513     0.40382      0.55202      0.66509      0.72657      0.78803       0.8536      0.92239      0.98292       0.99812  

xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 0.331468 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                 -0.33835                        -0.00062282           
          1                  -0.1289                         -0.0028074           
          5                        0                         -0.0048386           
         10                        0                         -0.0048386           
         15                        0                         -0.0048386           
         20                        0                         -0.0048386           
         25                 0.010738                         -0.0038959           
         35                 0.080555                          0.0020474           
         50                  0.35982                            0.05346           
         65                  0.77873                            0.15313           
         75                   1.1278                            0.25868           
         80                   1.4769                            0.35353           
         85                    1.826                            0.44211           
         90                   2.3147                            0.55997           
         95                   3.2922                            0.73366           
         99                   5.3867                            0.92327           
       99.9                   8.0397                            0.98921           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   0.19282                          4.4594e-05           
          1                   0.50235                           0.0016893           
          5                   0.68262                            0.013854           
         10                   0.79845                            0.032122           
         15                   0.90837                            0.055345           
         20                    1.0479                            0.088305           
         25                    1.0847                             0.10074           
         35                    1.2913                             0.16052           
         50                    1.6911                             0.26569           
         65                     2.192                             0.39581           
         75                     2.693                             0.50959           
         80                    3.0103                             0.57655           
         85                    3.4409                             0.65414           
         90                    4.0546                             0.74002           
         95                    5.0869                              0.8463           
         99                    7.4472                             0.95901           
       99.9                    10.381                             0.99461           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.48872                         0.00038372           
          1                  0.57205                          0.0042168           
          5                  0.68262                           0.024433           
         10                  0.79845                           0.055175           
         15                  0.90837                           0.096187           
         20                  0.98194                             0.1246           
         25                   1.0535                            0.16652           
         35                    1.198                            0.26524           
         50                   1.3138                            0.40394           
         65                   1.4156                            0.55218           
         75                   1.5442                            0.66523           
         80                   1.5849                             0.7267           
         85                   1.6625                            0.78816           
         90                   1.7502                             0.8537           
         95                   1.8663                            0.92246           
         99                    2.132                            0.98294           
       99.9                   2.3791                            0.99812           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max         pYis0        pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25         p35         p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ___________    ___________    __________    ________    _______    _______    _______    _______    _______    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.82743     1.1802      1.4264     -2.2234    49.581        0.17816     -1.599e-34    4.6032e-35    -0.33835    -0.1289          0          0          0          0    0.010738    0.080555    0.35982    0.77873    1.1278    1.4769     1.826    2.3147    3.2922    5.3867    8.0397
    cl_mt_pol_coh     2.1274     1.4705      0.6912     -2.2234    54.536              0    -8.9885e-35    4.6032e-35     0.19282    0.50235    0.68262    0.79845    0.90837     1.0479      1.0847      1.2913     1.6911      2.192     2.693    3.0103    3.4409    4.0546    5.0869    7.4472    10.381
    cl_mt_pol_c          1.3    0.34539     0.26569           0    4.9547    -8.9885e-35    -8.9885e-35    4.6032e-35     0.48872    0.57205    0.68262    0.79845    0.90837    0.98194      1.0535       1.198     1.3138     1.4156    1.5442    1.5849    1.6625    1.7502    1.8663     2.132    2.3791

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1      fracByP1      fracByP5     fracByP10     fracByP15     fracByP20     fracByP25     fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     ___________    __________    __________    __________    __________    __________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a      -0.00062282    -0.0028074    -0.0048386    -0.0048386    -0.0048386    -0.0048386    -0.0038959    0.0020474     0.05346      0.15313      0.25868      0.35353      0.44211      0.55997      0.73366      0.92327       0.98921  
    cl_mt_pol_coh     4.4594e-05     0.0016893      0.013854      0.032122      0.055345      0.088305       0.10074      0.16052     0.26569      0.39581      0.50959      0.57655      0.65414      0.74002       0.8463      0.95901       0.99461  
    cl_mt_pol_c       0.00038372     0.0042168      0.024433      0.055175      0.096187        0.1246       0.16652      0.26524     0.40394      0.55218      0.66523       0.7267      0.78816       0.8537      0.92246      0.98294       0.99812  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.15625
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.672231 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
Elapsed time is 0.610180 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   -1.0091                        -0.0016723           
          1                  -0.44389                        -0.0096983           
          5                  -0.16129                         -0.020966           
         10                 -0.019989                         -0.024781           
         15                         0                         -0.024781           
         20                         0                         -0.024781           
         25                  0.050661                         -0.020364           
         35                   0.12131                         -0.011871           
         50                   0.33326                          0.027201           
         65                   0.75716                           0.13385           
         75                    1.1104                            0.2435           
         80                    1.4637                           0.34441           
         85                    1.8169                           0.43423           
         90                    2.3115                           0.55232           
         95                    3.2299                           0.71976           
         99                    5.3494                           0.91996           
       99.9                    8.0341                           0.98892           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                  -0.42176                         -0.00034352           
          1                   0.17651                          -0.0003827           
          5                   0.60095                            0.008767           
         10                   0.78744                            0.029605           
         15                   0.90837                            0.053334           
         20                    1.0247                            0.068897           
         25                    1.0998                            0.098185           
         35                     1.317                             0.15322           
         50                    1.6636                             0.25801           
         65                     2.186                             0.39315           
         75                    2.6774                             0.50802           
         80                    2.9937                             0.57333           
         85                    3.4282                              0.6497           
         90                    4.0533                             0.73894           
         95                    5.0938                             0.84576           
         99                    7.4454                             0.95856           
       99.9                    10.375                              0.9946           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.51663                         0.00039728           
          1                  0.61512                          0.0045389           
          5                  0.73911                           0.026512           
         10                  0.80743                           0.059442           
         15                  0.90837                            0.10124           
         20                  0.98205                            0.12788           
         25                   1.0479                             0.1681           
         35                   1.1581                            0.25717           
         50                   1.2931                            0.39444           
         65                   1.4169                            0.54997           
         75                   1.5527                            0.66426           
         80                    1.583                            0.72715           
         85                   1.6643                            0.78924           
         90                   1.7476                            0.85303           
         95                   1.8639                            0.92255           
         99                   2.1347                            0.98281           
       99.9                   2.3728                            0.99813           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar     min       max        pYis0        pYisMINY     pYisMAXY      p0_1         p1          p5          p10         p15        p20        p25         p35        p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    ______    ______    __________    __________    ________    ________    ________    ________    _________    _______    _______    ________    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.80803     1.1901      1.4728     -2.846    49.576       0.12821    8.8084e-42       0         -1.0091    -0.44389    -0.16129    -0.019989          0          0    0.050661    0.12131    0.33326    0.75716    1.1104    1.4637    1.8169    2.3115    3.2299    5.3494    8.0341
    cl_mt_pol_coh     2.1058     1.4857     0.70554     -2.846    54.536             0    3.8516e-42       0        -0.42176     0.17651     0.60095      0.78744    0.90837     1.0247      1.0998      1.317     1.6636      2.186    2.6774    2.9937    3.4282    4.0533    5.0938    7.4454    10.375
    cl_mt_pol_c       1.2977    0.34604     0.26665          0    4.9597    3.8516e-42    3.8516e-42       0         0.51663     0.61512     0.73911      0.80743    0.90837    0.98205      1.0479     1.1581     1.2931     1.4169    1.5527     1.583    1.6643    1.7476    1.8639    2.1347    2.3728

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1      fracByP1     fracByP5     fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     ___________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a       -0.0016723    -0.0096983    -0.020966    -0.024781    -0.024781    -0.024781    -0.020364    -0.011871    0.027201      0.13385       0.2435      0.34441      0.43423      0.55232      0.71976      0.91996       0.98892  
    cl_mt_pol_coh    -0.00034352    -0.0003827     0.008767     0.029605     0.053334     0.068897     0.098185      0.15322     0.25801      0.39315      0.50802      0.57333       0.6497      0.73894      0.84576      0.95856        0.9946  
    cl_mt_pol_c       0.00039728     0.0045389     0.026512     0.059442      0.10124      0.12788       0.1681      0.25717     0.39444      0.54997      0.66426      0.72715      0.78924      0.85303      0.92255      0.98281       0.99813  

xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 0.184354 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   -1.0091                        -0.0016858           
          1                  -0.44389                        -0.0097396           
          5                  -0.16129                         -0.021034           
         10                 -0.019989                         -0.024858           
         15                         0                         -0.024858           
         20                         0                         -0.024858           
         25                  0.050661                         -0.020431           
         35                   0.12131                         -0.011923           
         50                   0.33326                          0.027216           
         65                   0.75716                           0.13401           
         75                    1.1104                           0.24377           
         80                    1.4637                           0.34476           
         85                    1.8169                           0.43463           
         90                    2.3115                           0.55274           
         95                    3.2299                           0.72015           
         99                    5.3494                           0.92017           
       99.9                    8.0341                           0.98898           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                  -0.42176                         -0.00034615           
          1                   0.17651                         -0.00038579           
          5                   0.60095                           0.0087771           
         10                   0.78744                            0.029642           
         15                   0.90837                            0.053402           
         20                    1.0247                            0.068982           
         25                    1.0998                            0.098306           
         35                     1.317                              0.1534           
         50                    1.6636                              0.2583           
         65                    2.1705                              0.3914           
         75                    2.6774                             0.50844           
         80                    2.9937                             0.57377           
         85                    3.4282                             0.65013           
         90                    4.0502                             0.73801           
         95                    5.0891                             0.84493           
         99                    7.4454                              0.9587           
       99.9                    10.362                             0.99458           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.51663                         0.00039857           
          1                  0.61512                          0.0045455           
          5                  0.73911                           0.026535           
         10                  0.80743                           0.059497           
         15                  0.90837                            0.10132           
         20                  0.98205                            0.12798           
         25                   1.0479                            0.16823           
         35                   1.1581                            0.25734           
         50                   1.2931                            0.39463           
         65                   1.4169                            0.55019           
         75                   1.5527                            0.66445           
         80                    1.583                            0.72735           
         85                   1.6643                            0.78941           
         90                   1.7476                            0.85318           
         95                   1.8639                            0.92264           
         99                   2.1347                            0.98285           
       99.9                   2.3728                            0.99814           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar     min       max        pYis0        pYisMINY      pYisMAXY        p0_1         p1          p5          p10         p15        p20        p25         p35        p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    ______    _________    ______    ______    __________    __________    ___________    ________    ________    ________    _________    _______    _______    ________    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.80696     1.189      1.4734     -2.846    49.576        0.1283    5.2493e-34    -4.4125e-35     -1.0091    -0.44389    -0.16129    -0.019989          0          0    0.050661    0.12131    0.33326    0.75716    1.1104    1.4637    1.8169    2.3115    3.2299    5.3494    8.0341
    cl_mt_pol_coh     2.1045    1.4846     0.70544     -2.846    54.536             0    3.1177e-34    -4.4125e-35    -0.42176     0.17651     0.60095      0.78744    0.90837     1.0247      1.0998      1.317     1.6636     2.1705    2.6774    2.9937    3.4282    4.0502    5.0891    7.4454    10.362
    cl_mt_pol_c       1.2975     0.346     0.26666          0    4.9597    3.1177e-34    3.1177e-34    -4.4125e-35     0.51663     0.61512     0.73911      0.80743    0.90837    0.98205      1.0479     1.1581     1.2931     1.4169    1.5527     1.583    1.6643    1.7476    1.8639    2.1347    2.3728

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1      fracByP1      fracByP5     fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     ___________    ___________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a       -0.0016858     -0.0097396    -0.021034    -0.024858    -0.024858    -0.024858    -0.020431    -0.011923    0.027216      0.13401      0.24377      0.34476      0.43463      0.55274      0.72015      0.92017       0.98898  
    cl_mt_pol_coh    -0.00034615    -0.00038579    0.0087771     0.029642     0.053402     0.068982     0.098306       0.1534      0.2583       0.3914      0.50844      0.57377      0.65013      0.73801      0.84493       0.9587       0.99458  
    cl_mt_pol_c       0.00039857      0.0045455     0.026535     0.059497      0.10132      0.12798      0.16823      0.25734     0.39463      0.55019      0.66445      0.72735      0.78941      0.85318      0.92264      0.98285       0.99814  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.1125
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.750841 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
Elapsed time is 0.559024 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   -2.7987                        -0.0050636           
          1                   -1.6446                         -0.036521           
          5                  -0.77905                          -0.10821           
         10                  -0.41841                          -0.15108           
         15                  -0.20202                          -0.17446           
         20                 -0.057761                           -0.1867           
         25                 -0.057761                           -0.1867           
         35                  0.014368                          -0.18562           
         50                   0.23076                          -0.15276           
         65                   0.66353                         -0.041208           
         75                    1.0242                          0.085065           
         80                    1.3848                           0.20004           
         85                    1.6733                           0.29323           
         90                    2.2504                            0.4588           
         95                    3.1881                           0.66333           
         99                    5.2798                            0.9016           
       99.9                    7.9486                           0.98616           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -2.2704                          -0.0013913           
          1                  -0.99568                          -0.0080891           
          5                  0.020675                           -0.015647           
         10                   0.44724                           -0.008776           
         15                   0.68362                           0.0070577           
         20                   0.84411                            0.029765           
         25                    0.9836                            0.055136           
         35                    1.2088                             0.10771           
         50                     1.557                             0.21396           
         65                    2.0745                             0.35407           
         75                    2.5844                             0.47381           
         80                    2.9053                             0.54494           
         85                    3.3381                             0.62466           
         90                     3.946                             0.71855           
         95                    4.9976                             0.83295           
         99                    7.3413                             0.95521           
       99.9                    10.299                             0.99414           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.46984                         0.0003274            
          1                  0.63374                         0.0044675            
          5                  0.77193                          0.026836            
         10                  0.83685                          0.060088            
         15                  0.87753                          0.091908            
         20                  0.93567                            0.1269            
         25                    1.015                           0.16483            
         35                   1.1258                           0.25118            
         50                   1.2903                           0.38906            
         65                   1.4146                            0.5482            
         75                   1.5527                           0.66287            
         80                   1.5782                           0.72592            
         85                   1.6594                            0.7882            
         90                   1.7459                           0.85257            
         95                   1.8565                           0.92151            
         99                   2.1274                           0.98275            
       99.9                   2.3655                           0.99809            

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max        pYis0        pYisMINY     pYisMAXY     p0_1         p1          p5         p10         p15          p20          p25         p35         p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    ______    _________    _______    ______    __________    __________    ________    _______    ________    ________    ________    ________    _________    _________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.64142    1.2761      1.9895     -3.9527    49.567      0.057771    1.3288e-40       0        -2.7987     -1.6446    -0.77905    -0.41841    -0.20202    -0.057761    -0.057761    0.014368    0.23076    0.66353    1.0242    1.3848    1.6733    2.2504    3.1881    5.2798    7.9486
    cl_mt_pol_coh     1.9274    1.5841      0.8219     -3.9527    54.536             0    5.8106e-41       0        -2.2704    -0.99568    0.020675     0.44724     0.68362      0.84411       0.9836      1.2088      1.557     2.0745    2.5844    2.9053    3.3381     3.946    4.9976    7.3413    10.299
    cl_mt_pol_c       1.2859    0.3473     0.27008           0    4.9686    5.8106e-41    5.8106e-41       0        0.46984     0.63374     0.77193     0.83685     0.87753      0.93567        1.015      1.1258     1.2903     1.4146    1.5527    1.5782    1.6594    1.7459    1.8565    2.1274    2.3655

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1     fracByP1     fracByP5     fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a      -0.0050636     -0.036521     -0.10821     -0.15108     -0.17446     -0.1867      -0.1867     -0.18562     -0.15276     -0.041208    0.085065      0.20004      0.29323       0.4588      0.66333       0.9016       0.98616  
    cl_mt_pol_coh    -0.0013913    -0.0080891    -0.015647    -0.008776    0.0070577    0.029765     0.055136      0.10771      0.21396       0.35407     0.47381      0.54494      0.62466      0.71855      0.83295      0.95521       0.99414  
    cl_mt_pol_c       0.0003274     0.0044675     0.026836     0.060088     0.091908      0.1269      0.16483      0.25118      0.38906        0.5482     0.66287      0.72592       0.7882      0.85257      0.92151      0.98275       0.99809  

xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 0.212892 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   -2.7987                        -0.0054373           
          1                   -1.6446                         -0.037765           
          5                  -0.77905                          -0.11031           
         10                  -0.41841                           -0.1535           
         15                  -0.20202                          -0.17702           
         20                 -0.057761                          -0.18933           
         25                 -0.057761                          -0.18933           
         35                  0.014368                          -0.18825           
         50                   0.23076                          -0.15522           
         65                   0.66353                         -0.043185           
         75                    1.0242                          0.083583           
         80                    1.3848                           0.19896           
         85                    1.6733                           0.29243           
         90                    2.2504                           0.45844           
         95                    3.1881                           0.66335           
         99                    5.2798                            0.9018           
       99.9                    7.9486                           0.98624           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                    -2.2854                            -0.0014           
          1                    -1.0015                         -0.0082079           
          5                  0.0009897                          -0.015998           
         10                    0.44289                         -0.0094192           
         15                    0.68362                          0.0067855           
         20                    0.84411                           0.029548           
         25                     0.9836                           0.054975           
         35                     1.2088                            0.10766           
         50                      1.557                            0.21412           
         65                     2.0745                            0.35445           
         75                     2.5844                            0.47431           
         80                     2.9053                             0.5455           
         85                     3.3381                            0.62523           
         90                     3.9404                            0.71856           
         95                     4.9976                             0.8334           
         99                     7.3413                            0.95542           
       99.9                     10.288                            0.99414           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.46459                         0.00032072           
          1                   0.6336                          0.0044468           
          5                  0.77193                           0.027004           
         10                  0.83685                           0.060323           
         15                  0.87753                           0.092191           
         20                  0.93567                            0.12723           
         25                   1.0132                            0.16421           
         35                   1.1258                            0.25164           
         50                   1.2903                            0.38952           
         65                   1.4146                            0.54865           
         75                   1.5527                            0.66327           
         80                   1.5764                            0.72296           
         85                   1.6594                            0.78854           
         90                   1.7443                            0.85162           
         95                   1.8565                            0.92171           
         99                   2.1264                            0.98266           
       99.9                   2.3655                            0.99811           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max         pYis0        pYisMINY      pYisMAXY      p0_1        p1          p5          p10         p15          p20          p25         p35         p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ___________    ___________    _________    _______    _______    _________    ________    ________    _________    _________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.63827     1.2755      1.9983     -3.9527    49.567       0.057787    -5.5704e-36    3.107e-36    -2.7987    -1.6446     -0.77905    -0.41841    -0.20202    -0.057761    -0.057761    0.014368    0.23076    0.66353    1.0242    1.3848    1.6733    2.2504    3.1881    5.2798    7.9486
    cl_mt_pol_coh     1.9237     1.5836     0.82323     -3.9527    54.536              0    -4.3152e-36    3.107e-36    -2.2854    -1.0015    0.0009897     0.44289     0.68362      0.84411       0.9836      1.2088      1.557     2.0745    2.5844    2.9053    3.3381    3.9404    4.9976    7.3413    10.288
    cl_mt_pol_c       1.2854    0.34739     0.27027           0    4.9686    -4.3152e-36    -4.3152e-36    3.107e-36    0.46459     0.6336      0.77193     0.83685     0.87753      0.93567       1.0132      1.1258     1.2903     1.4146    1.5527    1.5764    1.6594    1.7443    1.8565    2.1264    2.3655

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1     fracByP1     fracByP5     fracByP10     fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    __________    _________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a      -0.0054373     -0.037765     -0.11031       -0.1535     -0.17702    -0.18933     -0.18933     -0.18825     -0.15522     -0.043185    0.083583      0.19896      0.29243      0.45844      0.66335       0.9018       0.98624  
    cl_mt_pol_coh       -0.0014    -0.0082079    -0.015998    -0.0094192    0.0067855    0.029548     0.054975      0.10766      0.21412       0.35445     0.47431       0.5455      0.62523      0.71856       0.8334      0.95542       0.99414  
    cl_mt_pol_c      0.00032072     0.0044468     0.027004      0.060323     0.092191     0.12723      0.16421      0.25164      0.38952       0.54865     0.66327      0.72296      0.78854      0.85162      0.92171      0.98266       0.99811  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.06875
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.909400 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
Elapsed time is 0.899718 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   -6.2417                         0.008636            
          1                   -5.7887                          0.07164            
          5                   -4.7318                          0.30082            
         10                   -3.9014                          0.53691            
         15                    -3.222                           0.7343            
         20                   -2.6935                          0.89153            
         25                   -2.2406                           1.0244            
         35                   -1.5611                           1.2162            
         50                  -0.65523                           1.3995            
         65                 -0.051296                           1.4465            
         75                   0.32616                             1.43            
         80                   0.55264                           1.4094            
         85                    0.9301                           1.3671            
         90                    1.4585                           1.3035            
         95                    2.4399                           1.1956            
         99                    4.5537                           1.0603            
       99.9                    7.2714                           1.0087            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                    -5.984                            -0.0227            
          1                   -5.3002                           -0.21039            
          5                   -4.0276                            -0.8859            
         10                   -3.0999                            -1.5435            
         15                   -2.3737                            -2.0398            
         20                   -1.7685                            -2.4196            
         25                   -1.2702                            -2.6995            
         35                  -0.49616                            -3.0196            
         50                   0.45013                            -3.0209            
         65                    1.2274                            -2.5492            
         75                    1.7691                            -2.0023            
         80                    2.0976                            -1.6464            
         85                     2.549                            -1.2269            
         90                    3.1681                           -0.70971            
         95                    4.2017                          -0.042315            
         99                    6.5856                            0.70944            
       99.9                     9.544                            0.96066            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   0.2485                         0.00015284           
          1                  0.47534                          0.0031949           
          5                  0.67931                           0.023699           
         10                  0.80151                           0.055242           
         15                  0.86707                            0.08986           
         20                  0.91008                            0.12719           
         25                  0.94473                            0.16599           
         35                    1.042                             0.2488           
         50                   1.1471                            0.38513           
         65                   1.2905                            0.53658           
         75                   1.4344                            0.65001           
         80                   1.4997                            0.71134           
         85                   1.5856                            0.77607           
         90                     1.68                            0.84451           
         95                   1.8337                            0.91779           
         99                   2.0846                            0.98172           
       99.9                    2.339                            0.99798           

tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar        min         max       pYis0       pYisMINY     pYisMAXY     p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65         p75        p80       p85       p90       p95       p99      p99_9 
                     ________    _______    _________    ___________    ______    ________    __________    ________    _______    _______    _______    _______    _______    _______    _______    ________    ________    _________    _______    _______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.92735     2.1364     -2.3038         -6.4681    49.547    0.015277    1.0381e-56       0        -6.2417    -5.7887    -4.7318    -3.9014     -3.222    -2.6935    -2.2406     -1.5611    -0.65523    -0.051296    0.32616    0.55264    0.9301    1.4585    2.4399    4.5537    7.2714
    cl_mt_pol_coh     0.27144     2.4628       9.073         -6.4681    54.536           0    4.5393e-57       0         -5.984    -5.3002    -4.0276    -3.0999    -2.3737    -1.7685    -1.2702    -0.49616     0.45013       1.2274     1.7691     2.0976     2.549    3.1681    4.2017    6.5856     9.544
    cl_mt_pol_c        1.1988    0.34878     0.29095     -8.8818e-16    4.9887           0    4.5393e-57       0         0.2485    0.47534    0.67931    0.80151    0.86707    0.91008    0.94473       1.042      1.1471       1.2905     1.4344     1.4997    1.5856      1.68    1.8337    2.0846     2.339

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1     fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    _________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a        0.008636      0.07164     0.30082     0.53691       0.7343      0.89153       1.0244       1.2162       1.3995       1.4465         1.43       1.4094       1.3671       1.3035        1.1956      1.0603        1.0087  
    cl_mt_pol_coh       -0.0227     -0.21039     -0.8859     -1.5435      -2.0398      -2.4196      -2.6995      -3.0196      -3.0209      -2.5492      -2.0023      -1.6464      -1.2269     -0.70971     -0.042315     0.70944       0.96066  
    cl_mt_pol_c      0.00015284    0.0031949    0.023699    0.055242      0.08986      0.12719      0.16599       0.2488      0.38513      0.53658      0.65001      0.71134      0.77607      0.84451       0.91779     0.98172       0.99798  

xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 0.167286 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   -6.2417                        0.0088248            
          1                   -5.7887                         0.072808            
          5                   -4.7318                          0.30347            
         10                   -3.9014                          0.53915            
         15                   -3.2975                          0.71425            
         20                   -2.6935                          0.89122            
         25                   -2.2406                           1.0226            
         35                   -1.5611                           1.2119            
         50                  -0.73073                           1.3817            
         65                 -0.051296                           1.4387            
         75                   0.32616                           1.4225            
         80                   0.55264                           1.4022            
         85                    0.9301                           1.3607            
         90                    1.4585                           1.2982            
         95                    2.4399                           1.1921            
         99                    4.5537                           1.0592            
       99.9                    7.2714                           1.0085            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -5.9881                           -0.02408            
          1                   -5.3006                           -0.22196            
          5                    -4.062                           -0.93514            
         10                   -3.1222                            -1.6266            
         15                   -2.3956                            -2.1673            
         20                    -1.807                            -2.5657            
         25                   -1.3086                            -2.8646            
         35                  -0.51611                            -3.2089            
         50                   0.42826                            -3.2178            
         65                    1.2274                            -2.7184            
         75                    1.7408                            -2.1575            
         80                    2.0976                             -1.772            
         85                     2.549                            -1.3324            
         90                    3.1619                           -0.79669            
         95                    4.2017                          -0.091252            
         99                    6.5856                            0.69601            
       99.9                    9.5409                            0.95876            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   0.2485                         0.00015779           
          1                  0.47534                          0.0032696           
          5                  0.67739                           0.023383           
         10                  0.79941                            0.05486           
         15                  0.86507                           0.090126           
         20                  0.90703                            0.12691           
         25                  0.94292                            0.16557           
         35                   1.0375                            0.24794           
         50                   1.1465                            0.38607           
         65                   1.2905                            0.53767           
         75                    1.433                            0.65058           
         80                   1.4969                            0.71184           
         85                   1.5856                            0.77665           
         90                    1.679                            0.84428           
         95                   1.8335                            0.91755           
         99                   2.0846                            0.98178           
       99.9                    2.339                            0.99799           

tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar        min         max       pYis0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65         p75        p80       p85       p90       p95       p99      p99_9 
                     ________    _______    _________    ___________    ______    _______    __________    __________    _______    _______    _______    _______    _______    _______    _______    ________    ________    _________    _______    _______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.93941     2.1417     -2.2799         -6.4681    49.547    0.01522    1.3169e-36    2.6367e-36    -6.2417    -5.7887    -4.7318    -3.9014    -3.2975    -2.6935    -2.2406     -1.5611    -0.73073    -0.051296    0.32616    0.55264    0.9301    1.4585    2.4399    4.5537    7.2714
    cl_mt_pol_coh     0.25798     2.4685      9.5687         -6.4681    54.536          0    -4.496e-36    2.6367e-36    -5.9881    -5.3006     -4.062    -3.1222    -2.3956     -1.807    -1.3086    -0.51611     0.42826       1.2274     1.7408     2.0976     2.549    3.1619    4.2017    6.5856    9.5409
    cl_mt_pol_c        1.1974    0.34915      0.2916     -8.8818e-16    4.9887          0    -4.496e-36    2.6367e-36     0.2485    0.47534    0.67739    0.79941    0.86507    0.90703    0.94292      1.0375      1.1465       1.2905      1.433     1.4969    1.5856     1.679    1.8335    2.0846     2.339

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1     fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    _________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a       0.0088248     0.072808     0.30347     0.53915      0.71425      0.89122       1.0226       1.2119       1.3817       1.4387       1.4225       1.4022       1.3607       1.2982        1.1921      1.0592        1.0085  
    cl_mt_pol_coh      -0.02408     -0.22196    -0.93514     -1.6266      -2.1673      -2.5657      -2.8646      -3.2089      -3.2178      -2.7184      -2.1575       -1.772      -1.3324     -0.79669     -0.091252     0.69601       0.95876  
    cl_mt_pol_c      0.00015779    0.0032696    0.023383     0.05486     0.090126      0.12691      0.16557      0.24794      0.38607      0.53767      0.65058      0.71184      0.77665      0.84428       0.91755     0.98178       0.99799  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.025
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.705121 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
Elapsed time is 0.728139 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -17.697                         0.0012431            
          1                  -17.606                          0.011823            
          5                  -17.425                          0.088168            
         10                  -17.334                           0.12056            
         15                  -17.153                           0.19767            
         20                  -17.062                           0.23008            
         25                  -16.972                           0.27968            
         35                  -16.609                           0.40355            
         50                  -16.156                           0.54863            
         65                  -15.431                           0.70525            
         75                  -14.887                           0.79308            
         80                  -14.434                           0.84342            
         85                  -13.981                           0.88248            
         90                  -13.256                           0.92792            
         95                  -12.078                           0.96801            
         99                  -9.5405                           0.99504            
       99.9                  -6.4593                           0.99967            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -17.547                          0.0013116            
          1                   -17.352                           0.011962            
          5                   -17.045                           0.060444            
         10                   -16.806                            0.11578            
         15                   -16.609                             0.1752            
         20                   -16.423                            0.22884            
         25                   -16.237                            0.28507            
         35                   -15.865                            0.39277            
         50                   -15.258                            0.55259            
         65                   -14.487                            0.70379            
         75                   -13.772                            0.79961            
         80                   -13.311                            0.84478            
         85                    -12.75                            0.88951            
         90                   -12.007                            0.93081            
         95                    -10.71                            0.96941            
         99                     -7.96                            0.99564            
       99.9                   -4.5731                            0.99978            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                 0.072819                         7.976e-05            
          1                  0.19937                         0.0015888            
          5                  0.35182                          0.017196            
         10                  0.47501                          0.043631            
         15                  0.57017                           0.07066            
         20                  0.61904                           0.10438            
         25                  0.68118                           0.14315            
         35                  0.78206                           0.22221            
         50                  0.89534                           0.36496            
         65                   1.0143                           0.52122            
         75                   1.0959                           0.63742            
         80                   1.1447                           0.70096            
         85                    1.207                            0.7667            
         90                   1.2885                            0.8365            
         95                   1.4119                           0.91231            
         99                    1.642                           0.98018            
       99.9                   1.9158                           0.99779            

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max        pYis0        pYisMINY     pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65        p75        p80        p85        p90        p95        p99       p99_9 
                     _______    _______    _________    _______    ______    __________    __________    ________    ________    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______

    cl_mt_pol_a      -15.632     1.7575    -0.11243     -17.787    49.366    1.8816e-07    5.8379e-54       0         -17.697    -17.606    -17.425    -17.334    -17.153    -17.062    -16.972    -16.609    -16.156    -15.431    -14.887    -14.434    -13.981    -13.256    -12.078    -9.5405    -6.4593
    cl_mt_pol_coh    -14.742     2.0345    -0.13801     -17.787    54.536             0    2.5527e-54       0         -17.547    -17.352    -17.045    -16.806    -16.609    -16.423    -16.237    -15.865    -15.258    -14.487    -13.772    -13.311     -12.75    -12.007     -10.71      -7.96    -4.5731
    cl_mt_pol_c       0.8895    0.31119     0.34984           0    5.1702    2.5527e-54    2.5527e-54       0        0.072819    0.19937    0.35182    0.47501    0.57017    0.61904    0.68118    0.78206    0.89534     1.0143     1.0959     1.1447      1.207     1.2885     1.4119      1.642     1.9158

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1     fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    _________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a      0.0012431      0.011823    0.088168     0.12056      0.19767      0.23008      0.27968      0.40355      0.54863      0.70525      0.79308      0.84342      0.88248      0.92792      0.96801      0.99504       0.99967  
    cl_mt_pol_coh    0.0013116      0.011962    0.060444     0.11578       0.1752      0.22884      0.28507      0.39277      0.55259      0.70379      0.79961      0.84478      0.88951      0.93081      0.96941      0.99564       0.99978  
    cl_mt_pol_c      7.976e-05     0.0015888    0.017196    0.043631      0.07066      0.10438      0.14315      0.22221      0.36496      0.52122      0.63742      0.70096       0.7667       0.8365      0.91231      0.98018       0.99779  

xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 0.168368 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -17.697                         0.0012471            
          1                  -17.606                          0.011863            
          5                  -17.425                          0.088401            
         10                  -17.334                           0.12086            
         15                  -17.153                           0.19809            
         20                  -17.062                           0.23054            
         25                  -16.972                           0.28021            
         35                  -16.609                           0.40418            
         50                  -16.156                           0.54931            
         65                  -15.431                           0.70586            
         75                  -14.887                            0.7936            
         80                  -14.434                           0.84387            
         85                  -13.981                           0.88285            
         90                  -13.256                           0.92819            
         95                  -12.078                           0.96815            
         99                  -9.5405                           0.99507            
       99.9                  -6.4593                           0.99967            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -17.547                          0.0013158            
          1                   -17.362                           0.011852            
          5                   -17.045                           0.060589            
         10                   -16.806                            0.11604            
         15                   -16.609                            0.17554            
         20                   -16.423                            0.22926            
         25                   -16.237                            0.28555            
         35                   -15.865                            0.39335            
         50                   -15.258                            0.55323            
         65                   -14.487                            0.70437            
         75                   -13.772                             0.8001            
         80                   -13.311                            0.84521            
         85                   -12.754                            0.88882            
         90                   -12.007                            0.93062            
         95                    -10.71                            0.96954            
         99                   -7.9847                            0.99562            
       99.9                   -4.5794                            0.99978            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                 0.072819                         8.0059e-05           
          1                  0.19711                           0.001569           
          5                  0.35182                            0.01724           
         10                  0.47383                           0.040706           
         15                  0.57017                           0.070785           
         20                  0.61904                            0.10458           
         25                  0.68118                            0.14337           
         35                  0.78206                            0.22253           
         50                  0.89534                             0.3654           
         65                   1.0143                             0.5217           
         75                   1.0959                            0.63791           
         80                   1.1446                            0.70039           
         85                    1.207                             0.7671           
         90                   1.2885                             0.8368           
         95                   1.4108                            0.91235           
         99                   1.6416                            0.98016           
       99.9                   1.9156                            0.99776           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max         pYis0        pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65        p75        p80        p85        p90        p95        p99       p99_9 
                     _______    _______    _________    _______    ______    ___________    ___________    __________    ________    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______

    cl_mt_pol_a      -15.635     1.7554    -0.11228     -17.787    49.366     1.8451e-07    -2.0691e-35    6.7487e-36     -17.697    -17.606    -17.425    -17.334    -17.153    -17.062    -16.972    -16.609    -16.156    -15.431    -14.887    -14.434    -13.981    -13.256    -12.078    -9.5405    -6.4593
    cl_mt_pol_coh    -14.746     2.0324    -0.13783     -17.787    54.536              0    -6.9688e-36    6.7487e-36     -17.547    -17.362    -17.045    -16.806    -16.609    -16.423    -16.237    -15.865    -15.258    -14.487    -13.772    -13.311    -12.754    -12.007     -10.71    -7.9847    -4.5794
    cl_mt_pol_c      0.88913    0.31113     0.34992           0    5.1702    -6.9688e-36    -6.9688e-36    6.7487e-36    0.072819    0.19711    0.35182    0.47383    0.57017    0.61904    0.68118    0.78206    0.89534     1.0143     1.0959     1.1446      1.207     1.2885     1.4108     1.6416     1.9156

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1    fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    ________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a       0.0012471    0.011863    0.088401     0.12086      0.19809      0.23054      0.28021      0.40418      0.54931      0.70586       0.7936      0.84387      0.88285      0.92819      0.96815      0.99507       0.99967  
    cl_mt_pol_coh     0.0013158    0.011852    0.060589     0.11604      0.17554      0.22926      0.28555      0.39335      0.55323      0.70437       0.8001      0.84521      0.88882      0.93062      0.96954      0.99562       0.99978  
    cl_mt_pol_c      8.0059e-05    0.001569     0.01724    0.040706     0.070785      0.10458      0.14337      0.22253       0.3654       0.5217      0.63791      0.70039       0.7671       0.8368      0.91235      0.98016       0.99776  

</pre><h2 id="2">Test Borrowing Interest Rates, No Default, More Accurate</h2><p>Identical to above, but now increase grid sizes to be more accurate, as we change interest rate, perhaps the lower interest rate problems are less accurate because choice grid is larger and choice grid points have not increased.</p><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

it_size = 5;

<span class="comment">% default or not</span>
bl_default = false;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
<span class="comment">% cmin</span>
fl_c_min = 0.001;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.001, 0.005, it_size);
ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
<span class="comment">% borrow bound</span>
fl_b_bd = -20;
ar_fl_b_bd = [-20, -15, -10];
ar_fl_b_bd = linspace(-20, 0, it_size);
ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
<span class="comment">% fl_r_borr</span>
fl_r_borr = 0.035;
ar_fl_r_borr = [-999, -999, -999];
ar_fl_r_borr = linspace(0.20, 0.025, it_size);
<span class="comment">% ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;</span>

<span class="comment">% other parameters</span>
it_a_n = 1500;
it_z_n = 21;
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

<span class="comment">% Simulate Model</span>

<span class="keyword">for</span> it_cur_param = 1:1:length(ar_bl_default)

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'ar_bl_default = '</span> num2str(ar_bl_default(it_cur_param))]);
    disp([<span class="string">'ar_fl_c_min = '</span> num2str(ar_fl_c_min(it_cur_param))]);
    disp([<span class="string">'ar_fl_b_bd = '</span> num2str(ar_fl_b_bd(it_cur_param))]);
    disp([<span class="string">'ar_fl_r_borr = '</span> num2str(ar_fl_r_borr(it_cur_param))]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = ar_bl_default(it_cur_param);
    param_map(<span class="string">'fl_c_min'</span>) = ar_fl_c_min(it_cur_param);
    param_map(<span class="string">'fl_b_bd'</span>) = ar_fl_b_bd(it_cur_param);

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = ar_fl_r_borr(it_cur_param);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;
    param_map(<span class="string">'fl_beta'</span>) = fl_beta;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    support_map(<span class="string">'bl_graph_funcgrids'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution'</span>);
<span class="comment">%     result_map = ff_az_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);</span>
    <span class="comment">% Call Distribution CProgram</span>
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution'</span>);
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 7.809746 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 1.612614 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   -0.3434                       -0.00062531           
          1                  -0.13422                        -0.0029149           
          5                 -0.029625                        -0.0053521           
         10                         0                        -0.0053521           
         15                         0                        -0.0053521           
         20                 0.0052388                        -0.0050773           
         25                  0.040103                        -0.0018306           
         35                   0.10983                         0.0063932           
         50                   0.35388                          0.051566           
         65                   0.73738                           0.15004           
         75                    1.1209                           0.26012           
         80                    1.3998                           0.33939           
         85                    1.7833                           0.44135           
         90                    2.2714                           0.55825           
         95                    3.1778                           0.72408           
         99                    5.2697                             0.922           
       99.9                    7.8845                           0.98906           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   0.20048                          3.8521e-05           
          1                   0.48175                           0.0017822           
          5                   0.70528                            0.013517           
         10                   0.81659                            0.032332           
         15                   0.93765                             0.05553           
         20                     1.031                            0.076724           
         25                    1.1034                             0.10335           
         35                    1.3178                             0.15967           
         50                    1.6645                             0.26563           
         65                    2.1648                             0.40034           
         75                    2.6439                             0.51318           
         80                    2.9666                             0.57938           
         85                    3.3943                             0.65517           
         90                    3.9975                             0.74245           
         95                     5.027                             0.84761           
         99                    7.3207                             0.95929           
       99.9                    10.203                             0.99465           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.49507                         0.00040098           
          1                  0.60827                          0.0048716           
          5                  0.73403                           0.031599           
         10                  0.81659                            0.05637           
         15                  0.90191                           0.089412           
         20                  0.99083                            0.12586           
         25                    1.065                            0.16692           
         35                   1.1701                            0.25246           
         50                   1.3045                            0.39532           
         65                   1.4285                            0.55198           
         75                   1.5319                            0.66701           
         80                    1.591                            0.72609           
         85                   1.6582                            0.78822           
         90                   1.7363                            0.85359           
         95                   1.8717                             0.9226           
         99                   2.1114                            0.98292           
       99.9                   2.3623                            0.99812           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar     min       max         pYis0        pYisMINY      pYisMAXY      p0_1         p1          p5          p10        p15         p20         p25         p35        p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    ______    ______    ___________    ___________    _________    _______    ________    _________    _______    _______    _________    ________    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.80818     1.1507      1.4238     -2.226    49.582        0.12729    -1.0668e-34    4.722e-35    -0.3434    -0.13422    -0.029625          0          0    0.0052388    0.040103    0.10983    0.35388    0.73738    1.1209    1.3998    1.7833    2.2714    3.1778    5.2697    7.8845
    cl_mt_pol_coh     2.1076     1.4388     0.68264     -2.226     54.54              0    -1.0668e-34    4.722e-35    0.20048     0.48175      0.70528    0.81659    0.93765        1.031      1.1034     1.3178     1.6645     2.1648    2.6439    2.9666    3.3943    3.9975     5.027    7.3207    10.203
    cl_mt_pol_c       1.2994    0.34226     0.26339          0     4.958    -1.0668e-34    -1.0668e-34    4.722e-35    0.49507     0.60827      0.73403    0.81659    0.90191      0.99083       1.065     1.1701     1.3045     1.4285    1.5319     1.591    1.6582    1.7363    1.8717    2.1114    2.3623

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1      fracByP1      fracByP5     fracByP10     fracByP15     fracByP20     fracByP25     fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     ___________    __________    __________    __________    __________    __________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a      -0.00062531    -0.0029149    -0.0053521    -0.0053521    -0.0053521    -0.0050773    -0.0018306    0.0063932    0.051566      0.15004      0.26012      0.33939      0.44135      0.55825      0.72408        0.922       0.98906  
    cl_mt_pol_coh     3.8521e-05     0.0017822      0.013517      0.032332       0.05553      0.076724       0.10335      0.15967     0.26563      0.40034      0.51318      0.57938      0.65517      0.74245      0.84761      0.95929       0.99465  
    cl_mt_pol_c       0.00040098     0.0048716      0.031599       0.05637      0.089412       0.12586       0.16692      0.25246     0.39532      0.55198      0.66701      0.72609      0.78822      0.85359       0.9226      0.98292       0.99812  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.15625
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 6.921990 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 1.801120 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -0.90894                        -0.0016117           
          1                  -0.41503                        -0.0082126           
          5                  -0.13279                         -0.019398           
         10                 -0.026946                          -0.02348           
         15                         0                          -0.02348           
         20                         0                          -0.02348           
         25                 0.0083337                         -0.023032           
         35                   0.11417                         -0.011639           
         50                   0.32585                           0.02717           
         65                   0.71393                           0.12645           
         75                     1.102                           0.23954           
         80                    1.3843                           0.32144           
         85                    1.7371                           0.41923           
         90                    2.2662                           0.54912           
         95                    3.1835                           0.71912           
         99                    5.2298                           0.91838           
       99.9                    7.8758                           0.98873           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                    -0.346                          -0.0003006           
          1                   0.24347                          -5.563e-05           
          5                   0.62128                           0.0095826           
         10                   0.81122                            0.031702           
         15                   0.89654                            0.049091           
         20                   0.99083                            0.070826           
         25                     1.095                            0.097629           
         35                    1.2911                             0.15463           
         50                    1.6421                             0.25838           
         65                    2.1416                             0.39414           
         75                    2.6279                             0.50797           
         80                    2.9533                             0.57498           
         85                    3.3779                             0.65141           
         90                    3.9837                             0.73951           
         95                    5.0053                             0.84603           
         99                    7.3088                             0.95881           
       99.9                    10.184                             0.99459           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.52699                         0.00040376           
          1                  0.62482                          0.0045051           
          5                  0.73866                           0.025625           
         10                  0.81122                            0.05784           
         15                  0.89654                           0.091183           
         20                  0.99083                            0.13434           
         25                   1.0545                            0.16443           
         35                   1.1711                            0.25233           
         50                   1.3042                            0.39625           
         65                   1.4303                            0.55132           
         75                   1.5287                            0.66661           
         80                   1.5915                            0.72652           
         85                   1.6559                            0.78876           
         90                   1.7368                            0.85318           
         95                   1.8667                             0.9225           
         99                   2.1097                            0.98289           
       99.9                   2.3594                            0.99812           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max         pYis0        pYisMINY       pYisMAXY       p0_1         p1          p5          p10         p15        p20         p25         p35        p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    ___________    ___________    __________    ________    ________    ________    _________    _______    _______    _________    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.7807       1.16      1.4858     -2.8493    49.577        0.11243    -2.9319e-34    6.9322e-35    -0.90894    -0.41503    -0.13279    -0.026946          0          0    0.0083337    0.11417    0.32585    0.71393     1.102    1.3843    1.7371    2.2662    3.1835    5.2298    7.8758
    cl_mt_pol_coh    2.0778     1.4519     0.69877     -2.8493     54.54              0    -2.9319e-34    6.9322e-35      -0.346     0.24347     0.62128      0.81122    0.89654    0.99083        1.095     1.2911     1.6421     2.1416    2.6279    2.9533    3.3779    3.9837    5.0053    7.3088    10.184
    cl_mt_pol_c      1.2971    0.34289     0.26435           0     4.963    -2.9319e-34    -2.9319e-34    6.9322e-35     0.52699     0.62482     0.73866      0.81122    0.89654    0.99083       1.0545     1.1711     1.3042     1.4303    1.5287    1.5915    1.6559    1.7368    1.8667    2.1097    2.3594

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1     fracByP1     fracByP5     fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a      -0.0016117    -0.0082126    -0.019398    -0.02348     -0.02348     -0.02348     -0.023032    -0.011639     0.02717      0.12645      0.23954      0.32144      0.41923      0.54912      0.71912      0.91838       0.98873  
    cl_mt_pol_coh    -0.0003006    -5.563e-05    0.0095826    0.031702     0.049091     0.070826      0.097629      0.15463     0.25838      0.39414      0.50797      0.57498      0.65141      0.73951      0.84603      0.95881       0.99459  
    cl_mt_pol_c      0.00040376     0.0045051     0.025625     0.05784     0.091183      0.13434       0.16443      0.25233     0.39625      0.55132      0.66661      0.72652      0.78876      0.85318       0.9225      0.98289       0.99812  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.1125
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 6.500896 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 1.417659 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                   -2.6247                        -0.0050269           
          1                   -1.5081                         -0.032909           
          5                  -0.71565                          -0.10188           
         10                  -0.39147                          -0.14507           
         15                  -0.21138                          -0.16857           
         20                  -0.10332                           -0.1795           
         25                 -0.031277                          -0.18331           
         35                  0.040762                          -0.18105           
         50                   0.25688                          -0.14616           
         65                    0.6531                         -0.035386           
         75                    1.0133                          0.083669           
         80                    1.3014                           0.18013           
         85                    1.6616                           0.29751           
         90                    2.2019                           0.45447           
         95                    3.1024                           0.65666           
         99                    5.1556                           0.89965           
       99.9                     7.785                           0.98599           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -2.0955                          -0.0013311           
          1                  -0.83181                          -0.0072181           
          5                  0.058081                           -0.013028           
         10                    0.4588                          -0.0055165           
         15                   0.67967                            0.009429           
         20                   0.83582                            0.030186           
         25                   0.97505                            0.053584           
         35                    1.1859                             0.10937           
         50                    1.5568                             0.21867           
         65                    2.0459                             0.35707           
         75                    2.5442                             0.47677           
         80                    2.8582                             0.54704           
         85                    3.2911                             0.62735           
         90                    3.8831                             0.72072           
         95                    4.9166                             0.83458           
         99                    7.2059                             0.95559           
       99.9                    10.107                             0.99416           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.50334                         0.00034773           
          1                  0.63574                          0.0045067           
          5                  0.76945                           0.026958           
         10                  0.83734                           0.058858           
         15                  0.88993                           0.091831           
         20                  0.93268                             0.1275           
         25                  0.99569                             0.1657           
         35                   1.1321                            0.25212           
         50                   1.2933                            0.39006           
         65                   1.4261                            0.54825           
         75                   1.5213                            0.66324           
         80                   1.5881                            0.72356           
         85                   1.6489                            0.78649           
         90                   1.7373                             0.8521           
         95                   1.8564                            0.92199           
         99                   2.1058                            0.98276           
       99.9                   2.3653                            0.99811           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar        min         max       pYis0       pYisMINY      pYisMAXY       p0_1         p1          p5         p10         p15         p20          p25         p35         p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    ___________    ______    ________    __________    ___________    _______    ________    ________    ________    ________    ________    _________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.62407     1.2382      1.9841         -3.9574    49.568    0.059461    4.8278e-35    -6.3937e-35    -2.6247     -1.5081    -0.71565    -0.39147    -0.21138    -0.10332    -0.031277    0.040762    0.25688    0.6531    1.0133    1.3014    1.6616    2.2019    3.1024    5.1556     7.785
    cl_mt_pol_coh     1.9097     1.5434     0.80821         -3.9574     54.54           0    4.8278e-35    -6.3937e-35    -2.0955    -0.83181    0.058081      0.4588     0.67967     0.83582      0.97505      1.1859     1.5568    2.0459    2.5442    2.8582    3.2911    3.8831    4.9166    7.2059    10.107
    cl_mt_pol_c       1.2856    0.34384     0.26746     -4.4409e-16    4.9719           0    4.8278e-35    -6.3937e-35    0.50334     0.63574     0.76945     0.83734     0.88993     0.93268      0.99569      1.1321     1.2933    1.4261    1.5213    1.5881    1.6489    1.7373    1.8564    2.1058    2.3653

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1     fracByP1     fracByP5     fracByP10     fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    __________    _________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a      -0.0050269     -0.032909     -0.10188      -0.14507    -0.16857      -0.1795     -0.18331     -0.18105     -0.14616     -0.035386    0.083669      0.18013      0.29751      0.45447      0.65666      0.89965       0.98599  
    cl_mt_pol_coh    -0.0013311    -0.0072181    -0.013028    -0.0055165    0.009429     0.030186     0.053584      0.10937      0.21867       0.35707     0.47677      0.54704      0.62735      0.72072      0.83458      0.95559       0.99416  
    cl_mt_pol_c      0.00034773     0.0045067     0.026958      0.058858    0.091831       0.1275       0.1657      0.25212      0.39006       0.54825     0.66324      0.72356      0.78649       0.8521      0.92199      0.98276       0.99811  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.06875
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 6.704754 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 1.208370 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                    -6.325                        0.0068679            
          1                   -5.9103                         0.061459            
          5                   -4.8169                          0.28063            
         10                   -3.9875                          0.50207            
         15                   -3.3466                          0.68183            
         20                   -2.8188                          0.84018            
         25                   -2.3664                          0.97274            
         35                   -1.6124                           1.1662            
         50                  -0.74526                           1.3383            
         65                 -0.066642                           1.3954            
         75                   0.27267                           1.3854            
         80                   0.53657                           1.3647            
         85                   0.91358                           1.3267            
         90                    1.4037                           1.2728            
         95                    2.3462                           1.1783            
         99                    4.4198                           1.0559            
       99.9                    7.0965                           1.0081            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -6.0326                          -0.031022            
          1                   -5.3811                           -0.28835            
          5                   -4.1307                            -1.2268            
         10                   -3.1723                            -2.1393            
         15                   -2.4693                            -2.8397            
         20                   -1.9009                             -3.388            
         25                   -1.3995                            -3.8015            
         35                  -0.57122                            -4.2868            
         50                   0.41371                              -4.33            
         65                    1.1813                            -3.7222            
         75                     1.717                            -3.0015            
         80                     2.042                            -2.5285            
         85                     2.468                            -1.9659            
         90                    3.0741                            -1.2781            
         95                    4.1158                           -0.38858            
         99                    6.4474                            0.61212            
       99.9                    9.3712                            0.94746            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.24018                         0.00015111           
          1                  0.48244                          0.0032252           
          5                  0.69386                           0.023621           
         10                  0.79394                           0.054936           
         15                  0.85459                           0.089693           
         20                  0.91792                            0.12664           
         25                  0.95919                            0.16602           
         35                    1.028                             0.2493           
         50                   1.1394                             0.3863           
         65                     1.29                            0.53834           
         75                   1.4254                            0.65034           
         80                   1.5046                            0.71164           
         85                   1.5823                            0.77685           
         90                   1.6774                            0.84481           
         95                   1.8174                            0.91755           
         99                   2.0739                            0.98172           
       99.9                    2.318                            0.99798           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar        min         max       pYis0       pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65         p75        p80        p85       p90       p95       p99      p99_9 
                     _______    _______    _________    ___________    ______    ________    __________    ___________    _______    _______    _______    _______    _______    _______    _______    ________    ________    _________    _______    _______    _______    ______    ______    ______    ______

    cl_mt_pol_a      -0.9951     2.1432     -2.1538         -6.4758    49.585    0.013624    2.4561e-34    -3.0397e-35     -6.325    -5.9103    -4.8169    -3.9875    -3.3466    -2.8188    -2.3664     -1.6124    -0.74526    -0.066642    0.27267    0.53657    0.91358    1.4037    2.3462    4.4198    7.0965
    cl_mt_pol_coh    0.19926     2.4678      12.385         -6.4758     54.54           0    2.4561e-34    -3.0397e-35    -6.0326    -5.3811    -4.1307    -3.1723    -2.4693    -1.9009    -1.3995    -0.57122     0.41371       1.1813      1.717      2.042      2.468    3.0741    4.1158    6.4474    9.3712
    cl_mt_pol_c       1.1944    0.34614     0.28981     -8.8818e-16    4.9544           0    2.4561e-34    -3.0397e-35    0.24018    0.48244    0.69386    0.79394    0.85459    0.91792    0.95919       1.028      1.1394         1.29     1.4254     1.5046     1.5823    1.6774    1.8174    2.0739     2.318

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1     fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    _________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a       0.0068679     0.061459     0.28063     0.50207      0.68183      0.84018      0.97274       1.1662      1.3383        1.3954       1.3854       1.3647       1.3267       1.2728       1.1783       1.0559        1.0081  
    cl_mt_pol_coh     -0.031022     -0.28835     -1.2268     -2.1393      -2.8397       -3.388      -3.8015      -4.2868       -4.33       -3.7222      -3.0015      -2.5285      -1.9659      -1.2781     -0.38858      0.61212       0.94746  
    cl_mt_pol_c      0.00015111    0.0032252    0.023621    0.054936     0.089693      0.12664      0.16602       0.2493      0.3863       0.53834      0.65034      0.71164      0.77685      0.84481      0.91755      0.98172       0.99798  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.025
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 6.453281 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 0.857624 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -17.718                         0.0021387            
          1                  -17.673                          0.013702            
          5                  -17.537                          0.077394            
         10                  -17.446                           0.11897            
         15                   -17.31                           0.18267            
         20                   -17.22                           0.22093            
         25                  -17.084                           0.28075            
         35                  -16.813                           0.38261            
         50                  -16.269                           0.55205            
         65                  -15.636                           0.69684            
         75                  -15.047                           0.79122            
         80                   -14.64                           0.84001            
         85                  -14.187                            0.8809            
         90                  -13.463                           0.92661            
         95                  -12.331                           0.96659            
         99                  -9.8868                           0.99465            
       99.9                  -6.7635                           0.99965            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -17.623                          0.0012416            
          1                   -17.431                            0.01201            
          5                   -17.148                           0.059396            
         10                   -16.932                            0.11577            
         15                   -16.741                            0.17307            
         20                   -16.567                            0.22751            
         25                   -16.381                            0.28383            
         35                   -16.023                            0.39189            
         50                   -15.419                            0.54937            
         65                   -14.653                             0.7009            
         75                   -13.975                            0.79707            
         80                   -13.529                            0.84318            
         85                   -12.983                             0.8875            
         90                   -12.222                            0.92989            
         95                   -10.969                            0.96884            
         99                   -8.2742                            0.99545            
       99.9                   -4.9131                            0.99976            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                 0.054436                         5.4961e-05           
          1                  0.20668                          0.0018182           
          5                   0.3884                            0.01638           
         10                  0.49365                           0.040834           
         15                  0.55771                           0.071203           
         20                  0.61362                            0.10546           
         25                   0.6668                            0.14329           
         35                  0.76779                            0.22263           
         50                  0.87955                            0.36237           
         65                  0.99525                            0.52045           
         75                   1.0852                            0.63847           
         80                   1.1393                             0.7012           
         85                   1.2027                            0.76746           
         90                   1.2776                            0.83735           
         95                   1.4021                            0.91281           
         99                   1.6275                            0.98026           
       99.9                   1.8962                            0.99778           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar       min         max        pYis0        pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65        p75        p80        p85        p90        p95        p99       p99_9 
                     _______    _______    _________    __________    ______    __________    __________    __________    ________    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______

    cl_mt_pol_a      -15.801     1.7211    -0.10892        -17.808    49.412    3.8121e-08    -3.984e-34    9.4412e-35     -17.718    -17.673    -17.537    -17.446     -17.31     -17.22    -17.084    -16.813    -16.269    -15.636    -15.047     -14.64    -14.187    -13.463    -12.331    -9.8868    -6.7635
    cl_mt_pol_coh    -14.917     1.9953    -0.13376        -17.808     54.54             0    -3.984e-34    9.4412e-35     -17.623    -17.431    -17.148    -16.932    -16.741    -16.567    -16.381    -16.023    -15.419    -14.653    -13.975    -13.529    -12.983    -12.222    -10.969    -8.2742    -4.9131
    cl_mt_pol_c      0.88496    0.30778     0.34778     3.5527e-15    5.1281             0    -3.984e-34    9.4412e-35    0.054436    0.20668     0.3884    0.49365    0.55771    0.61362     0.6668    0.76779    0.87955    0.99525     1.0852     1.1393     1.2027     1.2776     1.4021     1.6275     1.8962

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1     fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    _________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a       0.0021387     0.013702    0.077394     0.11897      0.18267      0.22093      0.28075      0.38261      0.55205      0.69684      0.79122      0.84001       0.8809      0.92661      0.96659      0.99465       0.99965  
    cl_mt_pol_coh     0.0012416      0.01201    0.059396     0.11577      0.17307      0.22751      0.28383      0.39189      0.54937       0.7009      0.79707      0.84318       0.8875      0.92989      0.96884      0.99545       0.99976  
    cl_mt_pol_c      5.4961e-05    0.0018182     0.01638    0.040834     0.071203      0.10546      0.14329      0.22263      0.36237      0.52045      0.63847       0.7012      0.76746      0.83735      0.91281      0.98026       0.99778  

</pre><h2 id="3">Test Borrowing Bounds with Defaults</h2><p>Borrowing could now go to the borrowing bound, which is the point of default. Note the fraction of households at <b>pYisMINY</b>, unlike in the exercise above is no longer 0, but potentially a positive mass. The households at these points are defaulting. A crucial parameter that controls default is <i>fl_c_min</i>, what is the u(c) utility today when households defualt? If this is very low, then even if default is allowed, it will not be an option taken by anyone, and <b>pYisMINY</b> will be zero. Note here that changing the borrowing bound is also impactful. When the borrowing bound is tight, with default allowed, households are unwilling to default, this is because if you are forced to get u(c_min) having not borrowed much, so borrowing is not worth-while.</p><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

it_size = 3;

<span class="comment">% default or not</span>
bl_default = true;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
<span class="comment">% cmin</span>
fl_c_min = 0.025;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.001, 0.005, it_size);
ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
<span class="comment">% borrow bound</span>
fl_b_bd = -20;
ar_fl_b_bd = [-20, -15, -10];
ar_fl_b_bd = linspace(-20, -5, it_size);
<span class="comment">% ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;</span>
<span class="comment">% fl_r_borr</span>
fl_r_borr = 0.10;
ar_fl_r_borr = [-999, -999, -999];
<span class="comment">% ar_cur_param_fur = linspace(0.20, 0.025, it_size);</span>
ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;

<span class="comment">% other parameters</span>
it_a_n = 750;
it_z_n = 15;
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

<span class="comment">% Simulate Model with Discount = 0.85</span>

<span class="keyword">for</span> it_cur_param = 1:1:length(ar_bl_default)

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'ar_bl_default = '</span> num2str(ar_bl_default(it_cur_param))]);
    disp([<span class="string">'ar_fl_c_min = '</span> num2str(ar_fl_c_min(it_cur_param))]);
    disp([<span class="string">'ar_fl_b_bd = '</span> num2str(ar_fl_b_bd(it_cur_param))]);
    disp([<span class="string">'ar_fl_r_borr = '</span> num2str(ar_fl_r_borr(it_cur_param))]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = ar_bl_default(it_cur_param);
    param_map(<span class="string">'fl_c_min'</span>) = ar_fl_c_min(it_cur_param);
    param_map(<span class="string">'fl_b_bd'</span>) = ar_fl_b_bd(it_cur_param);

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = ar_fl_r_borr(it_cur_param);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;
    param_map(<span class="string">'fl_beta'</span>) = fl_beta;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    support_map(<span class="string">'bl_graph_funcgrids'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution'</span>);
    result_map = ff_az_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="comment">% Call Distribution CProgram</span>
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution'</span>);
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);


    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 1
ar_fl_c_min = 0.025
ar_fl_b_bd = -20
ar_fl_r_borr = 0.1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.530333 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
Elapsed time is 0.557302 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                      -20                          0.15748             
          1                      -20                          0.15748             
          5                  -16.075                          0.30721             
         10                  -12.243                          0.54077             
         15                  -9.0654                          0.71119             
         20                  -6.5421                          0.84076             
         25                  -4.6729                          0.93128             
         35                   -2.243                           1.0389             
         50                 -0.56075                           1.1047             
         65                        0                           1.1144             
         75                  0.18692                           1.1119             
         80                  0.46729                           1.1053             
         85                  0.74766                           1.0963             
         90                    1.215                           1.0824             
         95                   2.1495                           1.0542             
         99                   4.2056                           1.0174             
       99.9                   6.9159                           1.0025             

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -21.408                           0.010907            
          1                   -20.952                            0.12454            
          5                   -16.278                            0.46215            
         10                   -12.259                            0.80389            
         15                   -8.7733                             1.0527            
         20                   -6.0903                             1.2294            
         25                   -4.0262                             1.3493            
         35                   -1.3613                               1.47            
         50                   0.43104                             1.4922            
         65                    1.2088                             1.4233            
         75                    1.6226                             1.3623            
         80                    1.9513                             1.3187            
         85                    2.3345                             1.2688            
         90                    2.9093                             1.2076            
         95                    3.9076                             1.1271            
         99                    6.2597                             1.0361            
       99.9                    9.2293                             1.0049            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -21.408                         -0.023998            
          1                  -20.952                          -0.27403            
          5                   1.1693                          -0.49215            
         10                   1.1901                          -0.42684            
         15                   1.2088                          -0.35106            
         20                   1.2262                           -0.3015            
         25                    1.244                          -0.23777            
         35                   1.3092                          -0.10086            
         50                   1.4396                           0.11355            
         65                   1.5597                           0.35095            
         75                   1.6373                            0.5197            
         80                   1.6756                            0.6076            
         85                   1.7415                           0.69662            
         90                   1.8049                           0.78986            
         95                   1.9397                           0.88836            
         99                   2.2348                           0.97494            
       99.9                   2.6841                           0.99737            

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0       pYisMINY     pYisMAXY     p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65        p75        p80        p85       p90       p95       p99      p99_9 
                     _______    ______    _________    _______    ______    ________    __________    ________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ______    _______    _______    _______    ______    ______    ______    ______

    cl_mt_pol_a      -3.0419    5.5348     -1.8195         -20    49.533    0.081239      0.023952       0            -20        -20    -16.075    -12.243    -9.0654    -6.5421    -4.6729     -2.243    -0.56075         0    0.18692    0.46729    0.74766     1.215    2.1495    4.2056    6.9159
    cl_mt_pol_coh    -2.0914    6.1691     -2.9498     -21.555    54.536           0    0.00011312       0        -21.408    -20.952    -16.278    -12.259    -8.7733    -6.0903    -4.0262    -1.3613     0.43104    1.2088     1.6226     1.9513     2.3345    2.9093    3.9076    6.2597    9.2293
    cl_mt_pol_c      0.95053    3.4202      3.5983     -21.555    5.0031           0    0.00011312       0        -21.408    -20.952     1.1693     1.1901     1.2088     1.2262      1.244     1.3092      1.4396    1.5597     1.6373     1.6756     1.7415    1.8049    1.9397    2.2348    2.6841

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1    fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    ________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a        0.15748      0.15748     0.30721     0.54077      0.71119      0.84076      0.93128       1.0389       1.1047       1.1144      1.1119       1.1053        1.0963       1.0824       1.0542       1.0174        1.0025  
    cl_mt_pol_coh     0.010907      0.12454     0.46215     0.80389       1.0527       1.2294       1.3493         1.47       1.4922       1.4233      1.3623       1.3187        1.2688       1.2076       1.1271       1.0361        1.0049  
    cl_mt_pol_c      -0.023998     -0.27403    -0.49215    -0.42684     -0.35106      -0.3015     -0.23777     -0.10086      0.11355      0.35095      0.5197       0.6076       0.69662      0.78986      0.88836      0.97494       0.99737  

xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 0.362179 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                      -20                          0.15749             
          1                      -20                          0.15749             
          5                  -16.075                          0.30721             
         10                  -12.243                          0.54069             
         15                  -9.0654                          0.71099             
         20                  -6.5421                          0.84044             
         25                  -4.6729                          0.93085             
         35                   -2.243                           1.0383             
         50                 -0.56075                            1.104             
         65                        0                           1.1137             
         75                  0.18692                           1.1112             
         80                  0.37383                           1.1071             
         85                  0.74766                           1.0957             
         90                    1.215                           1.0818             
         95                   2.1495                           1.0537             
         99                   4.2056                           1.0172             
       99.9                   6.9159                           1.0025             

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -21.408                           0.01089             
          1                   -20.952                           0.12438             
          5                    -16.28                           0.46048             
         10                   -12.269                           0.80124             
         15                   -8.7753                            1.0497             
         20                   -6.1004                            1.2261             
         25                   -4.0342                            1.3457             
         35                   -1.3613                            1.4673             
         50                   0.43104                            1.4895             
         65                    1.2088                            1.4208             
         75                    1.6085                            1.3611             
         80                    1.9513                            1.3165             
         85                    2.3345                            1.2669             
         90                    2.9093                            1.2059             
         95                    3.9061                             1.127             
         99                    6.2597                            1.0356             
       99.9                     9.225                            1.0049             

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -21.408                         -0.024073            
          1                  -20.952                          -0.27496            
          5                   1.1693                          -0.49399            
         10                   1.1901                          -0.42857            
         15                   1.2088                          -0.35264            
         20                   1.2262                          -0.30299            
         25                    1.244                          -0.23916            
         35                   1.3092                          -0.10208            
         50                   1.4396                           0.11261            
         65                   1.5568                           0.35012            
         75                   1.6373                           0.51925            
         80                   1.6756                            0.6073            
         85                   1.7407                           0.69584            
         90                   1.8049                           0.78976            
         95                   1.9397                           0.88831            
         99                   2.2348                           0.97491            
       99.9                   2.6841                           0.99736            

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0       pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65        p75        p80        p85       p90       p95       p99      p99_9 
                     _______    ______    _________    _______    ______    ________    __________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ______    _______    _______    _______    ______    ______    ______    ______

    cl_mt_pol_a      -3.0477    5.5366     -1.8166         -20    49.533    0.081329         0.024    -2.6308e-31        -20        -20    -16.075    -12.243    -9.0654    -6.5421    -4.6729     -2.243    -0.56075         0    0.18692    0.37383    0.74766     1.215    2.1495    4.2056    6.9159
    cl_mt_pol_coh    -2.0985    6.1714     -2.9409     -21.555    54.536           0    0.00011331    -2.6308e-31    -21.408    -20.952     -16.28    -12.269    -8.7753    -6.1004    -4.0342    -1.3613     0.43104    1.2088     1.6085     1.9513     2.3345    2.9093    3.9061    6.2597     9.225
    cl_mt_pol_c      0.94924     3.424      3.6071     -21.555    5.0031           0    0.00011331    -2.6308e-31    -21.408    -20.952     1.1693     1.1901     1.2088     1.2262      1.244     1.3092      1.4396    1.5568     1.6373     1.6756     1.7407    1.8049    1.9397    2.2348    2.6841

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1    fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    ________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a        0.15749      0.15749     0.30721     0.54069      0.71099      0.84044      0.93085       1.0383        1.104       1.1137       1.1112      1.1071        1.0957       1.0818       1.0537       1.0172        1.0025  
    cl_mt_pol_coh      0.01089      0.12438     0.46048     0.80124       1.0497       1.2261       1.3457       1.4673       1.4895       1.4208       1.3611      1.3165        1.2669       1.2059        1.127       1.0356        1.0049  
    cl_mt_pol_c      -0.024073     -0.27496    -0.49399    -0.42857     -0.35264     -0.30299     -0.23916     -0.10208      0.11261      0.35012      0.51925      0.6073       0.69584      0.78976      0.88831      0.97491       0.99736  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 1
ar_fl_c_min = 0.025
ar_fl_b_bd = -12.5
ar_fl_r_borr = 0.1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.590626 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
Elapsed time is 0.585234 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                    -12.5                          0.61707             
          1                  -10.829                           1.0473             
          5                  -4.6457                           3.5155             
         10                  -2.0555                           4.8678             
         15                  -1.1364                            5.562             
         20                 -0.71858                           5.9342             
         25                 -0.46791                           6.1664             
         35                 -0.13369                           6.3885             
         50                  0.11698                           6.3475             
         65                   0.4512                           5.9803             
         75                  0.86898                           5.4324             
         80                   1.1197                           5.0508             
         85                   1.4539                           4.5342             
         90                   2.0388                           3.7506             
         95                   2.9579                           2.7489             
         99                   5.0468                           1.5156             
       99.9                   7.7206                            1.074             

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -12.963                          -0.017814            
          1                   -10.795                           -0.10923            
          5                   -4.0624                           -0.35821            
         10                   -1.3016                           -0.46652            
         15                  -0.29165                           -0.49969            
         20                   0.18083                            -0.5005            
         25                   0.51025                           -0.48415            
         35                    0.9008                           -0.41789            
         50                    1.3391                           -0.26419            
         65                    1.8529                          -0.052621            
         75                     2.328                            0.13828            
         80                    2.6606                            0.24861            
         85                    3.0888                             0.3785            
         90                    3.7025                             0.5324            
         95                    4.7545                            0.72027            
         99                    7.1142                            0.92423            
       99.9                    10.054                            0.98997            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -12.963                         -0.016106            
          1                  0.87814                         -0.054578            
          5                  0.91156                         -0.025345            
         10                  0.93663                          0.011778            
         15                  0.95929                          0.051385            
         20                  0.98691                          0.092514            
         25                   1.0283                           0.13607            
         35                    1.098                           0.21991            
         50                   1.2552                           0.36355            
         65                   1.4039                            0.5285            
         75                   1.5122                           0.64801            
         80                   1.5715                           0.71007            
         85                   1.6378                            0.7756            
         90                    1.734                           0.84655            
         95                   1.8543                           0.91828            
         99                   2.0909                            0.9819            
       99.9                   2.3395                             0.998            

tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd      coefofvar      min       max       pYis0       pYisMINY     pYisMAXY     p0_1        p1         p5         p10        p15         p20         p25         p35         p50       p65        p75       p80       p85       p90       p95       p99      p99_9 
                     ________    ______    _________    _______    ______    ________    __________    ________    _______    _______    _______    _______    ________    ________    ________    ________    _______    ______    _______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.11707    2.4379     -20.824       -12.5    49.582    0.045922     0.0057792       0          -12.5    -10.829    -4.6457    -2.0555     -1.1364    -0.71858    -0.46791    -0.13369    0.11698    0.4512    0.86898    1.1197    1.4539    2.0388    2.9579    5.0468    7.7206
    cl_mt_pol_coh      1.1044     2.803       2.538     -13.305    54.536           0    4.2493e-05       0        -12.963    -10.795    -4.0624    -1.3016    -0.29165     0.18083     0.51025      0.9008     1.3391    1.8529      2.328    2.6606    3.0888    3.7025    4.7545    7.1142    10.054
    cl_mt_pol_c        1.2215    1.0915     0.89361     -13.305    4.9536           0    4.2493e-05       0        -12.963    0.87814    0.91156    0.93663     0.95929     0.98691      1.0283       1.098     1.2552    1.4039     1.5122    1.5715    1.6378     1.734    1.8543    2.0909    2.3395

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1     fracByP5     fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a        0.61707        1.0473       3.5155      4.8678        5.562       5.9342       6.1664       6.3885       6.3475        5.9803      5.4324       5.0508      4.5342        3.7506       2.7489       1.5156         1.074  
    cl_mt_pol_coh    -0.017814      -0.10923     -0.35821    -0.46652     -0.49969      -0.5005     -0.48415     -0.41789     -0.26419     -0.052621     0.13828      0.24861      0.3785        0.5324      0.72027      0.92423       0.98997  
    cl_mt_pol_c      -0.016106     -0.054578    -0.025345    0.011778     0.051385     0.092514      0.13607      0.21991      0.36355        0.5285     0.64801      0.71007      0.7756       0.84655      0.91828       0.9819         0.998  

xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
Elapsed time is 0.346676 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                    -12.5                          0.59508             
          1                  -10.829                             1.01             
          5                  -4.7293                           3.3593             
         10                   -2.139                           4.6399             
         15                  -1.1364                           5.3479             
         20                 -0.71858                           5.7047             
         25                 -0.46791                            5.927             
         35                 -0.13369                           6.1398             
         50                  0.11698                           6.1006             
         65                   0.4512                           5.7493             
         75                  0.86898                           5.2255             
         80                   1.1197                            4.861             
         85                   1.4539                           4.3676             
         90                   2.0388                           3.6196             
         95                   2.9579                           2.6644             
         99                   5.0468                           1.4896             
       99.9                   7.7206                             1.07             

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -12.963                          -0.018041            
          1                   -10.795                           -0.11075            
          5                     -4.11                            -0.3613            
         10                   -1.3027                           -0.47159            
         15                  -0.29405                           -0.50506            
         20                   0.18083                           -0.50617            
         25                   0.51025                            -0.4897            
         35                    0.9008                           -0.42302            
         50                    1.3391                           -0.26839            
         65                    1.8529                          -0.055648            
         75                     2.328                             0.1362            
         80                    2.6606                              0.247            
         85                    3.0888                            0.37739            
         90                    3.6983                               0.53            
         95                    4.7441                            0.71902            
         99                    7.0884                            0.92369            
       99.9                     10.04                            0.98991            

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -12.963                         -0.016233            
          1                  0.87814                         -0.055117            
          5                  0.91156                         -0.025833            
         10                  0.93663                          0.011354            
         15                  0.95929                           0.05103            
         20                  0.98691                          0.092255            
         25                   1.0281                           0.13116            
         35                    1.098                           0.21989            
         50                   1.2539                           0.36332            
         65                   1.4039                           0.52883            
         75                   1.5122                           0.64834            
         80                   1.5715                           0.71041            
         85                   1.6361                           0.77575            
         90                   1.7339                           0.84457            
         95                   1.8531                           0.91785            
         99                   2.0908                           0.98182            
       99.9                   2.3395                           0.99801            

tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd      coefofvar      min       max       pYis0       pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15         p20         p25         p35         p50       p65        p75       p80       p85       p90       p95       p99      p99_9 
                     ________    ______    _________    _______    ______    ________    __________    __________    _______    _______    _______    _______    ________    ________    ________    ________    _______    ______    _______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.12233    2.4412     -19.956       -12.5    49.582    0.045998     0.0058237    1.3421e-35      -12.5    -10.829    -4.7293     -2.139     -1.1364    -0.71858    -0.46791    -0.13369    0.11698    0.4512    0.86898    1.1197    1.4539    2.0388    2.9579    5.0468    7.7206
    cl_mt_pol_coh      1.0981     2.807      2.5561     -13.305    54.536           0    4.2743e-05    1.3421e-35    -12.963    -10.795      -4.11    -1.3027    -0.29405     0.18083     0.51025      0.9008     1.3391    1.8529      2.328    2.6606    3.0888    3.6983    4.7441    7.0884     10.04
    cl_mt_pol_c        1.2205    1.0957     0.89774     -13.305    4.9536           0    4.2743e-05    1.3421e-35    -12.963    0.87814    0.91156    0.93663     0.95929     0.98691      1.0281       1.098     1.2539    1.4039     1.5122    1.5715    1.6361    1.7339    1.8531    2.0908    2.3395

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1    fracByP1     fracByP5     fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a        0.59508          1.01       3.3593      4.6399       5.3479       5.7047        5.927       6.1398       6.1006        5.7493      5.2255        4.861       4.3676       3.6196       2.6644       1.4896          1.07  
    cl_mt_pol_coh    -0.018041      -0.11075      -0.3613    -0.47159     -0.50506     -0.50617      -0.4897     -0.42302     -0.26839     -0.055648      0.1362        0.247      0.37739         0.53      0.71902      0.92369       0.98991  
    cl_mt_pol_c      -0.016233     -0.055117    -0.025833    0.011354      0.05103     0.092255      0.13116      0.21989      0.36332       0.52883     0.64834      0.71041      0.77575      0.84457      0.91785      0.98182       0.99801  

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 1
ar_fl_c_min = 0.025
ar_fl_b_bd = -5
ar_fl_r_borr = 0.1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.379765 seconds.
xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution
Elapsed time is 0.528651 seconds.
    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_a"

    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -4.3382                         -0.0095833           
          1                  -2.4265                          -0.068291           
          5                  -1.1765                           -0.20287           
         10                 -0.66176                            -0.3017           
         15                 -0.44118                           -0.36155           
         20                 -0.29412                           -0.39474           
         25                 -0.22059                            -0.4081           
         35                        0                           -0.42344           
         50                  0.22059                           -0.38816           
         65                  0.58824                           -0.27723           
         75                  0.95588                           -0.13159           
         80                     1.25                          -0.020859           
         85                   1.6176                            0.12983           
         90                   2.2059                            0.33309           
         95                   3.0882                            0.57038           
         99                   5.2206                            0.87653           
       99.9                   7.8676                            0.98251           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_coh"

    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -3.8059                          -0.0024295           
          1                    -1.783                           -0.015022           
          5                  -0.38575                            -0.03534           
         10                   0.14039                           -0.037628           
         15                   0.42307                           -0.029173           
         20                    0.6426                           -0.013964           
         25                   0.80521                           0.0081109           
         35                    1.0595                            0.060117           
         50                    1.5001                             0.17097           
         65                    1.9973                             0.31537           
         75                    2.5129                              0.4426           
         80                    2.8264                             0.51557           
         85                    3.2666                             0.59954           
         90                     3.874                              0.6993           
         95                    4.9291                             0.82145           
         99                    7.2731                             0.95195           
       99.9                     10.22                             0.99367           

    "tb_prob_drv, Percentiles of Y, &#8230;"    "cl_mt_pol_c"

    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.56968                        -0.00023752           
          1                  0.65101                          0.0041322           
          5                   0.7635                           0.026813           
         10                  0.81686                           0.057791           
         15                   0.9124                            0.09146           
         20                  0.95249                            0.12808           
         25                   1.0037                            0.16952           
         35                   1.1132                            0.24903           
         50                   1.2878                            0.39144           
         65                   1.4109                            0.54982           
         75                   1.5497                            0.66383           
         80                   1.5691                            0.72198           
         85                   1.6552                            0.78732           
         90                   1.7464                            0.85121           
         95                   1.8604                            0.92105           
         99                   2.1221                            0.98267           
       99.9                   2.3684                            0.99808           

tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYisMINY     pYisMAXY     p0_1        p1          p5         p10         p15         p20         p25        p35        p50        p65        p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    __________    ________    _______    _______    ________    ________    ________    ________    ________    ______    _______    _______    _______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.50337     1.3607      2.7031          -5    49.559    0.078367    0.00025295       0        -4.3382    -2.4265     -1.1765    -0.66176    -0.44118    -0.29412    -0.22059         0    0.22059    0.58824    0.95588      1.25    1.6176    2.2059    3.0882    5.2206    7.8676
    cl_mt_pol_coh     1.7804     1.6743     0.94039     -5.0553    54.536           0    1.0589e-05       0        -3.8059     -1.783    -0.38575     0.14039     0.42307      0.6426     0.80521    1.0595     1.5001     1.9973     2.5129    2.8264    3.2666     3.874    4.9291    7.2731     10.22
    cl_mt_pol_c        1.277    0.35435     0.27748     -5.0553     4.977           0    1.0589e-05       0        0.56968    0.65101      0.7635     0.81686      0.9124     0.95249      1.0037    1.1132     1.2878     1.4109     1.5497    1.5691    1.6552    1.7464    1.8604    2.1221    2.3684

tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                     fracByP0_1     fracByP1     fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                     ___________    _________    ________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a       -0.0095833    -0.068291    -0.20287      -0.3017     -0.36155     -0.39474      -0.4081    -0.42344     -0.38816     -0.27723     -0.13159     -0.020859     0.12983      0.33309      0.57038      0.87653       0.98251  
    cl_mt_pol_coh     -0.0024295    -0.015022    -0.03534    -0.037628    -0.029173    -0.013964    0.0081109    0.060117      0.17097      0.31537       0.4426       0.51557     0.59954       0.6993      0.82145      0.95195       0.99367  
    cl_mt_pol_c      -0.00023752    0.0041322    0.026813     0.057791      0.09146      0.12808      0.16952     0.24903      0.39144      0.54982      0.66383       0.72198     0.78732      0.85121      0.92105      0.98267       0.99808  

xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution
</pre><pre class="codeoutput error">Error using sparse
Vectors must be the same lengths.

Error in ff_az_ds_vecsv (line 283)
    mt_full_trans_mat = sparse(i, j, v, m, n);

Error in fsi_abz_ds_vecsv_borr (line 335)
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
</pre><h2 id="4">Test Minimum Consumption with Defaults</h2><p>A minimum consumption value increases, default increases.</p><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

it_size = 4;

<span class="comment">% default or not</span>
bl_default = true;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
<span class="comment">% cmin</span>
fl_c_min = 0.025;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.1, 0.001, it_size);
<span class="comment">% ar_fl_c_min = zeros([1,it_size]) + fl_c_min;</span>
<span class="comment">% borrow bound</span>
fl_b_bd = -12.5;
ar_fl_b_bd = [-20, -15, -10];
<span class="comment">% ar_fl_b_bd = linspace(-20, -5, it_size);</span>
ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
<span class="comment">% fl_r_borr</span>
fl_r_borr = 0.10;
ar_fl_r_borr = [-999, -999, -999];
<span class="comment">% ar_cur_param_fur = linspace(0.20, 0.025, it_size);</span>
ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;

<span class="comment">% other parameters</span>
it_a_n = 750;
it_z_n = 15;
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

<span class="comment">% Simulate Model with Discount = 0.85</span>

<span class="keyword">for</span> it_cur_param = 1:1:length(ar_bl_default)

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'ar_bl_default = '</span> num2str(ar_bl_default(it_cur_param))]);
    disp([<span class="string">'ar_fl_c_min = '</span> num2str(ar_fl_c_min(it_cur_param))]);
    disp([<span class="string">'ar_fl_b_bd = '</span> num2str(ar_fl_b_bd(it_cur_param))]);
    disp([<span class="string">'ar_fl_r_borr = '</span> num2str(ar_fl_r_borr(it_cur_param))]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = ar_bl_default(it_cur_param);
    param_map(<span class="string">'fl_c_min'</span>) = ar_fl_c_min(it_cur_param);
    param_map(<span class="string">'fl_b_bd'</span>) = ar_fl_b_bd(it_cur_param);

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = ar_fl_r_borr(it_cur_param);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;
    param_map(<span class="string">'fl_beta'</span>) = fl_beta;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    support_map(<span class="string">'bl_graph_funcgrids'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution'</span>);
    result_map = ff_az_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="comment">% Call Distribution CProgram</span>
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution'</span>);
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);


    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Borrowing (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vec.html
% ff_az_ds_vec> program for solving the savings only dynamic
% programming problem.
%
% No default, change borrowing interest rates. Default, changin minimum
% consumption etc. 
%

%% Test Borrowing Interest Rates, No Default, NBC
% The natural borrowing constraint restricts borrowing. Note that
% *pYisMINY* in tables below is generally very close to 0. That is the
% correct mass. As we shift the formal borrowing interest rate, the natural
% borrowing constraints changes (lower borrowing interest rate, more
% borrowing allowed), but the mass at the borrowing bound is 0 because at
% the bound, households would go to negative infinite utility, approximated
% by -9999 in default parameters pYisMINY. Note the *min* value in table
% shows how the natural borrowing constraint is adjusting. that is the NBC
% bound.
%
% As the borrowing interest rate increases, households borrow more and
% average/aggregate savings decrease. 
%

close all;
clear all;

it_size = 5;

% default or not
bl_default = false;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
% cmin
fl_c_min = 0.001;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.001, 0.005, it_size);
ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
% borrow bound
fl_b_bd = -20;
ar_fl_b_bd = [-20, -15, -10];
ar_fl_b_bd = linspace(-20, 0, it_size);
ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
% fl_r_borr
fl_r_borr = 0.035;
ar_fl_r_borr = [-999, -999, -999];
ar_fl_r_borr = linspace(0.20, 0.025, it_size);
% ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;

% other parameters
it_a_n = 750;
it_z_n = 15;
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

% Simulate Model

for it_cur_param = 1:1:length(ar_bl_default)

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['ar_bl_default = ' num2str(ar_bl_default(it_cur_param))]);
    disp(['ar_fl_c_min = ' num2str(ar_fl_c_min(it_cur_param))]);
    disp(['ar_fl_b_bd = ' num2str(ar_fl_b_bd(it_cur_param))]);
    disp(['ar_fl_r_borr = ' num2str(ar_fl_r_borr(it_cur_param))]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Borrowing Parameters
    param_map('bl_default') = ar_bl_default(it_cur_param);
    param_map('fl_c_min') = ar_fl_c_min(it_cur_param);
    param_map('fl_b_bd') = ar_fl_b_bd(it_cur_param);
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = ar_fl_r_borr(it_cur_param);
    
    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_crra') = fl_crra;
    param_map('fl_beta') = fl_beta;

    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    support_map('bl_graph_funcgrids') = false;

    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution');    
    result_map = ff_az_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    % Call Distribution CProgram
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution');    
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    % Snap
    snapnow;

end

% close all
close all;


%% Test Borrowing Interest Rates, No Default, More Accurate
% Identical to above, but now increase grid sizes to be more accurate, as
% we change interest rate, perhaps the lower interest rate problems are
% less accurate because choice grid is larger and choice grid points have
% not increased. 
%

close all;
clear all;

it_size = 5;

% default or not
bl_default = false;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
% cmin
fl_c_min = 0.001;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.001, 0.005, it_size);
ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
% borrow bound
fl_b_bd = -20;
ar_fl_b_bd = [-20, -15, -10];
ar_fl_b_bd = linspace(-20, 0, it_size);
ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
% fl_r_borr
fl_r_borr = 0.035;
ar_fl_r_borr = [-999, -999, -999];
ar_fl_r_borr = linspace(0.20, 0.025, it_size);
% ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;

% other parameters
it_a_n = 1500;
it_z_n = 21;
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

% Simulate Model

for it_cur_param = 1:1:length(ar_bl_default)

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['ar_bl_default = ' num2str(ar_bl_default(it_cur_param))]);
    disp(['ar_fl_c_min = ' num2str(ar_fl_c_min(it_cur_param))]);
    disp(['ar_fl_b_bd = ' num2str(ar_fl_b_bd(it_cur_param))]);
    disp(['ar_fl_r_borr = ' num2str(ar_fl_r_borr(it_cur_param))]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Borrowing Parameters
    param_map('bl_default') = ar_bl_default(it_cur_param);
    param_map('fl_c_min') = ar_fl_c_min(it_cur_param);
    param_map('fl_b_bd') = ar_fl_b_bd(it_cur_param);
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = ar_fl_r_borr(it_cur_param);
    
    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_crra') = fl_crra;
    param_map('fl_beta') = fl_beta;

    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    support_map('bl_graph_funcgrids') = false;

    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution');    
%     result_map = ff_az_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    % Call Distribution CProgram
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution');    
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    % Snap
    snapnow;

end

% close all
close all;

%% Test Borrowing Bounds with Defaults
% Borrowing could now go to the borrowing bound, which is the point of
% default. Note the fraction of households at *pYisMINY*, unlike in the
% exercise above is no longer 0, but potentially a positive mass. The
% households at these points are defaulting. A crucial parameter that
% controls default is _fl_c_min_, what is the u(c) utility today when
% households defualt? If this is very low, then even if default is allowed,
% it will not be an option taken by anyone, and *pYisMINY* will be zero.
% Note here that changing the borrowing bound is also impactful. When the
% borrowing bound is tight, with default allowed, households are unwilling
% to default, this is because if you are forced to get u(c_min) having not
% borrowed much, so borrowing is not worth-while.

close all;
clear all;

it_size = 3;

% default or not
bl_default = true;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
% cmin
fl_c_min = 0.025;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.001, 0.005, it_size);
ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
% borrow bound
fl_b_bd = -20;
ar_fl_b_bd = [-20, -15, -10];
ar_fl_b_bd = linspace(-20, -5, it_size);
% ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
% fl_r_borr
fl_r_borr = 0.10;
ar_fl_r_borr = [-999, -999, -999];
% ar_cur_param_fur = linspace(0.20, 0.025, it_size);
ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;

% other parameters
it_a_n = 750;
it_z_n = 15;
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

% Simulate Model with Discount = 0.85

for it_cur_param = 1:1:length(ar_bl_default)

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['ar_bl_default = ' num2str(ar_bl_default(it_cur_param))]);
    disp(['ar_fl_c_min = ' num2str(ar_fl_c_min(it_cur_param))]);
    disp(['ar_fl_b_bd = ' num2str(ar_fl_b_bd(it_cur_param))]);
    disp(['ar_fl_r_borr = ' num2str(ar_fl_r_borr(it_cur_param))]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Borrowing Parameters
    param_map('bl_default') = ar_bl_default(it_cur_param);
    param_map('fl_c_min') = ar_fl_c_min(it_cur_param);
    param_map('fl_b_bd') = ar_fl_b_bd(it_cur_param);
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = ar_fl_r_borr(it_cur_param);
    
    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_crra') = fl_crra;
    param_map('fl_beta') = fl_beta;

    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    support_map('bl_graph_funcgrids') = false;

    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution');    
    result_map = ff_az_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    % Call Distribution CProgram
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution');    
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);


    % Snap
    snapnow;

end

% close all
close all;

%% Test Minimum Consumption with Defaults
% A minimum consumption value increases, default increases. 

close all;
clear all;

it_size = 4;

% default or not
bl_default = true;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
% cmin
fl_c_min = 0.025;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.1, 0.001, it_size);
% ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
% borrow bound
fl_b_bd = -12.5;
ar_fl_b_bd = [-20, -15, -10];
% ar_fl_b_bd = linspace(-20, -5, it_size);
ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
% fl_r_borr
fl_r_borr = 0.10;
ar_fl_r_borr = [-999, -999, -999];
% ar_cur_param_fur = linspace(0.20, 0.025, it_size);
ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;

% other parameters
it_a_n = 750;
it_z_n = 15;
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

% Simulate Model with Discount = 0.85

for it_cur_param = 1:1:length(ar_bl_default)

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['ar_bl_default = ' num2str(ar_bl_default(it_cur_param))]);
    disp(['ar_fl_c_min = ' num2str(ar_fl_c_min(it_cur_param))]);
    disp(['ar_fl_b_bd = ' num2str(ar_fl_b_bd(it_cur_param))]);
    disp(['ar_fl_r_borr = ' num2str(ar_fl_r_borr(it_cur_param))]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Borrowing Parameters
    param_map('bl_default') = ar_bl_default(it_cur_param);
    param_map('fl_c_min') = ar_fl_c_min(it_cur_param);
    param_map('fl_b_bd') = ar_fl_b_bd(it_cur_param);
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = ar_fl_r_borr(it_cur_param);
    
    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_crra') = fl_crra;
    param_map('fl_beta') = fl_beta;

    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    support_map('bl_graph_funcgrids') = false;

    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx: iterative distribution');    
    result_map = ff_az_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    % Call Distribution CProgram
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx: semi-analytical distribution');    
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);


    % Snap
    snapnow;

end

% close all
close all;
##### SOURCE END #####
--></body></html>