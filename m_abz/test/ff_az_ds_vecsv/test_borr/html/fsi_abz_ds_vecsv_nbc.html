
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Borrowing Natural Borrowing Constraint (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-29"><meta name="DC.source" content="fsi_abz_ds_vecsv_nbc.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Borrowing Natural Borrowing Constraint (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html">ff_az_ds_vecsv</a> program for solving the savings + borrowing problem using full-states-markov eigenvector-sparse-matrix approach.</p><p>No default, change borrowing interest rates. Higher and lower precisions.</p><p>@seealso</p><div><ul><li>test interest rate no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html">fsi_abz_ds_vecsv_nbc</a></li><li>test interest rate default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html">fsi_abz_ds_vecsv_default</a></li><li>test shock no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html">fsi_abz_ds_vecsv_shk_nbc</a></li><li>test shock default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html">fsi_abz_ds_vecsv_shk_default</a></li><li>test shock default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html">fsi_abz_ds_vecsv_shk_default_lowcmin</a></li><li>test preference no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html">fsi_abz_ds_vecsv_pref_nbc</a></li><li>test preference default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html">fsi_abz_ds_vecsv_pref_default</a></li><li>test preference default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html">fsi_abz_ds_vecsv_pref_default_lowcmin</a></li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Test Borrowing Interest Rates, No Default, NBC, Shift Borrow Interest</a></li></ul></div><h2 id="1">Test Borrowing Interest Rates, No Default, NBC, Shift Borrow Interest</h2><p>The natural borrowing constraint restricts borrowing. Note that <b>pYisMINY</b> in tables below is generally very close to 0. That is the correct mass. As we shift the formal borrowing interest rate, the natural borrowing constraints changes (lower borrowing interest rate, more borrowing allowed), but the mass at the borrowing bound is 0 because at the bound, households would go to negative infinite utility, approximated by -9999 in default parameters pYisMINY. Note the <b>min</b> value in table shows how the natural borrowing constraint is adjusting. that is the NBC bound.</p><p>As the borrowing interest rate increases, households borrow more and average/aggregate savings decrease.</p><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

it_size = 5;

<span class="comment">% default or not</span>
bl_default = false;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
<span class="comment">% cmin</span>
fl_c_min = 0.001;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.001, 0.005, it_size);
ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
<span class="comment">% borrow bound</span>
fl_b_bd = -20;
ar_fl_b_bd = [-20, -15, -10];
ar_fl_b_bd = linspace(-20, 0, it_size);
ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
<span class="comment">% fl_r_borr</span>
fl_r_borr = 0.035;
ar_fl_r_borr = [-999, -999, -999];
ar_fl_r_borr = linspace(0.20, 0.025, it_size);
<span class="comment">% ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;</span>

<span class="comment">% Accuracy</span>
<span class="comment">% ar_it_a_n_hg = [750, 1250, 1750, 2250];</span>
<span class="comment">% ar_it_z_n_hg = [15, 19, 23, 27];</span>
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

<span class="comment">% other parameters</span>
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

<span class="comment">% Simulate Model</span>

<span class="keyword">for</span> it_cur_param = 1:1:length(ar_bl_default)

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'ar_bl_default = '</span> num2str(ar_bl_default(it_cur_param))]);
    disp([<span class="string">'ar_fl_c_min = '</span> num2str(ar_fl_c_min(it_cur_param))]);
    disp([<span class="string">'ar_fl_b_bd = '</span> num2str(ar_fl_b_bd(it_cur_param))]);
    disp([<span class="string">'ar_fl_r_borr = '</span> num2str(ar_fl_r_borr(it_cur_param))]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = ar_bl_default(it_cur_param);
    param_map(<span class="string">'fl_c_min'</span>) = ar_fl_c_min(it_cur_param);
    param_map(<span class="string">'fl_b_bd'</span>) = ar_fl_b_bd(it_cur_param);

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = ar_fl_r_borr(it_cur_param);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;
    param_map(<span class="string">'fl_beta'</span>) = fl_beta;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    support_map(<span class="string">'bl_graph_funcgrids'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>
    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.482170 seconds.
Elapsed time is 0.452338 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYls0        pYgr0      pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25         p35         p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    _______    __________    _______    ___________    __________    ________    _______    _______    _______    _______    _______    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.82743     1.1802      1.4264     -2.2234    49.581    0.17816       0.04057    0.78127     -1.599e-34    4.6032e-35    -0.33835    -0.1289          0          0          0          0    0.010738    0.080555    0.35982    0.77873    1.1278    1.4769     1.826    2.3147    3.2922    5.3867    8.0397
    cl_mt_pol_coh     2.1274     1.4705      0.6912     -2.2234    54.536          0    0.00014623    0.99985    -8.9885e-35    4.6032e-35     0.19282    0.50235    0.68262    0.79845    0.90837     1.0479      1.0847      1.2913     1.6911      2.192     2.693    3.0103    3.4409    4.0546    5.0869    7.4472    10.381
    cl_mt_pol_c          1.3    0.34539     0.26569       0.001    4.9547          0             0          1    -8.9885e-35    4.6032e-35     0.48872    0.57205    0.68262    0.79845    0.90837    0.98194      1.0535       1.198     1.3138     1.4156    1.5442    1.5849    1.6625    1.7502    1.8663     2.132    2.3791

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.15625
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.250619 seconds.
Elapsed time is 0.224064 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar     min       max      pYis0       pYls0       pYgr0      pYisMINY      pYisMAXY        p0_1         p1          p5          p10         p15        p20        p25         p35        p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    ______    _________    ______    ______    ______    _________    _______    __________    ___________    ________    ________    ________    _________    _______    _______    ________    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.80696     1.189      1.4734     -2.846    49.576    0.1283      0.12153    0.75017    5.2493e-34    -4.4125e-35     -1.0091    -0.44389    -0.16129    -0.019989          0          0    0.050661    0.12131    0.33326    0.75716    1.1104    1.4637    1.8169    2.3115    3.2299    5.3494    8.0341
    cl_mt_pol_coh     2.1045    1.4846     0.70544     -2.846    54.536         0    0.0050614    0.99494    3.1177e-34    -4.4125e-35    -0.42176     0.17651     0.60095      0.78744    0.90837     1.0247      1.0998      1.317     1.6636     2.1705    2.6774    2.9937    3.4282    4.0502    5.0891    7.4454    10.362
    cl_mt_pol_c       1.2975     0.346     0.26666      0.001    4.9597         0            0          1    3.1177e-34    -4.4125e-35     0.51663     0.61512     0.73911      0.80743    0.90837    0.98205      1.0479     1.1581     1.2931     1.4169    1.5527     1.583    1.6643    1.7476    1.8639    2.1347    2.3728

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.1125
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.522473 seconds.
Elapsed time is 0.300400 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYls0       pYgr0      pYisMINY      pYisMAXY      p0_1        p1          p5          p10         p15          p20          p25         p35         p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    ________    _______    ___________    _________    _______    _______    _________    ________    ________    _________    _________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.63827     1.2755      1.9983     -3.9527    49.567    0.057787     0.25927    0.68295    -5.5704e-36    3.107e-36    -2.7987    -1.6446     -0.77905    -0.41841    -0.20202    -0.057761    -0.057761    0.014368    0.23076    0.66353    1.0242    1.3848    1.6733    2.2504    3.1881    5.2798    7.9486
    cl_mt_pol_coh     1.9237     1.5836     0.82323     -3.9527    54.536           0    0.049122    0.95088    -4.3152e-36    3.107e-36    -2.2854    -1.0015    0.0009897     0.44289     0.68362      0.84411       0.9836      1.2088      1.557     2.0745    2.5844    2.9053    3.3381    3.9404    4.9976    7.3413    10.288
    cl_mt_pol_c       1.2854    0.34739     0.27027       0.001    4.9686           0           0          1    -4.3152e-36    3.107e-36    0.46459     0.6336      0.77193     0.83685     0.87753      0.93567       1.0132      1.1258     1.2903     1.4146    1.5527    1.5764    1.6594    1.7443    1.8565    2.1264    2.3655

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.06875
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.819909 seconds.
Elapsed time is 0.270716 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0      pYls0      pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65         p75        p80       p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    _______    _______    _______    __________    __________    _______    _______    _______    _______    _______    _______    _______    ________    ________    _________    _______    _______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.93941     2.1417     -2.2799     -6.4681    49.547    0.01522     0.6591    0.32568    1.3169e-36    2.6367e-36    -6.2417    -5.7887    -4.7318    -3.9014    -3.2975    -2.6935    -2.2406     -1.5611    -0.73073    -0.051296    0.32616    0.55264    0.9301    1.4585    2.4399    4.5537    7.2714
    cl_mt_pol_coh     0.25798     2.4685      9.5687     -6.4681    54.536          0    0.42568    0.57432    -4.496e-36    2.6367e-36    -5.9881    -5.3006     -4.062    -3.1222    -2.3956     -1.807    -1.3086    -0.51611     0.42826       1.2274     1.7408     2.0976     2.549    3.1619    4.2017    6.5856    9.5409
    cl_mt_pol_c        1.1974    0.34915      0.2916       0.001    4.9887          0          0          1    -4.496e-36    2.6367e-36     0.2485    0.47534    0.67739    0.79941    0.86507    0.90703    0.94292      1.0375      1.1465       1.2905      1.433     1.4969    1.5856     1.679    1.8335    2.0846     2.339

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
ar_bl_default = 0
ar_fl_c_min = 0.001
ar_fl_b_bd = -20
ar_fl_r_borr = 0.025
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.452604 seconds.
Elapsed time is 0.263411 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max        pYis0        pYls0       pYgr0        pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65        p75        p80        p85        p90        p95        p99       p99_9 
                     _______    _______    _________    _______    ______    __________    _______    __________    ___________    __________    ________    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _______

    cl_mt_pol_a      -15.635     1.7554    -0.11228     -17.787    49.366    1.8451e-07          1    2.1038e-06    -2.0691e-35    6.7487e-36     -17.697    -17.606    -17.425    -17.334    -17.153    -17.062    -16.972    -16.609    -16.156    -15.431    -14.887    -14.434    -13.981    -13.256    -12.078    -9.5405    -6.4593
    cl_mt_pol_coh    -14.746     2.0324    -0.13783     -17.787    54.536             0    0.99998    2.2239e-05    -6.9688e-36    6.7487e-36     -17.547    -17.362    -17.045    -16.806    -16.609    -16.423    -16.237    -15.865    -15.258    -14.487    -13.772    -13.311    -12.754    -12.007     -10.71    -7.9847    -4.5794
    cl_mt_pol_c      0.88913    0.31113     0.34992       0.001    5.1702             0          0             1    -6.9688e-36    6.7487e-36    0.072819    0.19711    0.35182    0.47383    0.57017    0.61904    0.68118    0.78206    0.89534     1.0143     1.0959     1.1446      1.207     1.2885     1.4108     1.6416     1.9156

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Borrowing Natural Borrowing Constraint (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html
% ff_az_ds_vecsv> program for solving the savings + borrowing problem using
% full-states-markov eigenvector-sparse-matrix approach.
%
% No default, change borrowing interest rates. Higher and lower precisions.
%
% @seealso
%
% * test interest rate no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html fsi_abz_ds_vecsv_nbc> 
% * test interest rate default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html fsi_abz_ds_vecsv_default> 
% * test shock no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html fsi_abz_ds_vecsv_shk_nbc>
% * test shock default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html fsi_abz_ds_vecsv_shk_default>
% * test shock default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html fsi_abz_ds_vecsv_shk_default_lowcmin>
% * test preference no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html fsi_abz_ds_vecsv_pref_nbc>
% * test preference default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html fsi_abz_ds_vecsv_pref_default>
% * test preference default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html fsi_abz_ds_vecsv_pref_default_lowcmin>
%



%% Test Borrowing Interest Rates, No Default, NBC, Shift Borrow Interest
% The natural borrowing constraint restricts borrowing. Note that
% *pYisMINY* in tables below is generally very close to 0. That is the
% correct mass. As we shift the formal borrowing interest rate, the natural
% borrowing constraints changes (lower borrowing interest rate, more
% borrowing allowed), but the mass at the borrowing bound is 0 because at
% the bound, households would go to negative infinite utility, approximated
% by -9999 in default parameters pYisMINY. Note the *min* value in table
% shows how the natural borrowing constraint is adjusting. that is the NBC
% bound.
%
% As the borrowing interest rate increases, households borrow more and
% average/aggregate savings decrease. 
%

close all;
clear all;

it_size = 5;

% default or not
bl_default = false;
ar_bl_default = [false, false, true];
ar_bl_default = zeros([1,it_size]) + bl_default;
% cmin
fl_c_min = 0.001;
ar_fl_c_min = [0.001, 0.005, 0.010];
ar_fl_c_min = linspace(0.001, 0.005, it_size);
ar_fl_c_min = zeros([1,it_size]) + fl_c_min;
% borrow bound
fl_b_bd = -20;
ar_fl_b_bd = [-20, -15, -10];
ar_fl_b_bd = linspace(-20, 0, it_size);
ar_fl_b_bd = zeros([1,it_size]) + fl_b_bd;
% fl_r_borr
fl_r_borr = 0.035;
ar_fl_r_borr = [-999, -999, -999];
ar_fl_r_borr = linspace(0.20, 0.025, it_size);
% ar_fl_r_borr = zeros([1,it_size]) + fl_r_borr;

% Accuracy
% ar_it_a_n_hg = [750, 1250, 1750, 2250];
% ar_it_z_n_hg = [15, 19, 23, 27];
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

% other parameters
fl_crra = 1.5;
fl_beta = 0.94;
fl_r_save = 0.025;

% Simulate Model

for it_cur_param = 1:1:length(ar_bl_default)

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['ar_bl_default = ' num2str(ar_bl_default(it_cur_param))]);
    disp(['ar_fl_c_min = ' num2str(ar_fl_c_min(it_cur_param))]);
    disp(['ar_fl_b_bd = ' num2str(ar_fl_b_bd(it_cur_param))]);
    disp(['ar_fl_r_borr = ' num2str(ar_fl_r_borr(it_cur_param))]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Borrowing Parameters
    param_map('bl_default') = ar_bl_default(it_cur_param);
    param_map('fl_c_min') = ar_fl_c_min(it_cur_param);
    param_map('fl_b_bd') = ar_fl_b_bd(it_cur_param);
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = ar_fl_r_borr(it_cur_param);
    
    % Preference
    param_map('fl_crra') = fl_crra;
    param_map('fl_beta') = fl_beta;

    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    support_map('bl_graph_funcgrids') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end
    % Snap
    snapnow;

end

% close all
close all;

##### SOURCE END #####
--></body></html>