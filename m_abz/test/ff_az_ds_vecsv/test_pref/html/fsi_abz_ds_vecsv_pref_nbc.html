
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Preference No Default (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-07-22"><meta name="DC.source" content="fsi_abz_ds_vecsv_pref_nbc.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Preference <b>No Default</b> (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html">ff_az_ds_vecsv</a> program for solving the savings + borrowing problem using full-states-markov eigenvector-sparse-matrix approach.</p><p>defaults in ffs_abz_set_default_param.m are:</p><div><ul><li>param_map('fl_beta') = 0.94;</li><li>param_map('fl_crra') = 1.5;</li></ul></div><p>Test across various discount and risk aversion levels.</p><p>Default is not allowed, natural borrowing constraint.</p><p>@seealso</p><div><ul><li>test interest rate no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html">fsi_abz_ds_vecsv_nbc</a></li><li>test interest rate default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html">fsi_abz_ds_vecsv_default</a></li><li>test shock no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html">fsi_abz_ds_vecsv_shk_nbc</a></li><li>test shock default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html">fsi_abz_ds_vecsv_shk_default</a></li><li>test shock default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html">fsi_abz_ds_vecsv_shk_default_lowcmin</a></li><li>test preference no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html">fsi_abz_ds_vecsv_pref_nbc</a></li><li>test preference default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html">fsi_abz_ds_vecsv_pref_default</a></li><li>test preference default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html">fsi_abz_ds_vecsv_pref_default_lowcmin</a></li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Set Shared Parameters</a></li><li><a href="#2">Simulate Model with Discount = 0.94</a></li><li><a href="#3">Simulate Model with Discount = 0.96</a></li><li><a href="#4">Simulate Model with Discount = 0.98</a></li></ul></div><h2 id="1">Set Shared Parameters</h2><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];

<span class="comment">% Accuracy</span>
<span class="comment">% ar_it_a_n_hg = [750, 1250, 1750, 2250];</span>
<span class="comment">% ar_it_z_n_hg = [15, 19, 23, 27];</span>
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

<span class="comment">% Borrowing/Savings Parameters</span>
it_a_n = 750;
it_z_n = 15;

bl_default = false;
fl_c_min = 0.01; <span class="comment">% irrelevant when bl_default = false</span>
fl_b_bd = -20;
</pre><h2 id="2">Simulate Model with Discount = 0.94</h2><pre class="codeinput"><span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(1))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(1);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map(<span class="string">'it_z_n'</span>);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> it_z_n]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 15.864240 seconds.
Elapsed time is 3.750172 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                     -0.059675         1.1957         1.2554
    'sd'                          1.0659          1.399        0.37209
    'coefofvar'                  -17.861           1.17        0.29638
    'min'                        -4.6809        -4.6809           0.01
    'max'                         48.611         54.536         5.9247
    'pYis0'                       0.1064              0              0
    'pYls0'                      0.48898        0.15153              0
    'pYgr0'                      0.40462        0.84847              1
    'pYisMINY'                -4.877e-35    -4.1563e-35    -4.1563e-35
    'pYisMAXY'               -1.4163e-35    -1.4163e-35    -1.4163e-35
    'p0_1'                       -4.2423        -3.8026         0.4397
    'p1'                         -3.1457        -2.5305        0.62242
    'p5'                         -1.8299         -1.081        0.75528
    'p10'                        -1.2451       -0.41139        0.82926
    'p15'                       -0.95264      -0.015555        0.89097
    'p20'                       -0.66023        0.27053        0.92649
    'p25'                       -0.51402        0.50561         0.9643
    'p35'                       -0.22161         0.8258         1.0346
    'p50'                              0         1.2063         1.2063
    'p65'                         0.1439          1.526         1.3944
    'p75'                        0.36321          1.853         1.5377
    'p80'                        0.50941         2.0664         1.6176
    'p85'                        0.72872         2.3629          1.652
    'p90'                         1.0211         2.8051         1.7773
    'p95'                         1.6791         3.5618         1.9449
    'p99'                         3.2142         5.3276         2.2251
    'p99_9'                        5.188         7.5666         2.4853
    'fl_cov_cl_mt_pol_a'          1.1361         1.4775        0.34139
    'fl_cor_cl_mt_pol_a'               1         0.9908        0.86081
    'fl_cov_cl_mt_coh'            1.4775         1.9573        0.47984
    'fl_cor_cl_mt_coh'            0.9908              1        0.92177
    'fl_cov_cl_mt_pol_c'         0.34139        0.47984        0.13845
    'fl_cor_cl_mt_pol_c'         0.86081        0.92177              1
    'fracByP0_1'                0.084422     -0.0033985     0.00026837
    'fracByP1'                   0.66404      -0.026033      0.0042393
    'fracByP5'                    2.3377      -0.081247       0.026764
    'fracByP10'                   3.6355       -0.11041       0.058812
    'fracByP15'                   4.4118        -0.1188       0.092804
    'fracByP20'                   5.1728       -0.11307        0.12906
    'fracByP25'                   5.5423      -0.095821        0.16717
    'fracByP35'                    6.109      -0.038917        0.24576
    'fracByP50'                   6.2561       0.094348        0.38055
    'fracByP65'                   6.1092        0.25432        0.54298
    'fracByP75'                   5.6511        0.39568        0.66425
    'fracByP80'                   5.3382        0.47774        0.71676
    'fracByP85'                   4.9005        0.56829        0.77476
    'fracByP90'                   4.2649        0.67735        0.84375
    'fracByP95'                   3.1211        0.80747        0.91758
    'fracByP99'                   1.6487        0.94713        0.98165
    'fracByP99_9'                 1.0927        0.99309        0.99799

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 15.570539 seconds.
Elapsed time is 4.642146 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                       0.22481          1.485         1.2602
    'sd'                          1.5246         1.8437        0.34793
    'coefofvar'                   6.7818         1.2415        0.27609
    'min'                        -4.6809        -4.6809           0.01
    'max'                         49.561         54.536         4.9744
    'pYis0'                     0.038015              0              0
    'pYls0'                      0.43404         0.1651              0
    'pYgr0'                      0.52794         0.8349              1
    'pYisMINY'               -2.8751e-35    -1.7512e-35    -1.7512e-35
    'pYisMAXY'               -2.1366e-37    -2.1366e-37    -2.1366e-37
    'p0_1'                       -4.3154        -3.8826        0.36359
    'p1'                         -3.4381         -2.842        0.60661
    'p5'                         -2.1954        -1.3964        0.76596
    'p10'                        -1.4644       -0.60931        0.84849
    'p15'                        -1.0257       -0.12903        0.89567
    'p20'                       -0.73333        0.23358        0.93542
    'p25'                       -0.51402        0.50561        0.97431
    'p35'                       -0.14851        0.88606         1.0697
    'p50'                       0.070798         1.3132         1.2208
    'p65'                        0.43631         1.8416         1.4017
    'p75'                        0.80183         2.3555         1.4967
    'p80'                         1.1673         2.6774         1.5649
    'p85'                         1.4598         3.1154         1.6508
    'p90'                         2.0446         3.7149         1.7382
    'p95'                         2.9218         4.7639         1.8518
    'p99'                         5.0418         7.1171         2.1173
    'p99_9'                       7.7466         10.081         2.3595
    'fl_cov_cl_mt_pol_a'          2.3244         2.8013        0.47684
    'fl_cor_cl_mt_pol_a'               1        0.99658        0.89893
    'fl_cov_cl_mt_coh'            2.8013         3.3992         0.5979
    'fl_cor_cl_mt_coh'           0.99658              1        0.93207
    'fl_cov_cl_mt_pol_c'         0.47684         0.5979        0.12105
    'fl_cor_cl_mt_pol_c'         0.89893        0.93207              1
    'fracByP0_1'               -0.021208     -0.0028322     0.00023814
    'fracByP1'                  -0.19057      -0.022528       0.003987
    'fracByP5'                  -0.66703      -0.075655       0.026502
    'fracByP10'                  -1.0823       -0.10804       0.058702
    'fracByP15'                  -1.3689       -0.11977       0.093137
    'fracByP20'                  -1.5489       -0.11766        0.13131
    'fracByP25'                  -1.6692       -0.10459        0.16834
    'fracByP35'                   -1.812      -0.057013        0.24844
    'fracByP50'                  -1.8141       0.054413        0.38589
    'fracByP65'                  -1.6483        0.21405        0.54428
    'fracByP75'                  -1.3769        0.35645        0.65879
    'fracByP80'                  -1.1111        0.44145        0.71954
    'fracByP85'                 -0.86933        0.53731        0.78413
    'fracByP90'                 -0.43911        0.65007         0.8502
    'fracByP95'                 0.054796        0.79071        0.92039
    'fracByP99'                  0.72407        0.94355        0.98242
    'fracByP99_9'                0.96182        0.99254        0.99807

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 15.809454 seconds.
Elapsed time is 5.348748 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                      0.63715          1.9105         1.2733
    'sd'                         1.8907          2.1954        0.33082
    'coefofvar'                  2.9675          1.1491        0.25981
    'min'                       -4.6809         -4.6809           0.01
    'max'                            50          54.536         4.5358
    'pYis0'                    0.027465               0              0
    'pYls0'                     0.37054         0.14823              0
    'pYgr0'                     0.60199         0.85177              1
    'pYisMINY'               -3.138e-35     -1.3479e-35    -1.3479e-35
    'pYisMAXY'               5.2782e-36      5.0147e-36     5.0147e-36
    'p0_1'                      -4.1692         -3.7778        0.37093
    'p1'                         -3.365         -2.7361        0.61397
    'p5'                        -2.1223         -1.2963        0.77985
    'p10'                       -1.3913        -0.49584        0.86213
    'p15'                      -0.95264       0.0055394        0.90957
    'p20'                      -0.58713         0.36506        0.96042
    'p25'                      -0.36782         0.64592         1.0103
    'p35'                     -0.075407          1.0479         1.1183
    'p50'                       0.29011          1.6061         1.2891
    'p65'                       0.87493          2.2912         1.4071
    'p75'                        1.4598          2.9549         1.4973
    'p80'                        1.8253          3.3794         1.5774
    'p85'                         2.337          3.9322         1.6137
    'p90'                        2.9949          4.7005          1.698
    'p95'                        4.1646          5.9744         1.8189
    'p99'                        6.7232           8.761         2.0576
    'p99_9'                      10.013          12.287         2.2988
    'fl_cov_cl_mt_pol_a'         3.5749          4.1426        0.56772
    'fl_cor_cl_mt_pol_a'              1           0.998        0.90764
    'fl_cov_cl_mt_coh'           4.1426          4.8197        0.67716
    'fl_cor_cl_mt_coh'            0.998               1        0.93237
    'fl_cov_cl_mt_pol_c'        0.56772         0.67716        0.10944
    'fl_cor_cl_mt_pol_c'        0.90764         0.93237              1
    'fracByP0_1'               -0.00894      -0.0021186     0.00024243
    'fracByP1'                -0.063493       -0.016901      0.0040408
    'fracByP5'                 -0.22589       -0.056302       0.026489
    'fracByP10'                -0.36323       -0.078601       0.058894
    'fracByP15'                -0.45055       -0.084529       0.094081
    'fracByP20'                -0.51582       -0.079289        0.13067
    'fracByP25'                -0.54767       -0.065603         0.1694
    'fracByP35'                -0.57394        -0.01974        0.25247
    'fracByP50'                -0.54528        0.082758         0.3929
    'fracByP65'                -0.40287          0.2345        0.55429
    'fracByP75'                  -0.214         0.37173        0.66556
    'fracByP80'               -0.089936         0.45378        0.72693
    'fracByP85'                 0.07817         0.54857        0.78873
    'fracByP90'                 0.27157          0.6622         0.8538
    'fracByP95'                 0.55004         0.79876        0.92303
    'fracByP99'                 0.87281         0.94598        0.98304
    'fracByP99_9'               0.98245          0.9929        0.99814

</pre><h2 id="3">Simulate Model with Discount = 0.96</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(2))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(2);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map(<span class="string">'it_z_n'</span>);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> it_z_n]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 27.685422 seconds.
Elapsed time is 5.581977 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                       1.1936          2.5004         1.3068
    'sd'                         1.6949          1.9729        0.32239
    'coefofvar'                    1.42         0.78903         0.2467
    'min'                       -4.6809         -4.6809           0.01
    'max'                            50          54.536         4.5358
    'pYis0'                     0.07736               0              0
    'pYls0'                     0.17784        0.014967              0
    'pYgr0'                      0.7448         0.98503              1
    'pYisMINY'               1.7821e-35      3.0151e-35     3.0151e-35
    'pYisMAXY'               -7.395e-36     -6.4655e-36    -6.4655e-36
    'p0_1'                      -1.6837         -1.0649        0.57194
    'p1'                       -0.87954        -0.16026        0.66148
    'p5'                       -0.29472         0.46473         0.7525
    'p10'                      -0.14851         0.70751        0.86285
    'p15'                    -0.0023045         0.90584        0.91067
    'p20'                             0          1.0454        0.99325
    'p25'                             0          1.1595         1.0618
    'p35'                         0.217          1.4202         1.2088
    'p50'                       0.65562          1.9281         1.3231
    'p65'                        1.2404          2.6301         1.4236
    'p75'                        1.7522          3.3045         1.5131
    'p80'                        2.1908           3.754         1.5884
    'p85'                        2.7025          4.3143         1.6356
    'p90'                        3.4335          5.1353          1.709
    'p95'                        4.6763          6.4766         1.8262
    'p99'                        7.3811          9.4064         2.0437
    'p99_9'                       10.89          13.145         2.2847
    'fl_cov_cl_mt_pol_a'         2.8728          3.3306        0.45786
    'fl_cor_cl_mt_pol_a'              1         0.99601        0.83791
    'fl_cov_cl_mt_coh'           3.3306          3.8924         0.5618
    'fl_cor_cl_mt_coh'          0.99601               1        0.88325
    'fl_cov_cl_mt_pol_c'        0.45786          0.5618        0.10394
    'fl_cor_cl_mt_pol_c'        0.83791         0.88325              1
    'fracByP0_1'             -0.0018265     -0.00058656     0.00041348
    'fracByP1'                -0.010691      -0.0022386      0.0047835
    'fracByP5'                -0.031681       0.0018871       0.027545
    'fracByP10'               -0.038358         0.01365       0.061605
    'fracByP15'               -0.040519        0.031494       0.094503
    'fracByP20'               -0.040519        0.049221        0.12908
    'fracByP25'               -0.040519        0.070461         0.1715
    'fracByP35'               -0.026895           0.123        0.26819
    'fracByP50'                0.034689         0.22199        0.40335
    'fracByP65'                 0.14315         0.35739        0.55848
    'fracByP75'                 0.25573         0.47659        0.67337
    'fracByP80'                 0.34551         0.54722        0.73286
    'fracByP85'                 0.44952         0.62701        0.79318
    'fracByP90'                 0.57116         0.72119        0.85718
    'fracByP95'                 0.73855         0.83476        0.92512
    'fracByP99'                 0.92623         0.95587        0.98358
    'fracByP99_9'                0.9899         0.99418        0.99819

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 22.957776 seconds.
Elapsed time is 6.664236 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                       1.9526          3.2767         1.3241
    'sd'                         2.4367           2.703        0.29997
    'coefofvar'                  1.2479         0.82493        0.22655
    'min'                       -4.6809         -4.6809           0.01
    'max'                            50          54.536         4.5358
    'pYis0'                    0.024266               0              0
    'pYls0'                     0.15125        0.031831              0
    'pYgr0'                     0.82449         0.96817              1
    'pYisMINY'               1.1331e-35     -1.6969e-35    -1.6969e-35
    'pYisMAXY'               3.3702e-17      5.2081e-18     5.2081e-18
    'p0_1'                      -2.7802         -2.1807        0.56865
    'p1'                        -1.4644        -0.73598        0.68678
    'p5'                       -0.58713         0.27986        0.82013
    'p10'                      -0.14851         0.72597        0.89507
    'p15'                    -0.0023045         0.96661        0.98094
    'p20'                      0.070798          1.1954         1.0496
    'p25'                         0.217          1.3563         1.1282
    'p35'                       0.58252          1.8052         1.2197
    'p50'                        1.2404          2.5834         1.3322
    'p65'                        2.1177          3.5931         1.4346
    'p75'                        2.9949          4.5285         1.5302
    'p80'                        3.5066          5.1028         1.5625
    'p85'                        4.2377          5.8772         1.6377
    'p90'                        5.2611          6.9262            1.7
    'p95'                        6.8694          8.6245         1.8022
    'p99'                        10.305          12.321         2.0131
    'p99_9'                      14.764          17.003          2.232
    'fl_cov_cl_mt_pol_a'         5.9376           6.577        0.63942
    'fl_cor_cl_mt_pol_a'              1         0.99855        0.87479
    'fl_cov_cl_mt_coh'            6.577          7.3064        0.72941
    'fl_cor_cl_mt_coh'          0.99855               1        0.89957
    'fl_cov_cl_mt_pol_c'        0.63942         0.72941       0.089983
    'fl_cor_cl_mt_pol_c'        0.87479         0.89957              1
    'fracByP0_1'             -0.0017945     -0.00083141     0.00038966
    'fracByP1'                -0.010873      -0.0041492      0.0048195
    'fracByP5'                -0.028837      -0.0052301       0.028226
    'fracByP10'               -0.038279       0.0029553       0.060466
    'fracByP15'               -0.039184        0.015926       0.095662
    'fracByP20'               -0.037972        0.033963        0.13488
    'fracByP25'               -0.033709        0.052305        0.17607
    'fracByP35'              -0.0095677         0.10014        0.26473
    'fracByP50'                0.058136         0.19976        0.41031
    'fracByP65'                 0.18336         0.34043        0.56835
    'fracByP75'                 0.31959         0.46442        0.67966
    'fracByP80'                  0.3978         0.53652        0.73743
    'fracByP85'                 0.49692         0.61951        0.79855
    'fracByP90'                 0.62487         0.71735        0.86108
    'fracByP95'                 0.77485         0.83394        0.92702
    'fracByP99'                 0.93736         0.95617        0.98405
    'fracByP99_9'               0.99158         0.99427        0.99825

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 18.270730 seconds.
Elapsed time is 5.286369 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                        2.7554         4.0996         1.3442
    'sd'                          3.0725         3.3319        0.28762
    'coefofvar'                   1.1151        0.81273        0.21398
    'min'                        -4.6809        -4.6809           0.01
    'max'                             50         54.536         4.5358
    'pYis0'                     0.014051              0              0
    'pYls0'                      0.12522       0.031851              0
    'pYgr0'                      0.86073        0.96815              1
    'pYisMINY'               -1.8403e-35    -1.3333e-35    -1.3333e-35
    'pYisMAXY'                 8.095e-13     1.0261e-13     1.0261e-13
    'p0_1'                       -3.0726        -2.4695         0.5647
    'p1'                         -1.6106       -0.87632        0.71604
    'p5'                        -0.51402        0.34551        0.83242
    'p10'                       -0.14851         0.8258        0.94625
    'p15'                       0.070798         1.1262         1.0346
    'p20'                        0.29011         1.4202         1.1127
    'p25'                        0.50941         1.6842         1.1471
    'p35'                         1.0211         2.2837         1.2398
    'p50'                         1.9715         3.3038         1.3458
    'p65'                         3.1411         4.5776         1.4554
    'p75'                         4.2377         5.7273         1.5503
    'p80'                         4.8956         6.4515         1.5814
    'p85'                         5.7728         7.3758         1.6319
    'p90'                         6.9425         8.6069         1.7058
    'p95'                         8.8431         10.646         1.8096
    'p99'                         12.937         14.954         2.0107
    'p99_9'                       18.273          20.45           2.23
    'fl_cov_cl_mt_pol_a'          9.4401         10.229        0.78918
    'fl_cor_cl_mt_pol_a'               1        0.99925        0.89301
    'fl_cov_cl_mt_coh'            10.229         11.101         0.8719
    'fl_cor_cl_mt_coh'           0.99925              1        0.90982
    'fl_cov_cl_mt_pol_c'         0.78918         0.8719       0.082728
    'fl_cor_cl_mt_pol_c'         0.89301        0.90982              1
    'fracByP0_1'              -0.0013082    -0.00072474     0.00037423
    'fracByP1'                -0.0086771      -0.003847      0.0048497
    'fracByP5'                 -0.022404      -0.004951       0.029138
    'fracByP10'                -0.027021      0.0028532       0.061586
    'fracByP15'                -0.027105       0.014481       0.098284
    'fracByP20'                -0.023076       0.030776        0.13825
    'fracByP25'                -0.015874       0.048974         0.1801
    'fracByP35'                 0.012408       0.097257        0.27156
    'fracByP50'                 0.096172        0.19895        0.41531
    'fracByP65'                  0.23593        0.34174        0.57282
    'fracByP75'                  0.36812         0.4672        0.68336
    'fracByP80'                  0.44698         0.5417        0.74157
    'fracByP85'                  0.54513        0.62518        0.80141
    'fracByP90'                  0.65732        0.72177        0.86325
    'fracByP95'                  0.79527         0.8379        0.92832
    'fracByP99'                  0.94461        0.95777        0.98435
    'fracByP99_9'                 0.9928        0.99449        0.99828

</pre><h2 id="4">Simulate Model with Discount = 0.98</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(3))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(3);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map(<span class="string">'it_z_n'</span>);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> it_z_n]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
clear <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 48.148721 seconds.
Elapsed time is 8.779907 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a    cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    __________    ___________

    'mean'                        48.107         50.59        2.4827 
    'sd'                          1.9532         2.194       0.34606 
    'coefofvar'                   0.0406      0.043369       0.13939 
    'min'                        -4.6809       -4.6809          0.01 
    'max'                             50        54.536        4.5358 
    'pYis0'                   5.3816e-18             0             0 
    'pYls0'                   7.3406e-18    1.5635e-19             0 
    'pYgr0'                            1             1             1 
    'pYisMINY'               -1.8498e-36    -1.917e-36    -1.917e-36 
    'pYisMAXY'                   0.14357     0.0020076     0.0020076 
    'p0_1'                        38.888        40.798        1.9022 
    'p1'                          41.739        43.795        2.0182 
    'p5'                          44.225        46.314        2.1206 
    'p10'                         45.395        47.588        2.1672 
    'p15'                         46.126        48.366        2.1992 
    'p20'                         46.637        48.926        2.2406 
    'p25'                         47.076        49.385        2.2817 
    'p35'                          47.88        50.172        2.3217 
    'p50'                         48.684        51.071        2.4185 
    'p65'                         49.342         51.82        2.5149 
    'p75'                         49.708        52.259         2.564 
    'p80'                         49.854        52.459        2.6444 
    'p85'                         49.927        52.644        2.7673 
    'p90'                             50        52.859        2.8585 
    'p95'                             50        53.106        3.1055 
    'p99'                             50        53.719        3.7192 
    'p99_9'                           50        54.536        4.5358 
    'fl_cov_cl_mt_pol_a'          3.8148        4.2544       0.43953 
    'fl_cor_cl_mt_pol_a'               1       0.99279       0.65028 
    'fl_cov_cl_mt_coh'            4.2544        4.8137       0.55929 
    'fl_cor_cl_mt_coh'           0.99279             1       0.73662 
    'fl_cov_cl_mt_pol_c'         0.43953       0.55929       0.11976 
    'fl_cor_cl_mt_pol_c'         0.65028       0.73662             1 
    'fracByP0_1'              0.00081814    0.00078428     0.0007586 
    'fracByP1'                 0.0085102     0.0084642     0.0079751 
    'fracByP5'                  0.046239      0.044355      0.041608 
    'fracByP10'                 0.092083      0.090902      0.084869 
    'fracByP15'                  0.14077       0.13883       0.12924 
    'fracByP20'                  0.18892       0.18672       0.17389 
    'fracByP25'                  0.23692       0.23499       0.21897 
    'fracByP35'                  0.34488       0.33435       0.31297 
    'fracByP50'                  0.49519       0.48445       0.45404 
    'fracByP65'                  0.64793       0.63689       0.60194 
    'fracByP75'                  0.75404       0.73921       0.70556 
    'fracByP80'                  0.81187       0.79954       0.78225 
    'fracByP85'                  0.85078       0.85606       0.81036 
    'fracByP90'                        1       0.90819       0.87149 
    'fracByP95'                        1        0.9512       0.93125 
    'fracByP99'                        1       0.99174        0.9869 
    'fracByP99_9'                      1             1             1 

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 75.476459 seconds.
Elapsed time is 14.038093 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                        47.201         49.661           2.46
    'sd'                          2.7136         2.9458        0.32739
    'coefofvar'                  0.05749       0.059318        0.13309
    'min'                        -4.6809        -4.6809           0.01
    'max'                             50         54.536         4.5358
    'pYis0'                   2.9123e-12              0              0
    'pYls0'                   1.1617e-11     1.0066e-12              0
    'pYgr0'                            1              1              1
    'pYisMINY'               -2.2072e-35    -2.2443e-35    -2.2443e-35
    'pYisMAXY'                   0.11088      0.0017078      0.0017078
    'p0_1'                        33.917         35.824         1.8675
    'p1'                          38.596         40.581         1.9891
    'p5'                          41.886         43.991         2.0968
    'p10'                         43.348         45.554         2.1689
    'p15'                         44.371         46.614         2.2101
    'p20'                         45.175         47.427         2.2415
    'p25'                          45.76         48.066         2.2659
    'p35'                         46.783         49.123         2.3026
    'p50'                          47.88         50.311          2.402
    'p65'                          48.83         51.324         2.4856
    'p75'                         49.415         51.934         2.5384
    'p80'                         49.634         52.223         2.6173
    'p85'                         49.854         52.459         2.6796
    'p90'                             50         52.784         2.8585
    'p95'                             50         53.106         3.1055
    'p99'                             50         53.719         3.7192
    'p99_9'                           50         54.536         4.5358
    'fl_cov_cl_mt_pol_a'          7.3635         7.9671        0.60352
    'fl_cor_cl_mt_pol_a'               1        0.99667        0.67933
    'fl_cov_cl_mt_coh'            7.9671         8.6778        0.71071
    'fl_cor_cl_mt_coh'           0.99667              1        0.73691
    'fl_cov_cl_mt_pol_c'         0.60352        0.71071        0.10719
    'fl_cor_cl_mt_pol_c'         0.67933        0.73691              1
    'fracByP0_1'              0.00068272     0.00068628     0.00073877
    'fracByP1'                  0.007971      0.0077739       0.007876
    'fracByP5'                  0.043068       0.042416       0.041336
    'fracByP10'                 0.088291       0.087454       0.084789
    'fracByP15'                  0.13512        0.13433        0.12934
    'fracByP20'                  0.18424        0.18136        0.17483
    'fracByP25'                  0.23039        0.22927        0.22098
    'fracByP35'                  0.32891        0.32781        0.31329
    'fracByP50'                  0.48014        0.47828        0.45789
    'fracByP65'                  0.63718        0.63187        0.60467
    'fracByP75'                  0.74901        0.73612         0.7072
    'fracByP80'                  0.80248        0.78965        0.75949
    'fracByP85'                  0.85575        0.84134        0.81309
    'fracByP90'                        1        0.89701        0.89109
    'fracByP95'                        1        0.95889        0.94203
    'fracByP99'                        1        0.99276        0.98865
    'fracByP99_9'                      1              1              1

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 59.222667 seconds.
Elapsed time is 11.357445 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a    cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    __________    ___________

    'mean'                       46.453         48.895        2.4413 
    'sd'                         3.3963         3.6254       0.31837 
    'coefofvar'                0.073112       0.074147       0.13041 
    'min'                       -4.6809        -4.6809          0.01 
    'max'                            50         54.536        4.5358 
    'pYis0'                  8.3562e-10              0             0 
    'pYls0'                  4.0973e-09     5.9014e-10             0 
    'pYgr0'                           1              1             1 
    'pYisMINY'               3.2162e-35     2.8911e-35    2.8911e-35 
    'pYisMAXY'                 0.093543      0.0015195     0.0015195 
    'p0_1'                       29.751         31.526        1.7937 
    'p1'                         35.306         37.305        1.9519 
    'p5'                         39.693         41.808        2.0859 
    'p10'                        41.812         43.981        2.1508 
    'p15'                        43.055         45.294        2.1937 
    'p20'                        44.006         46.275        2.2225 
    'p25'                         44.81         47.063        2.2476 
    'p35'                        45.979         48.262        2.3026 
    'p50'                        47.295         49.686        2.3902 
    'p65'                        48.465         50.921        2.4489 
    'p75'                        49.123          51.66        2.5282 
    'p80'                        49.415         52.009         2.605 
    'p85'                        49.708         52.334        2.6444 
    'p90'                        49.927         52.644        2.7836 
    'p95'                            50         53.106        3.1055 
    'p99'                            50         53.719        3.7192 
    'p99_9'                          50         54.536        4.5358 
    'fl_cov_cl_mt_pol_a'         11.535         12.288       0.75353 
    'fl_cor_cl_mt_pol_a'              1        0.99801       0.69689 
    'fl_cov_cl_mt_coh'           12.288         13.143       0.85489 
    'fl_cor_cl_mt_coh'          0.99801              1       0.74067 
    'fl_cov_cl_mt_pol_c'        0.75353        0.85489       0.10136 
    'fl_cor_cl_mt_pol_c'        0.69689        0.74067             1 
    'fracByP0_1'              0.0006025     0.00059115    0.00071058 
    'fracByP1'                0.0071346      0.0071154     0.0077385 
    'fracByP5'                 0.040262       0.039955      0.041181 
    'fracByP10'                0.084713        0.08401      0.084666 
    'fracByP15'                 0.12987        0.12988       0.12902 
    'fracByP20'                 0.17656        0.17668        0.1743 
    'fracByP25'                 0.22695        0.22432        0.2206 
    'fracByP35'                 0.32851        0.32189       0.31339 
    'fracByP50'                 0.47726        0.47326       0.45815 
    'fracByP65'                 0.63356        0.62677       0.60611 
    'fracByP75'                 0.73753        0.73174        0.7124 
    'fracByP80'                 0.78638        0.78709       0.77042 
    'fracByP85'                 0.84334        0.83899       0.82996 
    'fracByP90'                 0.89931        0.89886        0.8708 
    'fracByP95'                       1        0.96327       0.94833 
    'fracByP99'                       1        0.99343       0.98977 
    'fracByP99_9'                     1              1             1 

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Preference *No Default* (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html
% ff_az_ds_vecsv> program for solving the savings + borrowing problem using
% full-states-markov eigenvector-sparse-matrix approach.
%
% defaults in ffs_abz_set_default_param.m are:
%
% * param_map('fl_beta') = 0.94;
% * param_map('fl_crra') = 1.5;
%
% Test across various discount and risk aversion levels. 
%
% Default is not allowed, natural borrowing constraint. 
%
% @seealso
%
% * test interest rate no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html fsi_abz_ds_vecsv_nbc> 
% * test interest rate default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html fsi_abz_ds_vecsv_default> 
% * test shock no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html fsi_abz_ds_vecsv_shk_nbc>
% * test shock default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html fsi_abz_ds_vecsv_shk_default>
% * test shock default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html fsi_abz_ds_vecsv_shk_default_lowcmin>
% * test preference no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html fsi_abz_ds_vecsv_pref_nbc>
% * test preference default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html fsi_abz_ds_vecsv_pref_default>
% * test preference default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html fsi_abz_ds_vecsv_pref_default_lowcmin>
%

%% Set Shared Parameters

close all;
clear all;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];

% Accuracy
% ar_it_a_n_hg = [750, 1250, 1750, 2250];
% ar_it_z_n_hg = [15, 19, 23, 27];
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

% Borrowing/Savings Parameters
it_a_n = 750;
it_z_n = 15;

bl_default = false;
fl_c_min = 0.01; % irrelevant when bl_default = false
fl_b_bd = -20;

%% Simulate Model with Discount = 0.94

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(1))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(1);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map('it_z_n');
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' it_z_n]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount = 0.96

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(2))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(2);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map('it_z_n');
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' it_z_n]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end
    
    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount = 0.98

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(3))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(3);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map('it_z_n');
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' it_z_n]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end
    
    % Snap
    snapnow;

end

% close all
close all;
clear all;

##### SOURCE END #####
--></body></html>