
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Preference No Default (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-21"><meta name="DC.source" content="fsi_abz_ds_vecsv_pref_nbc.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Preference No Default (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds.html">ff_az_ds</a> program for solving the savings only dynamic programming problem.</p><p>defaults in ffs_abz_set_default_param.m are:</p><div><ul><li>param_map('fl_beta') = 0.94;</li><li>param_map('fl_crra') = 1.5;</li></ul></div><p>here test three levels of discount:</p><div><ul><li>0.94</li><li>0.96</li><li>0.98</li></ul></div><p>for each shock, thest at these crra levels</p><div><ul><li>log (1)</li><li>1.5</li><li>2.0</li></ul></div><p>As crra level increases, general consumption variance goes down, this is achieved by increasing asset variance. Mean savings and mean consumption both go up. The percentiles of consumption is tighter.</p><p>Borrowing is bound by the natural borrowing constraint, which is never binding. Zero mass at asset min which is NBC bound.</p><p>As discount factor increases, savings increas and borrowing decrease. At 0.98, only the 0.1 percentile of households are participating in borrowing.</p><p>With higher discount factor, model solution takes longer to converge. Also the case when crra parameter increases. Max speed 7.9 seconds, crra = 2 and beta = .98; min speed 1.9 seconds, crra = 1, beta = 0.94</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Set Shared Parameters</a></li><li><a href="#2">Simulate Model with Discount = 0.94</a></li><li><a href="#3">Simulate Model with Discount = 0.96</a></li><li><a href="#4">Simulate Model with Discount = 0.98</a></li></ul></div><h2 id="1">Set Shared Parameters</h2><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];
it_a_n = 750;
it_z_n = 15;

bl_default = false;
fl_c_min = 0.01; <span class="comment">% irrelevant when bl_default = false</span>
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;
</pre><h2 id="2">Simulate Model with Discount = 0.94</h2><pre class="codeinput"><span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(1))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(1);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.632643 seconds.
Elapsed time is 0.184168 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65        p75          p80         p85         p90        p95       p99      p99_9 
                     ________    _______    _________    _______    ______    __________    __________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    ________    _______    ________    _________    ________    _______    _______    ______    ______

    cl_mt_pol_a       -2.0676     2.1046     -1.0179     -6.8413    48.176      0.022871    6.4451e-36    -1.3078e-35    -6.6133    -6.4613    -5.8534    -5.1695    -4.5616    -4.1056    -3.6497    -2.8898     -1.7499     -0.838    -0.30606    -0.078088    0.073894    0.30187    0.75781    2.1257    3.9494
    cl_mt_pol_coh    -0.92712     2.4368     -2.6284     -6.8413    54.286             0    2.5788e-35    -1.3078e-35    -6.4514    -6.0368     -5.186    -4.4348    -3.7874    -3.2213    -2.7581    -1.8688    -0.67154    0.33962     0.96375       1.2303      1.5473     1.9309     2.6221    4.2562     6.349
    cl_mt_pol_c        1.1405    0.36401     0.31918           0    6.1096    2.5788e-35    2.5788e-35    -1.3078e-35    0.16188    0.36746    0.61377    0.73915    0.79771    0.84288    0.91626    0.99248      1.0917     1.2145      1.2936       1.3941      1.5169     1.6451     1.8684    2.1823    2.4863

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.668445 seconds.
Elapsed time is 0.118637 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max         pYis0        pYisMINY       pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65        p75        p80        p85        p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ___________    ___________    __________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ______    _______    _______    _______    ______    ______    ______

    cl_mt_pol_a       -1.5285      2.218     -1.4511     -6.8413     49.24      0.0082447    -5.0167e-35    1.1241e-35    -6.5373    -6.2334    -5.3975    -4.6376    -4.0296    -3.4977    -3.1177    -2.3578     -1.2939    -0.45804         0    0.22588    0.52984    0.98579    1.8217    3.7975    6.3052
    cl_mt_pol_coh    -0.36043     2.5459     -7.0633     -6.8413    54.286              0    -2.1211e-35    1.1241e-35    -6.2874    -5.7702    -4.7181    -3.8921    -3.2209    -2.6477    -2.1688    -1.3023    -0.16928     0.80189    1.3635     1.6839     2.0859     2.6324    3.6214       5.8    8.5718
    cl_mt_pol_c         1.168    0.34974     0.29942           0    5.0457    -2.1211e-35    -2.1211e-35    1.1241e-35    0.24775    0.45827    0.64834    0.76911    0.83134    0.87181     0.9212     1.0249      1.1237      1.2661    1.3698     1.4567     1.5461     1.6542    1.8152    2.0664    2.3438

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.557943 seconds.
Elapsed time is 0.151159 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65          p75       p80       p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    __________    __________    ___________    _______    _______    _______    _______    _______    _______    _______    ________    ________    __________    _______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.92204     2.3601     -2.5596     -6.8413    49.848      0.007311    5.2647e-35    -9.7739e-36    -6.3853    -5.9294    -4.9415    -4.1056    -3.4977    -2.9657    -2.5098     -1.7499    -0.76201    -0.0020974    0.45385    0.8338    1.2898    1.8977    2.9616    5.3173    8.3569
    cl_mt_pol_coh     0.27478     2.6782      9.7468     -6.8413    54.286             0    2.4879e-35    -9.7739e-36    -6.1178    -5.4288    -4.2149    -3.3246    -2.5962    -2.0069    -1.5213    -0.71202     0.39724        1.2826     1.9042    2.2934    2.7875    3.4982    4.7068    7.3316    10.606
    cl_mt_pol_c        1.1968    0.33601     0.28075           0    4.4378    2.4879e-35    2.4879e-35    -9.7739e-36    0.26263    0.48376    0.68292    0.80369     0.8671    0.90709    0.95084      1.0595      1.1563        1.2936     1.4359    1.4886    1.5607    1.6549    1.7926    2.0152    2.2508

</pre><h2 id="3">Simulate Model with Discount = 0.96</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(2))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(2);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    result_map = ff_az_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.476474 seconds.
Elapsed time is 1.894739 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY     pYisMAXY     p0_1        p1          p5          p10         p15         p20         p25          p35          p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    __________    ________    _______    _______    ________    _________    ________    ________    ________    __________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.5069     1.5159      2.9906     -6.8413    49.772      0.040143    2.3124e-34       0        -4.4096    -2.6618     -1.4459     -0.98998    -0.68602    -0.45804    -0.30606    -0.0020974    0.14988    0.60583    1.0618    1.3657    1.8217    2.3536    3.4175    5.6972    8.6609
    cl_mt_pol_coh    1.7856      1.812      1.0148     -6.8413    54.286             0    8.8734e-35       0        -3.8102     -1.926    -0.60965    -0.065031     0.26579     0.54242     0.74427        1.0456     1.4698     2.0534    2.5549    2.9386    3.4036    4.0761    5.1903    7.7298    10.908
    cl_mt_pol_c      1.2787    0.32851     0.25691           0    4.5138    8.8734e-35    8.8734e-35       0        0.57755     0.6961     0.78501       0.8899     0.92495     0.96446      1.0023        1.1129     1.2893     1.4068    1.5087    1.5607    1.6458    1.7088     1.841    2.0698    2.3042

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.872709 seconds.
Elapsed time is 2.226525 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY      p0_1        p1         p5         p10         p15        p20         p25        p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    __________    __________    __________    _______    _______    _______    ________    _______    ________    ________    ______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.94484      2.221      2.3506     -6.8413        50      0.022303    1.6925e-43    3.7472e-25    -5.5494    -3.8776    -2.0539     -1.2939     -0.838    -0.45804    -0.23007         0    0.52984    1.2138    1.8977    2.3536    2.9616    3.7975    5.0893    8.1289    11.928
    cl_mt_pol_coh      2.229     2.4999      1.1215     -6.8413    54.286             0    6.4949e-44    9.8605e-26    -5.0657    -3.1637    -1.2381    -0.37171    0.15445     0.50193     0.78744    1.2007     1.8208    2.6285    3.4036    3.9195    4.5518    5.4228    6.8916     10.07    14.086
    cl_mt_pol_c       1.2842    0.30518     0.23765           0    4.2858    6.4949e-44    6.4949e-44    9.8605e-26    0.50352    0.69806    0.82568     0.89483    0.93906     0.97928       1.028    1.1284     1.2999    1.4096     1.493    1.5698    1.5987    1.6875    1.7939    1.9859    2.2207

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.892633 seconds.
Elapsed time is 2.955757 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25         p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    __________    __________    _______    _______    _______    ________    ________    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      1.5327     2.7379      1.7863     -6.8413        50      0.018033    4.1268e-51    5.0457e-17    -5.6254    -3.9536    -2.1298      -1.218    -0.68602    -0.38205    -0.15408    0.30187    0.98579    1.8977    2.8096    3.3415    4.1014    5.0893    6.7611    10.257     14.74
    cl_mt_pol_coh      2.83     3.0051      1.0618     -6.8413    54.286             0    1.5836e-51    1.0343e-17    -5.0827    -3.2213    -1.2214    -0.26689     0.27573     0.64098     0.96308     1.4444     2.2918    3.3432    4.3167    4.9272    5.7141    6.7405    8.5049    12.225    16.935
    cl_mt_pol_c      1.2973    0.29032     0.22379           0    4.2858    1.5836e-51    1.5836e-51    1.0343e-17    0.49858    0.69806    0.84521     0.90519     0.95953      1.0181      1.0734     1.2023     1.3121    1.4156    1.5075    1.5387    1.6093    1.6632    1.7693    1.9505    2.1735

</pre><h2 id="4">Simulate Model with Discount = 0.98</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(3))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(3);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    result_map = ff_az_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
clear <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 4.257202 seconds.
Elapsed time is 2.778573 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    __________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a       22.03     13.418     0.60907     -6.8413        50      0.001475    2.0469e-51     0.0030013    -0.45804    0.22588    2.3536    4.6334    6.7611    8.5849    10.409    14.436    20.971    28.115    33.054    35.486    38.145    41.109    44.681    49.012        50
    cl_mt_pol_coh    23.754     13.746      0.5787     -6.8413    54.286             0    7.8546e-52    9.0994e-05     0.26579     1.2303    3.6095    5.9512    8.0992     9.992    11.913    16.023    22.689    29.975    34.995    37.491    40.225    43.248    46.948    51.464     53.14
    cl_mt_pol_c      1.7238    0.33818     0.19618           0    4.2858    7.8546e-52    7.8546e-52    9.0994e-05     0.73371    0.98888    1.1968    1.3014    1.3582    1.4337    1.4853    1.5766    1.7145    1.8564    1.9552    2.0159    2.0811    2.1556    2.2698    2.5052    3.1405

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 4.345275 seconds.
Elapsed time is 2.865491 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0       pYisMINY     pYisMAXY       p0_1         p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    _________    __________    _________    _________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      23.145     13.499     0.58321     -6.8413        50    0.0008425    1.2389e-52    0.0042589     -0.76201    0.37786    2.9616    5.5452     7.749    9.8007    11.701    15.728    22.187    29.178     34.27    36.854    39.589    42.401    45.669    49.392        50
    cl_mt_pol_coh    24.886     13.828     0.55565     -6.8413    54.286            0     4.754e-53    0.0001183    -0.024094     1.3617    4.1617    6.8312    9.1433    11.222    13.221    17.323     23.93    31.048    36.208    38.908    41.677    44.607    47.958    51.908    53.392
    cl_mt_pol_c       1.741    0.33966      0.1951           0    4.2858    4.754e-53     4.754e-53    0.0001183      0.72877     1.0099    1.2168     1.319    1.3776      1.44    1.5005    1.5959    1.7297    1.8777    1.9793    2.0325    2.0874    2.1686     2.288    2.5212    3.3917

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 4.804099 seconds.
Elapsed time is 2.995629 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    __________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      24.163     13.396     0.55438     -6.8413        50    0.00062258    4.0899e-58     0.0051498      -1.066    0.45385    3.4935    6.3811    8.8889    11.093    13.068    17.172    23.403    30.318    35.106    37.689    40.349    43.161    46.276     49.62        50
    cl_mt_pol_coh    25.921     13.723     0.52943     -6.8413    54.286             0    1.5694e-58    0.00013864    -0.29857     1.5263    4.7662    7.7378     10.27    12.523    14.582    18.755    25.167    32.164    37.125    39.731    42.473    45.341    48.566    52.131    53.469
    cl_mt_pol_c      1.7574    0.33799     0.19233           0    4.2858    1.5694e-58    1.5694e-58    0.00013864     0.78921     1.0369    1.2427    1.3379    1.3987    1.4565    1.5193    1.6105    1.7515    1.8912    1.9947    2.0489    2.1032    2.1713    2.2963    2.5295    3.4692

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Preference No Default (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds.html
% ff_az_ds> program for solving the savings only dynamic
% programming problem.
%
% defaults in ffs_abz_set_default_param.m are:
%
% * param_map('fl_beta') = 0.94;
% * param_map('fl_crra') = 1.5;
%
% here test three levels of discount:
%
% * 0.94
% * 0.96
% * 0.98
%
% for each shock, thest at these crra levels
%
% * log (1)
% * 1.5
% * 2.0
%
% As crra level increases, general consumption variance goes down, this is
% achieved by increasing asset variance. Mean savings and mean consumption
% both go up. The percentiles of consumption is tighter.
%
% Borrowing is bound by the natural borrowing constraint, which is never
% binding. Zero mass at asset min which is NBC bound. 
%
% As discount factor increases, savings increas and borrowing decrease. At
% 0.98, only the 0.1 percentile of households are participating in
% borrowing. 
%
% With higher discount factor, model solution takes longer to converge.
% Also the case when crra parameter increases. Max speed 7.9 seconds, crra
% = 2 and beta = .98; min speed 1.9 seconds, crra = 1, beta = 0.94
%

%% Set Shared Parameters

close all;
clear all;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];
it_a_n = 750;
it_z_n = 15;

bl_default = false;
fl_c_min = 0.01; % irrelevant when bl_default = false
fl_b_bd = -20;   
fl_r_save = 0.02;
fl_r_borr = 0.065;

%% Simulate Model with Discount = 0.94

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(1))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_beta') = ar_fl_beta(1);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount = 0.96

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(2))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_beta') = ar_fl_beta(2);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    result_map = ff_az_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount = 0.98

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(3))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_beta') = ar_fl_beta(3);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    result_map = ff_az_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    % Snap
    snapnow;

end

% close all
close all;
clear all;

##### SOURCE END #####
--></body></html>