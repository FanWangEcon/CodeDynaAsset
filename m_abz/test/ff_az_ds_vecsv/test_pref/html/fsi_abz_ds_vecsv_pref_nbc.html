
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Preference No Default (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-29"><meta name="DC.source" content="fsi_abz_ds_vecsv_pref_nbc.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Preference <b>No Default</b> (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html">ff_az_ds_vecsv</a> program for solving the savings + borrowing problem using full-states-markov eigenvector-sparse-matrix approach.</p><p>defaults in ffs_abz_set_default_param.m are:</p><div><ul><li>param_map('fl_beta') = 0.94;</li><li>param_map('fl_crra') = 1.5;</li></ul></div><p>Test across various discount and risk aversion levels.</p><p>Default is not allowed, natural borrowing constraint.</p><p>@seealso</p><div><ul><li>test interest rate no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html">fsi_abz_ds_vecsv_nbc</a></li><li>test interest rate default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html">fsi_abz_ds_vecsv_default</a></li><li>test shock no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html">fsi_abz_ds_vecsv_shk_nbc</a></li><li>test shock default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html">fsi_abz_ds_vecsv_shk_default</a></li><li>test shock default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html">fsi_abz_ds_vecsv_shk_default_lowcmin</a></li><li>test preference no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html">fsi_abz_ds_vecsv_pref_nbc</a></li><li>test preference default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html">fsi_abz_ds_vecsv_pref_default</a></li><li>test preference default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html">fsi_abz_ds_vecsv_pref_default_lowcmin</a></li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Set Shared Parameters</a></li><li><a href="#2">Simulate Model with Discount = 0.94</a></li><li><a href="#3">Simulate Model with Discount = 0.96</a></li><li><a href="#4">Simulate Model with Discount = 0.98</a></li></ul></div><h2 id="1">Set Shared Parameters</h2><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];

<span class="comment">% Accuracy</span>
<span class="comment">% ar_it_a_n_hg = [750, 1250, 1750, 2250];</span>
<span class="comment">% ar_it_z_n_hg = [15, 19, 23, 27];</span>
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

<span class="comment">% Borrowing/Savings Parameters</span>
it_a_n = 750;
it_z_n = 15;

bl_default = false;
fl_c_min = 0.01; <span class="comment">% irrelevant when bl_default = false</span>
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;
</pre><h2 id="2">Simulate Model with Discount = 0.94</h2><pre class="codeinput"><span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(1))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(1);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.554827 seconds.
Elapsed time is 0.327503 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65        p75          p80         p85         p90        p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    _______    _______    __________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    ________    _______    ________    _________    ________    _______    _______    ______    ______

    cl_mt_pol_a       -2.0676     2.1046     -1.0179     -6.8413    48.176    0.022871    0.82606    0.15107    6.4451e-36    -1.3078e-35    -6.6133    -6.4613    -5.8534    -5.1695    -4.5616    -4.1056    -3.6497    -2.8898     -1.7499     -0.838    -0.30606    -0.078088    0.073894    0.30187    0.75781    2.1257    3.9494
    cl_mt_pol_coh    -0.92712     2.4368     -2.6284     -6.8413    54.286           0    0.59965    0.40035    2.5788e-35    -1.3078e-35    -6.4514    -6.0368     -5.186    -4.4348    -3.7874    -3.2213    -2.7581    -1.8688    -0.67154    0.33962     0.96375       1.2303      1.5473     1.9309     2.6221    4.2562     6.349
    cl_mt_pol_c        1.1405    0.36401     0.31918        0.01    6.1096           0          0          1    2.5788e-35    -1.3078e-35    0.16188    0.36746    0.61377    0.73915    0.79771    0.84288    0.91626    0.99248      1.0917     1.2145      1.2936       1.3941      1.5169     1.6451     1.8684    2.1823    2.4863

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.443277 seconds.
Elapsed time is 0.216923 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max        pYis0       pYls0      pYgr0      pYisMINY       pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65        p75        p80        p85        p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    _________    _______    _______    ___________    __________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ______    _______    _______    _______    ______    ______    ______

    cl_mt_pol_a       -1.5285      2.218     -1.4511     -6.8413     49.24    0.0082447    0.74979    0.24197    -5.0167e-35    1.1241e-35    -6.5373    -6.2334    -5.3975    -4.6376    -4.0296    -3.4977    -3.1177    -2.3578     -1.2939    -0.45804         0    0.22588    0.52984    0.98579    1.8217    3.7975    6.3052
    cl_mt_pol_coh    -0.36043     2.5459     -7.0633     -6.8413    54.286            0    0.52635    0.47365    -2.1211e-35    1.1241e-35    -6.2874    -5.7702    -4.7181    -3.8921    -3.2209    -2.6477    -2.1688    -1.3023    -0.16928     0.80189    1.3635     1.6839     2.0859     2.6324    3.6214       5.8    8.5718
    cl_mt_pol_c         1.168    0.34974     0.29942        0.01    5.0457            0          0          1    -2.1211e-35    1.1241e-35    0.24775    0.45827    0.64834    0.76911    0.83134    0.87181     0.9212     1.0249      1.1237      1.2661    1.3698     1.4567     1.5461     1.6542    1.8152    2.0664    2.3438

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.770830 seconds.
Elapsed time is 0.281861 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65          p75       p80       p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    _______    _______    __________    ___________    _______    _______    _______    _______    _______    _______    _______    ________    ________    __________    _______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.92204     2.3601     -2.5596     -6.8413    49.848    0.007311    0.65564    0.33705    5.2647e-35    -9.7739e-36    -6.3853    -5.9294    -4.9415    -4.1056    -3.4977    -2.9657    -2.5098     -1.7499    -0.76201    -0.0020974    0.45385    0.8338    1.2898    1.8977    2.9616    5.3173    8.3569
    cl_mt_pol_coh     0.27478     2.6782      9.7468     -6.8413    54.286           0    0.44465    0.55535    2.4879e-35    -9.7739e-36    -6.1178    -5.4288    -4.2149    -3.3246    -2.5962    -2.0069    -1.5213    -0.71202     0.39724        1.2826     1.9042    2.2934    2.7875    3.4982    4.7068    7.3316    10.606
    cl_mt_pol_c        1.1968    0.33601     0.28075        0.01    4.4378           0          0          1    2.4879e-35    -9.7739e-36    0.26263    0.48376    0.68292    0.80369     0.8671    0.90709    0.95084      1.0595      1.1563        1.2936     1.4359    1.4886    1.5607    1.6549    1.7926    2.0152    2.2508

</pre><h2 id="3">Simulate Model with Discount = 0.96</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(2))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(2);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.735393 seconds.
Elapsed time is 0.230174 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY       pYisMAXY       p0_1        p1         p5          p10         p15         p20         p25          p35          p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    _______    _______    ___________    ___________    _______    _______    _______    _________    ________    ________    ________    __________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.50125     1.5171      3.0266     -6.8413    49.772    0.040127    0.37851    0.58136    -3.4669e-34    -2.6248e-35    -4.4856    -2.6618    -1.4459     -0.98998    -0.68602    -0.45804    -0.30606    -0.0020974    0.14988    0.60583    1.0618    1.3657    1.7457    2.3536    3.4175    5.6972    8.6609
    cl_mt_pol_coh     1.7792     1.8133      1.0192     -6.8413    54.286           0     0.1099     0.8901    -1.1432e-34     8.0772e-36    -3.8911    -1.9497    -0.6145    -0.065031     0.25869     0.51852     0.72191        1.0456     1.4698     2.0123    2.5549    2.9241    3.3891    4.0745    5.1864    7.7294    10.897
    cl_mt_pol_c       1.2779    0.32865     0.25717        0.01    4.5138           0          0          1    -1.1432e-34     8.0772e-36    0.57267    0.69536    0.78501      0.88776     0.92495     0.96446      1.0002         1.112     1.2878     1.4065    1.5038    1.5607    1.6458    1.7073     1.841     2.069    2.3027

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.988618 seconds.
Elapsed time is 0.233656 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY       pYisMAXY      p0_1        p1         p5         p10         p15        p20         p25        p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    ______    _________    _______    ______    ________    _______    _______    ___________    __________    _______    _______    _______    ________    _______    ________    ________    ______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.92888    2.2216     2.3917      -6.8413        50    0.022296    0.33435    0.64335     9.2909e-37    3.2244e-27    -5.6254    -3.9536    -2.1298     -1.2939     -0.838    -0.53403    -0.23007         0    0.52984    1.2138    1.8977    2.3536    2.9616    3.7215    5.0893    8.1289    11.853
    cl_mt_pol_coh     2.2114    2.5009     1.1309      -6.8413    54.286           0     0.1359     0.8641    -5.2309e-37    7.1956e-28    -5.1227    -3.2437     -1.279    -0.38875    0.13777     0.50148     0.78521    1.2007     1.8208    2.6221    3.3891    3.8857    4.5396    5.4044    6.8768    10.055    14.058
    cl_mt_pol_c       1.2825    0.3055     0.2382         0.01    4.2858           0          0          1    -5.2309e-37    7.1956e-28    0.50272    0.69331    0.82355      0.8907    0.93704     0.97928      1.0245    1.1277     1.2996    1.4096    1.4923    1.5698    1.5979    1.6868    1.7932    1.9854    2.2195

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.948854 seconds.
Elapsed time is 0.211619 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY       pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25         p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    ________    _______    _______    ___________    __________    _______    _______    _______    ________    ________    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a       1.508     2.7319      1.8116     -6.8413        50    0.018082     0.2819    0.70002    -2.0551e-34      1.59e-17    -5.6254    -4.0296    -2.1298      -1.218    -0.76201    -0.38205    -0.15408    0.22588    0.98579    1.8977    2.8096    3.3415    4.1014    5.0893    6.7611    10.257    14.664
    cl_mt_pol_coh    2.8032     2.9994        1.07     -6.8413    54.286           0    0.12452    0.87548     -8.622e-35    3.1061e-18    -5.1466    -3.2951    -1.2785    -0.30737     0.25869     0.64003     0.91301     1.4392     2.2859    3.3116    4.3012    4.8803    5.6685    6.7221    8.4457    12.162    16.858
    cl_mt_pol_c      1.2952    0.29054     0.22432        0.01    4.2858           0          0          1     -8.622e-35    3.1061e-18    0.49778    0.69513     0.8413     0.90471     0.95787      1.0178      1.0679     1.1962     1.3106    1.4141    1.5066     1.537    1.6078    1.6617    1.7667    1.9483    2.1701

</pre><h2 id="4">Simulate Model with Discount = 0.98</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(3))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(3);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
clear <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 6.468609 seconds.
Elapsed time is 0.184659 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd      coefofvar      min       max        pYis0        pYls0        pYgr0      pYisMINY       pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    ______    _________    _______    ______    _________    __________    _______    ___________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      20.961    12.952     0.61789     -6.8413        50    0.0014781     0.0049093    0.99361    -9.0789e-36      0.002378    -0.45804    0.22588    2.3536    4.5574    6.5331    8.2809    10.029    13.676    19.528    26.139    31.078    33.662    36.474    39.741    43.617    48.632        50
    cl_mt_pol_coh    22.661    13.269     0.58554     -6.8413    54.286            0    0.00047232    0.99953    -7.5834e-36    7.2324e-05     0.26579     1.2303    3.5626    5.8669    7.9032    9.7328     11.51    15.236    21.214    27.978    32.998    35.665     38.52    41.853     45.88    51.077     53.14
    cl_mt_pol_c      1.6992    0.3259      0.1918        0.01    4.2858            0             0          1    -7.5834e-36    7.2324e-05     0.73371    0.98888    1.1937    1.2984    1.3531    1.4224    1.4737    1.5585     1.686    1.8184     1.917    1.9704    2.0463    2.1176    2.2415    2.4537    3.1405

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 7.013688 seconds.
Elapsed time is 0.205029 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0         pYls0       pYgr0      pYisMINY      pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    _________    _______    __________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      23.468     13.158      0.5607     -6.8413        50    0.00070482    0.0047339    0.99456    3.7218e-35     0.0040615    -0.68602    0.45385    3.3415    6.1532    8.5089    10.561    12.536    16.488    22.719    29.178    34.042    36.626    39.361    42.173    45.517    49.316        50
    cl_mt_pol_coh    25.217     13.478     0.53449     -6.8413    54.286             0    0.0008387    0.99916    3.4643e-36    0.00011303     0.09683     1.5263    4.6267    7.5156    9.9185    12.052    14.076    18.116     24.46    31.079    36.021    38.657    41.429    44.374    47.791    51.841    53.314
    cl_mt_pol_c      1.7493    0.32983     0.18855        0.01    4.2858             0            0          1    3.4643e-36    0.00011303     0.74242     1.0382    1.2516    1.3336    1.3962     1.468    1.5176     1.613    1.7392    1.8792    1.9763    2.0281    2.0828    2.1619    2.2829    2.5173    3.3833

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 7.513303 seconds.
Elapsed time is 0.224990 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0         pYls0       pYgr0      pYisMINY      pYisMAXY       p0_1         p1        p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    _________    _______    __________    __________    _________    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      25.605     13.079     0.51079     -6.8413        50    0.00044703    0.0037329    0.99582    2.7225e-34     0.0056449       -0.838    0.8338    4.5574     7.901    10.561     12.84    14.968      19.3    25.455    31.838    36.322    38.677    41.109    43.693     46.58    49.696        50
    cl_mt_pol_coh    27.397     13.397     0.48901     -6.8413    54.286             0    0.0010281    0.99897    1.2583e-34    0.00015204    -0.024094    1.9348    5.8104    9.2678     11.99    14.337    16.566    20.925    27.244    33.778    38.301    40.737    43.244    45.883    48.888    52.209    53.469
    cl_mt_pol_c       1.792    0.32963     0.18394        0.01    4.2858             0            0          1    1.2583e-34    0.00015204       0.8097    1.0645    1.2875      1.37    1.4398     1.509    1.5661    1.6549    1.7929    1.9224    2.0205    2.0686    2.1188    2.1875    2.3078    2.5721    3.4692

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Preference *No Default* (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html
% ff_az_ds_vecsv> program for solving the savings + borrowing problem using
% full-states-markov eigenvector-sparse-matrix approach.
%
% defaults in ffs_abz_set_default_param.m are:
%
% * param_map('fl_beta') = 0.94;
% * param_map('fl_crra') = 1.5;
%
% Test across various discount and risk aversion levels. 
%
% Default is not allowed, natural borrowing constraint. 
%
% @seealso
%
% * test interest rate no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html fsi_abz_ds_vecsv_nbc> 
% * test interest rate default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html fsi_abz_ds_vecsv_default> 
% * test shock no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html fsi_abz_ds_vecsv_shk_nbc>
% * test shock default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html fsi_abz_ds_vecsv_shk_default>
% * test shock default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html fsi_abz_ds_vecsv_shk_default_lowcmin>
% * test preference no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html fsi_abz_ds_vecsv_pref_nbc>
% * test preference default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html fsi_abz_ds_vecsv_pref_default>
% * test preference default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html fsi_abz_ds_vecsv_pref_default_lowcmin>
%

%% Set Shared Parameters

close all;
clear all;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];

% Accuracy
% ar_it_a_n_hg = [750, 1250, 1750, 2250];
% ar_it_z_n_hg = [15, 19, 23, 27];
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

% Borrowing/Savings Parameters
it_a_n = 750;
it_z_n = 15;

bl_default = false;
fl_c_min = 0.01; % irrelevant when bl_default = false
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;

%% Simulate Model with Discount = 0.94

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(1))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(1);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount = 0.96

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(2))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(2);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end
    
    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount = 0.98

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(3))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(3);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end
    
    % Snap
    snapnow;

end

% close all
close all;
clear all;

##### SOURCE END #####
--></body></html>