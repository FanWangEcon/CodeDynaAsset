
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Preference With Default (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-21"><meta name="DC.source" content="fsi_abz_ds_vecsv_pref_default.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Preference With Default (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds.html">ff_az_ds</a> program for solving the savings only dynamic programming problem.</p><p>defaults in ffs_abz_set_default_param.m are:</p><div><ul><li>param_map('fl_beta') = 0.94;</li><li>param_map('fl_crra') = 1.5;</li></ul></div><p>here test three levels of discount:</p><div><ul><li>0.94</li><li>0.96</li><li>0.98</li></ul></div><p>for each shock, thest at these crra levels</p><div><ul><li>log (1)</li><li>1.5</li><li>2.0</li></ul></div><p>Substantial variation in default rates acorss crra and beta. For example, for crra = 1.5 and beta = 0.96, 1.2 percent of households default, with a substantial proportion of households in negative wealth and borrowing. Somewhere like 40 percent of households are borrowing and like 30 percent of households have negative cash-on-hand. Default increases to 16 percent if crra goes to 1 and default goes to 0 if crra goes to 2.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Set Shared Parameters</a></li><li><a href="#2">Simulate Model with Discount = 0.94</a></li><li><a href="#3">Simulate Model with Discount = 0.96</a></li><li><a href="#4">Simulate Model with Discount = 0.98</a></li></ul></div><h2 id="1">Set Shared Parameters</h2><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];
it_a_n = 750;
it_z_n = 15;

bl_default = true;
fl_c_min = 0.035; <span class="comment">% irrelevant when bl_default = false</span>
fl_b_bd = -12.5;
fl_r_save = 0.02;
fl_r_borr = 0.065;
</pre><h2 id="2">Simulate Model with Discount = 0.94</h2><pre class="codeinput"><span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(1))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(1);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.198444 seconds.
Elapsed time is 0.247044 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0      pYisMINY      pYisMAXY     p0_1       p1        p5         p10        p15        p20        p25        p35        p50        p65        p75        p80         p85       p90       p95       p99      p99_9 
                     _______    ______    _________    _______    ______    _______    __________    __________    _____    ______    _______    _______    _______    _______    _______    _______    _______    _______    _______    ________    _______    ______    ______    ______    ______

    cl_mt_pol_a       -5.951    4.2458    -0.71346       -12.5    47.326    0.15981        0.1605    2.6102e-35    -12.5     -12.5      -12.5      -12.5      -12.5    -9.9098    -9.6591    -7.8209    -5.6484    -3.5595    -2.3061     -1.9719          0         0         0         0         0
    cl_mt_pol_coh    -5.0578    4.5563    -0.90084     -12.868    54.286          0    0.00055687    2.6102e-35    -12.8    -12.63    -12.265    -12.104    -11.457    -9.3786    -8.9814    -6.9348    -4.8721    -2.3963    -1.1145    -0.49157    0.78744    1.0479    1.3944    1.8555    2.4692
    cl_mt_pol_c      0.89319    5.6745      6.3532     -12.868    6.9596          0    0.00055687    2.6102e-35    -12.8    -12.63    -12.265    -12.104    -11.457     2.9118     3.0784     3.2222     3.3192      3.354      3.451      3.4954     3.5663    3.6576    3.8333    4.1508    4.4973

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.434301 seconds.
Elapsed time is 0.163487 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0       pYisMINY      pYisMAXY      p0_1        p1         p5        p10        p15        p20        p25        p35        p50        p65        p75         p80          p85         p90         p95       p99      p99_9 
                     _______    ______    _________    _______    ______    ________    __________    __________    _______    _______    _______    ______    _______    _______    _______    _______    _______    _______    ________    ________    _________    ________    _______    ______    ______

    cl_mt_pol_a      -3.9488    3.9111    -0.99046       -12.5    49.248    0.034132      0.031642    1.2585e-35      -12.5      -12.5    -11.414    -10.16    -8.9071    -7.7373    -6.7346    -4.9799    -2.9746    -1.4706    -0.71858    -0.38436    -0.050134    0.033422    0.70187    2.5401    5.0468
    cl_mt_pol_coh    -2.9304    4.2529     -1.4513     -12.868    54.286           0    0.00018223    1.2585e-35    -12.721    -12.404    -11.019    -9.595    -8.2602    -7.0649    -5.9636    -4.0949    -1.9515    -0.3574     0.46735     0.82329       1.1792      1.6085     2.4692    4.5609    7.3256
    cl_mt_pol_c       1.0184    2.2172      2.1771     -12.868    5.0378           0    0.00018223    1.2585e-35    -12.721    -12.404     1.1904    1.2657     1.2783     1.2878     1.2969      1.312      1.335     1.3606      1.3986      1.4349       1.4812      1.5762      1.781    2.0225    2.3323

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.738644 seconds.
Elapsed time is 0.149844 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65        p75        p80        p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    __________    __________    _______    _______    _______    _______    _______    _______    _______    _______    ________    _______    _______    _______    _______    ______    ______    ______    ______

    cl_mt_pol_a       -1.9342     3.3691     -1.7418       -12.5    49.833    0.012632     0.0020119    6.3443e-29      -12.5    -11.497    -8.5729    -6.6511    -5.4813    -4.4786    -3.7266    -2.5568     -1.3035    -0.3008    0.20053    0.53476    0.95254     1.621    2.7072    5.1303    8.1384
    cl_mt_pol_coh    -0.79949     3.7093     -4.6396     -12.868    54.286           0    3.3802e-05    6.3443e-29    -12.404    -11.125    -7.9932    -5.9636    -4.6622    -3.6423     -2.832    -1.5862    -0.16333    0.90548     1.5989     1.9835     2.5033    3.2031    4.4058    7.0479    10.356
    cl_mt_pol_c        1.1347    0.65403     0.57638     -12.868    4.4529           0    3.3802e-05    6.3443e-29    -12.404    0.54145    0.65042    0.74066    0.81315    0.86858    0.91634     1.0087      1.1078     1.2533     1.3866     1.4555      1.534    1.6289    1.7512    1.9824    2.2242

</pre><h2 id="3">Simulate Model with Discount = 0.96</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(2))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(2);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    result_map = ff_az_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.312718 seconds.
Elapsed time is 1.037075 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0      pYisMINY      pYisMAXY     p0_1       p1        p5         p10        p15        p20        p25        p35        p50        p65        p75         p80         p85       p90       p95       p99      p99_9 
                     _______    ______    _________    _______    ______    _______    __________    __________    _____    ______    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    _______    ______    ______    ______    ______

    cl_mt_pol_a      -5.7675    4.2486    -0.73665       -12.5    48.997    0.15788       0.15792             0    -12.5     -12.5      -12.5      -12.5      -12.5    -9.7426    -9.4084    -7.4866    -5.3977    -3.1417     -1.9719     -1.7213          0         0         0         0         0
    cl_mt_pol_coh    -4.8623    4.5702    -0.93994     -12.868    54.286          0    0.00055599             0    -12.8    -12.63    -12.265    -12.104    -11.457    -9.2006    -8.8035      -6.62    -4.4432    -2.1294    -0.89132    -0.22461    0.78744    1.0479    1.3944    1.9051    2.8484
    cl_mt_pol_c      0.90525    5.6407      6.2311     -12.868    5.3274          0    0.00055599    7.4832e-08    -12.8    -12.63    -12.265    -12.104    -11.457     3.0005     3.0755       3.13     3.2145     3.2994      3.4307      3.4901     3.6075    3.7194    3.9169    4.2665    4.5957

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.032902 seconds.
Elapsed time is 2.124695 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd      coefofvar      min       max       pYis0       pYisMINY      pYisMAXY      p0_1       p1         p5         p10        p15        p20        p25         p35        p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ________    ______    _________    _______    ______    ________    __________    __________    ______    _______    _______    _______    _______    _______    ________    ________    ______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.66535    3.6527     -5.4899       -12.5        50    0.035274      0.011678    2.1324e-25     -12.5      -12.5    -8.6564     -5.732    -3.7266    -2.5568     -1.7213    -0.80214         0    0.53476    1.2032     1.621    2.2059    2.9579    4.3783    7.3864     11.23
    cl_mt_pol_coh     0.53239    3.9907       7.496     -12.868    54.286           0    8.1137e-05    5.6707e-26    -12.63    -11.918    -8.0822    -4.9409     -2.921    -1.6032    -0.77873     0.27139    1.1129     1.8983    2.6217    3.1179    3.7646     4.634     6.095    9.3131    13.355
    cl_mt_pol_c        1.1977    1.4668      1.2246     -12.868    4.2858           0    8.1137e-05    5.6707e-26    -12.63    -11.918     1.0847     1.1064     1.1215     1.1341      1.1555      1.2023    1.3115     1.4135    1.5054    1.5354    1.6139    1.6624    1.7769     1.998    2.1873

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.874976 seconds.
Elapsed time is 2.764371 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max       pYis0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25         p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    ________    _________    __________    _______    _______    _______    ________    ________    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      1.4342     2.8411       1.981       -12.5        50    0.016268    9.504e-05    4.7543e-17    -9.3249    -4.8128    -2.3897      -1.387    -0.80214    -0.46791    -0.13369    0.20053    0.95254    1.8717    2.7908    3.3757    4.0441    5.0468    6.7179    10.227    14.739
    cl_mt_pol_coh    2.7266     3.1118      1.1413     -12.868    54.286           0    1.525e-06    9.5993e-18    -8.8831    -4.0949    -1.5796    -0.47983     0.14308     0.57628     0.90548     1.4133     2.2392    3.2979     4.276    4.8813    5.6689    6.7126    8.4692    12.167     16.89
    cl_mt_pol_c      1.2924    0.31438     0.24325     -12.868    4.2858           0    1.525e-06    9.5993e-18    0.59539    0.68452    0.83724     0.90806      0.9513       1.012       1.059     1.1754     1.3181    1.4302    1.4833    1.5571    1.5888    1.6824    1.7468    1.9751    2.1671

</pre><h2 id="4">Simulate Model with Discount = 0.98</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(3))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'it_a_n'</span>) = it_a_n;
    param_map(<span class="string">'it_z_n'</span>) = it_z_n;
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(3);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    <span class="comment">% Call Distribution CProgram</span>
    result_map = ff_az_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
clear <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 1.215481 seconds.
Elapsed time is 1.257849 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0      pYisMINY      pYisMAXY     p0_1       p1        p5         p10        p15        p20        p25        p35        p50        p65        p75         p80         p85       p90       p95       p99       p99_9 
                     _______    ______    _________    _______    ______    _______    __________    __________    _____    ______    _______    _______    _______    _______    _______    _______    _______    _______    _______    _________    _______    ______    ______    ______    _______

    cl_mt_pol_a      -5.5795    4.2639     -0.7642       -12.5        50    0.15601       0.15567    2.5145e-09    -12.5     -12.5      -12.5      -12.5      -12.5    -9.5755    -9.2413    -7.0689    -5.0635    -2.8075    -1.8048      -1.4706          0         0         0         0    0.53476
    cl_mt_pol_coh    -4.6616    4.5978    -0.98632     -12.868    54.286          0    0.00055534    2.5276e-10    -12.8    -12.63    -12.265    -12.104    -11.172    -9.0546    -8.6332    -6.3119    -4.0393    -1.8466    -0.7057    0.0061999    0.78744    1.0479    1.3944    2.1405     3.2858
    cl_mt_pol_c      0.91797    5.6013      6.1019     -12.868    5.5053          0    0.00055534    1.5823e-07    -12.8    -12.63    -12.265    -12.104    -11.172     2.8933     2.9485     3.0278     3.1507     3.2797     3.4457        3.536      3.651    3.7999    4.0113    4.4084     4.7115

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 4.649348 seconds.
Elapsed time is 3.693814 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd      coefofvar      min       max        pYis0       pYisMINY      pYisMAXY      p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    ______    _________    _______    ______    _________    __________    __________    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      22.255    13.171     0.59179       -12.5        50    0.0008588    9.7916e-05     0.0037146    -2.9746    0.11698    2.6237    5.2139    7.4699    9.5588    11.397    15.241     21.09    27.523    32.453    35.127    38.135    41.477     45.07    49.248        50
    cl_mt_pol_coh    23.976    13.495     0.56286     -12.868    54.286            0    7.5279e-07    0.00010173    -2.2261     1.1428    3.8849     6.527    8.8376    10.964    12.874    16.849    22.821    29.408    34.378    37.139    40.192    43.586    47.351    51.697     53.14
    cl_mt_pol_c      1.7206    0.3592     0.20877     -12.868    4.2858            0    7.5279e-07    0.00010173    0.83561     1.0004    1.2098    1.3199    1.3763    1.4235    1.4848    1.5747    1.7103    1.8479    1.9532    2.0117    2.0732    2.1419    2.2509    2.4921    3.2135

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 4.422171 seconds.
Elapsed time is 4.441311 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    __________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      24.055     13.097     0.54446       -12.5        50    0.00052981    6.2459e-08     0.0047417     -1.1364    0.53476    3.6263    6.5508    9.0575    11.314    13.402    17.413    23.596    29.863    34.459    36.882    39.555    42.564    45.906    49.499        50
    cl_mt_pol_coh    25.807     13.418     0.51993     -12.868    54.286             0    1.1839e-09    0.00012757    -0.26841      1.569    4.8629    7.8642    10.457    12.816    14.889    19.011    25.362    31.754    36.407    38.908     41.65    44.749    48.213    52.012    53.469
    cl_mt_pol_c      1.7527    0.33153     0.18915     -12.868    4.2858             0    1.1839e-09    0.00012757     0.78626     1.0502    1.2365    1.3465    1.4078     1.458    1.5114     1.615    1.7413    1.8849    1.9815    2.0418    2.1005    2.1638     2.266    2.5116    3.4692

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Preference With Default (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds.html
% ff_az_ds> program for solving the savings only dynamic
% programming problem.
%
% defaults in ffs_abz_set_default_param.m are:
%
% * param_map('fl_beta') = 0.94;
% * param_map('fl_crra') = 1.5;
%
% here test three levels of discount:
%
% * 0.94
% * 0.96
% * 0.98
%
% for each shock, thest at these crra levels
%
% * log (1)
% * 1.5
% * 2.0
%
% Substantial variation in default rates acorss crra and beta. For example,
% for crra = 1.5 and beta = 0.96, 1.2 percent of households default, with a
% substantial proportion of households in negative wealth and borrowing.
% Somewhere like 40 percent of households are borrowing and like 30 percent
% of households have negative cash-on-hand. Default increases to 16 percent
% if crra goes to 1 and default goes to 0 if crra goes to 2.
%

%% Set Shared Parameters

close all;
clear all;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];
it_a_n = 750;
it_z_n = 15;

bl_default = true; 
fl_c_min = 0.035; % irrelevant when bl_default = false
fl_b_bd = -12.5;   
fl_r_save = 0.02;
fl_r_borr = 0.065;

%% Simulate Model with Discount = 0.94

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(1))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_beta') = ar_fl_beta(1);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount = 0.96

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(2))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_beta') = ar_fl_beta(2);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    result_map = ff_az_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount = 0.98

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(3))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Simulation Accuracy
    param_map('it_a_n') = it_a_n;
    param_map('it_z_n') = it_z_n;
    param_map('fl_beta') = ar_fl_beta(3);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
    [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);

    % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
    result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);

    % Call Distribution CProgram
    result_map = ff_az_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

    % Snap
    snapnow;

end

% close all
close all;
clear all;

##### SOURCE END #####
--></body></html>