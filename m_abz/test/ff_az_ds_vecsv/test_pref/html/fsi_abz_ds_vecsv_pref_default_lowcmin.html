
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Preference Default Low Cmin (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-07-22"><meta name="DC.source" content="fsi_abz_ds_vecsv_pref_default_lowcmin.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Preference <b>Default Low Cmin</b> (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html">ff_az_ds_vecsv</a> program for solving the savings + borrowing problem using full-states-markov eigenvector-sparse-matrix approach.</p><p>defaults in ffs_abz_set_default_param.m are:</p><div><ul><li>param_map('fl_beta') = 0.94;</li><li>param_map('fl_crra') = 1.5;</li></ul></div><p>Test across various discount and risk aversion levels.</p><p>Default allowed, but cmin very low, so people might not default at all.</p><p>@seealso</p><div><ul><li>test interest rate no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html">fsi_abz_ds_vecsv_nbc</a></li><li>test interest rate default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html">fsi_abz_ds_vecsv_default</a></li><li>test shock no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html">fsi_abz_ds_vecsv_shk_nbc</a></li><li>test shock default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html">fsi_abz_ds_vecsv_shk_default</a></li><li>test shock default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html">fsi_abz_ds_vecsv_shk_default_lowcmin</a></li><li>test preference no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html">fsi_abz_ds_vecsv_pref_nbc</a></li><li>test preference default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html">fsi_abz_ds_vecsv_pref_default</a></li><li>test preference default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html">fsi_abz_ds_vecsv_pref_default_lowcmin</a></li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Set Shared Parameters</a></li><li><a href="#2">Simulate Model with Discount Low</a></li><li><a href="#3">Simulate Model with Discount Medium</a></li><li><a href="#4">Simulate Model with Discount High</a></li></ul></div><h2 id="1">Set Shared Parameters</h2><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];

<span class="comment">% Accuracy</span>
<span class="comment">% ar_it_a_n_hg = [750, 1250, 1750, 2250];</span>
<span class="comment">% ar_it_z_n_hg = [15, 19, 23, 27];</span>
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

<span class="comment">% Borrowing/Savings Parameters</span>
bl_default = true;
fl_c_min = 10^-300; <span class="comment">% cmin so low default exists but never chosen</span>
fl_b_bd = -20;
</pre><h2 id="2">Simulate Model with Discount Low</h2><pre class="codeinput"><span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(1))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(1);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map(<span class="string">'it_z_n'</span>);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> it_z_n]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 19.503525 seconds.
Elapsed time is 7.747808 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a    cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    __________    ___________

    'mean'                    -0.081524         1.1721        1.2536 
    'sd'                         1.1142         1.4441       0.37291 
    'coefofvar'                 -13.667         1.2321       0.29747 
    'min'                           -20        -21.455        1e-300 
    'max'                        48.598         54.536        5.9377 
    'pYis0'                     0.14903              0             0 
    'pYls0'                     0.45889        0.15403             0 
    'pYgr0'                     0.39208        0.84597             1 
    'pYisMINY'               4.9226e-08     5.7589e-10    1.6777e-07 
    'pYisMAXY'               5.0151e-37     5.0151e-37    5.0151e-37 
    'p0_1'                      -5.7944        -5.3553       0.41624 
    'p1'                        -3.4579        -2.8014        0.6069 
    'p5'                        -1.9626         -1.145       0.75411 
    'p10'                       -1.3084       -0.42509       0.82403 
    'p15'                      -0.93458      -0.019261       0.86066 
    'p20'                      -0.65421        0.27576       0.93968 
    'p25'                      -0.46729        0.48449       0.97683 
    'p35'                      -0.18692        0.80603        1.0354 
    'p50'                             0         1.1897        1.2015 
    'p65'                      0.093458         1.4962        1.3944 
    'p75'                       0.28037         1.8555        1.5151 
    'p80'                       0.46729          2.065        1.6155 
    'p85'                       0.74766         2.3583         1.671 
    'p90'                         1.028         2.8111        1.7737 
    'p95'                        1.6822         3.5774        1.9046 
    'p99'                        3.1776          5.339        2.2293 
    'p99_9'                      5.1402         7.5965        2.4956 
    'fl_cov_cl_mt_pol_a'         1.2415         1.5938       0.35235 
    'fl_cor_cl_mt_pol_a'              1        0.99057       0.84803 
    'fl_cov_cl_mt_coh'           1.5938         2.0853       0.49142 
    'fl_cor_cl_mt_coh'          0.99057              1       0.91257 
    'fl_cov_cl_mt_pol_c'        0.35235        0.49142       0.13906 
    'fl_cor_cl_mt_pol_c'        0.84803        0.91257             1 
    'fracByP0_1'               0.088982     -0.0054944    0.00026059 
    'fracByP1'                  0.56726      -0.033464     0.0042421 
    'fracByP5'                   1.7833      -0.093608      0.026814 
    'fracByP10'                  2.7645       -0.12522      0.058212 
    'fracByP15'                  3.4494       -0.13392       0.09251 
    'fracByP20'                  4.0244       -0.12807       0.12796 
    'fracByP25'                   4.368       -0.11221       0.16674 
    'fracByP35'                  4.7543      -0.052796       0.24635 
    'fracByP50'                  4.8346       0.072468       0.38045 
    'fracByP65'                  4.7683        0.24177       0.53223 
    'fracByP75'                  4.5109        0.39033       0.66064 
    'fracByP80'                  4.2671        0.46919       0.71486 
    'fracByP85'                  3.7758        0.56141       0.77563 
    'fracByP90'                  3.3671        0.67154       0.84484 
    'fracByP95'                   2.532        0.80524       0.91688 
    'fracByP99'                  1.4877        0.94614       0.98149 
    'fracByP99_9'                1.0718        0.99293       0.99796 

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 18.260602 seconds.
Elapsed time is 8.470615 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a    cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    __________    ___________

    'mean'                       0.19632        1.4544         1.2581
    'sd'                          1.5434         1.863        0.34864
    'coefofvar'                   7.8613        1.2809        0.27712
    'min'                            -20       -21.455         1e-300
    'max'                         49.533        54.536         5.0031
    'pYis0'                     0.066816             0              0
    'pYls0'                       0.4156        0.1775              0
    'pYgr0'                      0.51759        0.8225              1
    'pYisMINY'               -3.0297e-34    6.4098e-36    -3.6722e-34
    'pYisMAXY'                4.5877e-36    4.5877e-36     4.5877e-36
    'p0_1'                       -4.2991       -3.9111        0.36766
    'p1'                         -3.4579       -2.8847        0.58542
    'p5'                          -2.243        -1.464        0.75783
    'p10'                        -1.5888      -0.69186        0.84108
    'p15'                        -1.1215      -0.21386        0.90416
    'p20'                       -0.84112       0.17343        0.95468
    'p25'                       -0.56075       0.44366        0.98137
    'p35'                       -0.18692       0.88272         1.0479
    'p50'                       0.093458        1.3046         1.2111
    'p65'                        0.46729        1.8412         1.4061
    'p75'                        0.84112        2.3345         1.5244
    'p80'                         1.1215        2.6623         1.5663
    'p85'                         1.4953        3.1009         1.6466
    'p90'                         2.0561         3.716         1.7084
    'p95'                         2.9907        4.7683         1.8392
    'p99'                         5.0467        7.1242         2.0954
    'p99_9'                        7.757        10.091         2.3717
    'fl_cov_cl_mt_pol_a'          2.3819        2.8655        0.48359
    'fl_cor_cl_mt_pol_a'               1       0.99663        0.89873
    'fl_cov_cl_mt_coh'            2.8655        3.4707        0.60514
    'fl_cor_cl_mt_coh'           0.99663             1        0.93169
    'fl_cov_cl_mt_pol_c'         0.48359       0.60514        0.12155
    'fl_cor_cl_mt_pol_c'         0.89873       0.93169              1
    'fracByP0_1'                -0.02951    -0.0029062     0.00023189
    'fracByP1'                  -0.22926     -0.023162      0.0039421
    'fracByP5'                  -0.79849     -0.079917       0.026043
    'fracByP10'                  -1.2483      -0.11544       0.057914
    'fracByP15'                  -1.6147      -0.12989        0.09323
    'fracByP20'                   -1.831      -0.13015        0.12959
    'fracByP25'                  -2.0172      -0.11965        0.16821
    'fracByP35'                  -2.1854       -0.0731        0.25283
    'fracByP50'                  -2.1793      0.046393        0.38888
    'fracByP65'                  -1.9756       0.20008        0.54576
    'fracByP75'                  -1.6719        0.3423        0.66373
    'fracByP80'                  -1.4088       0.43142         0.7195
    'fracByP85'                  -1.0858       0.52828        0.78266
    'fracByP90'                  -0.6398       0.64642        0.85038
    'fracByP95'                -0.038548       0.78688        0.92076
    'fracByP99'                  0.68803       0.94263        0.98257
    'fracByP99_9'                 0.9573       0.99244        0.99806

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 18.856578 seconds.
Elapsed time is 10.413734 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                      0.61693          1.8885         1.2715
    'sd'                         1.9123          2.2183        0.33153
    'coefofvar'                  3.0997          1.1747        0.26074
    'min'                           -20         -21.455         1e-300
    'max'                            50          54.536         4.5358
    'pYis0'                    0.059708               0              0
    'pYls0'                     0.34398         0.16051              0
    'pYgr0'                     0.59631         0.83949              1
    'pYisMINY'               1.6387e-34     -1.3517e-35    -1.6309e-34
    'pYisMAXY'                1.884e-36      6.1201e-36     6.1201e-36
    'p0_1'                      -4.2056         -3.7991        0.37903
    'p1'                        -3.3645         -2.7788        0.59038
    'p5'                        -2.1495         -1.3641        0.77098
    'p10'                       -1.4953        -0.58952        0.85894
    'p15'                        -1.028       -0.081421        0.92997
    'p20'                      -0.65421          0.2929        0.97234
    'p25'                      -0.37383         0.59476         1.0018
    'p35'                             0          1.0479         1.1015
    'p50'                       0.28037           1.592         1.2749
    'p65'                       0.93458          2.2932         1.4216
    'p75'                        1.4019          2.9497         1.5276
    'p80'                        1.8692          3.3883         1.5571
    'p85'                        2.3364          3.9217         1.6126
    'p90'                        2.9907           4.688         1.7083
    'p95'                        4.2056          5.9747         1.8373
    'p99'                         6.729          8.7765         2.0393
    'p99_9'                      10.093          12.297         2.3173
    'fl_cov_cl_mt_pol_a'         3.6569          4.2339        0.57696
    'fl_cor_cl_mt_pol_a'              1         0.99808        0.91005
    'fl_cov_cl_mt_coh'           4.2339          4.9208        0.68687
    'fl_cor_cl_mt_coh'          0.99808               1        0.93398
    'fl_cov_cl_mt_pol_c'        0.57696         0.68687        0.10991
    'fl_cor_cl_mt_pol_c'        0.91005         0.93398              1
    'fracByP0_1'              -0.008652      -0.0021597      0.0002492
    'fracByP1'                -0.070846       -0.017236      0.0039809
    'fracByP5'                 -0.24817       -0.058709       0.026382
    'fracByP10'                -0.38519         -0.0836       0.058681
    'fracByP15'                -0.48869        -0.09189        0.09406
    'fracByP20'                -0.56244       -0.088753        0.13132
    'fracByP25'                -0.60465        -0.07658        0.17294
    'fracByP35'                -0.62665       -0.028147         0.2524
    'fracByP50'                -0.59503        0.074226        0.39274
    'fracByP65'                -0.42544         0.22711        0.55289
    'fracByP75'                -0.26784         0.36599        0.66502
    'fracByP80'                -0.11597         0.44773        0.72769
    'fracByP85'                0.054614          0.5443        0.78821
    'fracByP90'                 0.25347         0.65749        0.85406
    'fracByP95'                  0.5462         0.79653        0.92279
    'fracByP99'                 0.86804         0.94545        0.98318
    'fracByP99_9'                0.9827         0.99282        0.99814

</pre><h2 id="3">Simulate Model with Discount Medium</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(2))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(2);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map(<span class="string">'it_z_n'</span>);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> it_z_n]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 26.098476 seconds.
Elapsed time is 8.621262 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                        1.1926         2.4994        1.3069 
    'sd'                          1.6927         1.9702       0.32299 
    'coefofvar'                   1.4194        0.78825       0.24715 
    'min'                            -20        -21.455        1e-300 
    'max'                             50         54.536        4.5358 
    'pYis0'                      0.10477              0             0 
    'pYls0'                       0.1422        0.01467             0 
    'pYgr0'                      0.75304        0.98533             1 
    'pYisMINY'                1.4057e-12     1.7216e-14    4.2406e-12 
    'pYisMAXY'               -8.1622e-34     -1.668e-34    -1.668e-34 
    'p0_1'                       -1.5888        -1.0195       0.56945 
    'p1'                        -0.84112       -0.13358       0.65857 
    'p5'                        -0.37383        0.47794        0.7672 
    'p10'                       -0.18692        0.70369        0.8809 
    'p15'                              0        0.90837       0.90837 
    'p20'                              0         1.0479        1.0042 
    'p25'                       0.093458         1.1437        1.0502 
    'p35'                        0.18692         1.4004        1.2088 
    'p50'                        0.56075         1.9329        1.3139 
    'p65'                          1.215         2.6397        1.4333 
    'p75'                         1.7757         3.3103        1.5439 
    'p80'                          2.243         3.7571        1.5733 
    'p85'                         2.7103         4.3049        1.6296 
    'p90'                         3.4579         5.1126        1.7199 
    'p95'                         4.6729         6.4537        1.8461 
    'p99'                         7.3832         9.4209        2.0447 
    'p99_9'                       10.935         13.157        2.2671 
    'fl_cov_cl_mt_pol_a'          2.8651         3.3212       0.45607 
    'fl_cor_cl_mt_pol_a'               1         0.9959        0.8342 
    'fl_cov_cl_mt_coh'            3.3212         3.8816       0.56039 
    'fl_cor_cl_mt_coh'            0.9959              1       0.88064 
    'fl_cov_cl_mt_pol_c'         0.45607        0.56039       0.10432 
    'fl_cor_cl_mt_pol_c'          0.8342        0.88064             1 
    'fracByP0_1'              -0.0020033    -0.00055799    0.00043861 
    'fracByP1'                 -0.010709     -0.0020575     0.0052172 
    'fracByP5'                 -0.027204      0.0019462      0.028407 
    'fracByP10'                 -0.03687       0.014227      0.061201 
    'fracByP15'                -0.039971       0.036831      0.097417 
    'fracByP20'                -0.039971       0.057952       0.13301 
    'fracByP25'                -0.034759       0.071738       0.17283 
    'fracByP35'                -0.027593        0.12358       0.26404 
    'fracByP50'                 0.024103        0.22217         0.404 
    'fracByP65'                  0.14817        0.36025       0.56271 
    'fracByP75'                  0.26296        0.47796       0.67397 
    'fracByP80'                  0.35725        0.54606       0.73139 
    'fracByP85'                  0.45448        0.62688       0.79271 
    'fracByP90'                  0.58015        0.72048        0.8581 
    'fracByP95'                  0.74139        0.83488       0.92482 
    'fracByP99'                  0.92642        0.95595       0.98355 
    'fracByP99_9'                0.99028        0.99422       0.99819 

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 24.347078 seconds.
Elapsed time is 8.725772 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                        1.9668         3.2915         1.3246
    'sd'                          2.4351         2.7013        0.30018
    'coefofvar'                   1.2381        0.82068        0.22661
    'min'                            -20        -21.455         1e-300
    'max'                             50         54.536         4.5358
    'pYis0'                     0.042314              0              0
    'pYls0'                      0.13782       0.030174              0
    'pYgr0'                      0.81987        0.96983              1
    'pYisMINY'               -3.0674e-35     7.6932e-36    -3.9011e-34
    'pYisMAXY'                3.1955e-17     4.9504e-18     4.9504e-18
    'p0_1'                       -2.7103         -2.066        0.57412
    'p1'                         -1.4019       -0.64527         0.6854
    'p5'                        -0.56075        0.29455        0.83253
    'p10'                       -0.18692        0.70527        0.88848
    'p15'                              0        0.97903        0.98371
    'p20'                       0.093458         1.1706         1.0502
    'p25'                        0.18692         1.3873         1.1153
    'p35'                        0.65421         1.8142         1.2181
    'p50'                          1.215         2.5806         1.3326
    'p65'                         2.1495         3.6036         1.4557
    'p75'                         2.9907         4.5378         1.5191
    'p80'                         3.5514         5.1233         1.5907
    'p85'                         4.2991         5.8967         1.6296
    'p90'                         5.2336         6.9327          1.692
    'p95'                         6.8224         8.6569         1.8095
    'p99'                         10.374         12.336         2.0096
    'p99_9'                        14.86         17.026         2.2321
    'fl_cov_cl_mt_pol_a'          5.9299         6.5683        0.63838
    'fl_cor_cl_mt_pol_a'               1        0.99853        0.87333
    'fl_cov_cl_mt_coh'            6.5683         7.2968        0.72849
    'fl_cor_cl_mt_coh'           0.99853              1        0.89842
    'fl_cov_cl_mt_pol_c'         0.63838        0.72849       0.090106
    'fl_cor_cl_mt_pol_c'         0.87333        0.89842              1
    'fracByP0_1'              -0.0016244    -0.00079407     0.00039522
    'fracByP1'                 -0.010222     -0.0038185      0.0048145
    'fracByP5'                 -0.027111     -0.0043449        0.02773
    'fracByP10'                -0.035835      0.0039276       0.060736
    'fracByP15'                -0.037213       0.017761       0.096002
    'fracByP20'                -0.035098       0.033683        0.13572
    'fracByP25'                -0.032505       0.052817        0.17885
    'fracByP35'               -0.0047848        0.10234        0.26859
    'fracByP50'                 0.057743        0.20103        0.41044
    'fracByP65'                   0.1915        0.34261        0.56697
    'fracByP75'                  0.32023        0.46435        0.68012
    'fracByP80'                  0.40718        0.53757         0.7384
    'fracByP85'                  0.50895        0.62131        0.79859
    'fracByP90'                  0.62341        0.71842        0.86135
    'fracByP95'                  0.77171        0.83482        0.92715
    'fracByP99'                  0.93925        0.95647        0.98414
    'fracByP99_9'                0.99193        0.99428        0.99826

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 20.606643 seconds.
Elapsed time is 11.166972 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a    cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    __________    ___________

    'mean'                        2.7595        4.1037         1.3442
    'sd'                          3.0758        3.3356        0.28821
    'coefofvar'                   1.1146       0.81282        0.21441
    'min'                            -20       -21.455         1e-300
    'max'                             50        54.536         4.5358
    'pYis0'                     0.028161             0              0
    'pYls0'                      0.11355      0.034109              0
    'pYgr0'                      0.85829       0.96589              1
    'pYisMINY'               -2.6206e-35    2.4362e-36    -2.3001e-35
    'pYisMAXY'                8.4548e-13    1.0745e-13     1.0745e-13
    'p0_1'                       -3.0841       -2.5339        0.56128
    'p1'                         -1.6822      -0.94029        0.71221
    'p5'                        -0.56075       0.29455        0.85427
    'p10'                      -0.093458       0.80767        0.91001
    'p15'                       0.093458        1.1437         1.0334
    'p20'                        0.28037        1.4004         1.1075
    'p25'                        0.56075        1.6877         1.1553
    'p35'                          1.028        2.2791         1.2345
    'p50'                         1.9626        3.3163         1.3513
    'p65'                         3.1776        4.5782          1.473
    'p75'                         4.2056        5.7418         1.5268
    'p80'                         4.8598        6.4537         1.5736
    'p85'                         5.7009        7.3547         1.6506
    'p90'                         7.0093        8.6545         1.7018
    'p95'                          8.785        10.613         1.8141
    'p99'                         12.991        14.977         1.9934
    'p99_9'                       18.318         20.48         2.2169
    'fl_cov_cl_mt_pol_a'          9.4603        10.252         0.7913
    'fl_cor_cl_mt_pol_a'               1       0.99924        0.89265
    'fl_cov_cl_mt_coh'            10.252        11.126        0.87436
    'fl_cor_cl_mt_coh'           0.99924             1        0.90953
    'fl_cov_cl_mt_pol_c'          0.7913       0.87436       0.083063
    'fl_cor_cl_mt_pol_c'         0.89265       0.90953              1
    'fracByP0_1'              -0.0014775    -0.0007352     0.00037257
    'fracByP1'                -0.0088001    -0.0039767      0.0048372
    'fracByP5'                 -0.023033    -0.0055037       0.028824
    'fracByP10'                -0.028232     0.0019356         0.0616
    'fracByP15'                -0.027571      0.014868       0.098524
    'fracByP20'                 -0.02316      0.030271        0.13823
    'fracByP25'                -0.014134      0.049254        0.18192
    'fracByP35'                 0.013425      0.097907        0.27103
    'fracByP50'                 0.094574       0.19992         0.4156
    'fracByP65'                  0.23782        0.3426        0.57278
    'fracByP75'                  0.36171       0.46764        0.68354
    'fracByP80'                  0.44767       0.54174        0.74122
    'fracByP85'                   0.5402       0.62508        0.80171
    'fracByP90'                  0.66004       0.72202        0.86323
    'fracByP95'                   0.7946        0.8386        0.92809
    'fracByP99'                  0.94616       0.95787        0.98434
    'fracByP99_9'                 0.9928       0.99449        0.99828

</pre><h2 id="4">Simulate Model with Discount High</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(3))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(3);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map(<span class="string">'it_z_n'</span>);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> it_z_n]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
clear <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 45.782344 seconds.
Elapsed time is 13.543815 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a    cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    __________    ___________

    'mean'                       48.098          50.58        2.4824 
    'sd'                         1.9482         2.1901       0.34611 
    'coefofvar'                0.040505         0.0433       0.13942 
    'min'                           -20        -21.455        1e-300 
    'max'                            50         54.536        4.5358 
    'pYis0'                  6.9449e-18              0             0 
    'pYls0'                  4.7045e-18     8.5539e-20             0 
    'pYgr0'                           1              1             1 
    'pYisMINY'               1.2985e-34     -1.709e-35    2.3018e-35 
    'pYisMAXY'                  0.14516       0.002021      0.002021 
    'p0_1'                       38.411         40.376        1.9144 
    'p1'                         41.682         43.741        2.0288 
    'p5'                         44.299         46.411        2.1083 
    'p10'                        45.421         47.631        2.1507 
    'p15'                        46.168          48.34        2.2161 
    'p20'                        46.636         48.889        2.2574 
    'p25'                        47.009         49.346        2.2758 
    'p35'                         47.85         50.147        2.3126 
    'p50'                        48.692          51.08        2.4074 
    'p65'                        49.346         51.788        2.5206 
    'p75'                        49.626         52.261        2.5522 
    'p80'                        49.813         52.453        2.6444 
    'p85'                        49.907         52.644        2.7604 
    'p90'                            50         52.859        2.8585 
    'p95'                            50         53.106        3.1055 
    'p99'                            50         53.719        3.7192 
    'p99_9'                          50         54.536        4.5358 
    'fl_cov_cl_mt_pol_a'         3.7956         4.2362       0.44068 
    'fl_cor_cl_mt_pol_a'              1        0.99282       0.65354 
    'fl_cov_cl_mt_coh'           4.2362         4.7967       0.56047 
    'fl_cor_cl_mt_coh'          0.99282              1       0.73938 
    'fl_cov_cl_mt_pol_c'        0.44068        0.56047       0.11979 
    'fl_cor_cl_mt_pol_c'        0.65354        0.73938             1 
    'fracByP0_1'              0.0007869     0.00077914     0.0007517 
    'fracByP1'                0.0085427       0.008413     0.0079877 
    'fracByP5'                 0.046872       0.044658      0.041505 
    'fracByP10'                0.091887       0.091437      0.084389 
    'fracByP15'                 0.14626        0.13936       0.12968 
    'fracByP20'                 0.19314        0.18641       0.17384 
    'fracByP25'                 0.23839        0.23553       0.21964 
    'fracByP35'                 0.34712        0.33379       0.31326 
    'fracByP50'                 0.49551        0.48359       0.45669 
    'fracByP65'                 0.66208        0.63749       0.60224 
    'fracByP75'                 0.74351        0.74307       0.70833 
    'fracByP80'                 0.81107        0.79204       0.76718 
    'fracByP85'                  0.8491        0.85615       0.81478 
    'fracByP90'                       1        0.90967       0.87295 
    'fracByP95'                       1        0.95173       0.93191 
    'fracByP99'                       1        0.99185       0.98705 
    'fracByP99_9'                     1              1             1 

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 85.949015 seconds.
Elapsed time is 9.435173 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                       47.188          49.647         2.4597
    'sd'                         2.7258          2.9581        0.32762
    'coefofvar'                0.057764        0.059582         0.1332
    'min'                           -20         -21.455         1e-300
    'max'                            50          54.536         4.5358
    'pYis0'                  1.9667e-12               0              0
    'pYls0'                  3.2206e-12      3.9613e-13              0
    'pYgr0'                           1               1              1
    'pYisMINY'               1.2426e-34     -7.5961e-36    -2.2371e-35
    'pYisMAXY'                  0.11417       0.0017239      0.0017239
    'p0_1'                       34.486          36.359         1.8629
    'p1'                         38.598          40.611          1.972
    'p5'                         41.682          43.799         2.1133
    'p10'                        43.364          45.535           2.17
    'p15'                        44.393          46.602         2.2074
    'p20'                         45.14          47.382         2.2343
    'p25'                        45.794          48.052         2.2574
    'p35'                        46.822          49.106         2.3032
    'p50'                        47.944          50.328         2.3957
    'p65'                        48.785          51.303         2.4801
    'p75'                        49.346          51.901         2.5452
    'p80'                        49.626          52.202         2.6374
    'p85'                        49.813          52.459         2.6576
    'p90'                            50          52.763         2.8585
    'p95'                            50          53.106         3.1055
    'p99'                            50          53.719         3.7192
    'p99_9'                          50          54.536         4.5358
    'fl_cov_cl_mt_pol_a'         7.4298          8.0363        0.60654
    'fl_cor_cl_mt_pol_a'              1         0.99669         0.6792
    'fl_cov_cl_mt_coh'           8.0363          8.7502        0.71387
    'fl_cor_cl_mt_coh'          0.99669               1        0.73661
    'fl_cov_cl_mt_pol_c'        0.60654         0.71387        0.10734
    'fl_cor_cl_mt_pol_c'         0.6792         0.73661              1
    'fracByP0_1'             0.00071292      0.00069592     0.00073979
    'fracByP1'                0.0079918       0.0078569      0.0078685
    'fracByP5'                 0.043203        0.042184       0.041439
    'fracByP10'                0.089167        0.087202       0.085016
    'fracByP15'                 0.13805          0.1344        0.12942
    'fracByP20'                  0.1854          0.1814        0.17453
    'fracByP25'                 0.23463         0.22979        0.22039
    'fracByP35'                 0.33637         0.32749        0.31476
    'fracByP50'                 0.48597         0.47735        0.45658
    'fracByP65'                 0.63499         0.63212        0.60549
    'fracByP75'                  0.7416         0.73478        0.70851
    'fracByP80'                 0.80204         0.79083        0.76341
    'fracByP85'                 0.85108          0.8449        0.81325
    'fracByP90'                       1         0.89621        0.89199
    'fracByP95'                       1         0.95937        0.94246
    'fracByP99'                       1         0.99288        0.98881
    'fracByP99_9'                     1               1              1

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = K
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 51.381524 seconds.
Elapsed time is 10.259549 seconds.
xxx PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
xxx Variance and Covariance xxx
tb_outcomes_covvar: variance correlation
    OriginalVariableNames    cl_mt_pol_a     cl_mt_coh     cl_mt_pol_c
    _____________________    ___________    ___________    ___________

    'mean'                       46.456          48.898         2.4414
    'sd'                         3.4404          3.6687        0.31931
    'coefofvar'                0.074057        0.075029        0.13079
    'min'                           -20         -21.455         1e-300
    'max'                            50          54.536         4.5358
    'pYis0'                  2.4834e-09               0              0
    'pYls0'                  7.1135e-09      1.2282e-09              0
    'pYgr0'                           1               1              1
    'pYisMINY'               3.9274e-35     -7.2826e-36    -6.7236e-36
    'pYisMAXY'                 0.098601       0.0015428      0.0015428
    'p0_1'                       28.037          29.845         1.7828
    'p1'                         34.953          36.916         1.9551
    'p5'                          39.72          41.826         2.0859
    'p10'                        41.869          44.016         2.1504
    'p15'                        43.084          45.323          2.187
    'p20'                        44.019          46.315         2.2161
    'p25'                         44.86          47.081         2.2407
    'p35'                        45.981          48.316         2.3141
    'p50'                         47.29          49.711          2.384
    'p65'                        48.411           50.92         2.4708
    'p75'                        49.159          51.679         2.5346
    'p80'                        49.439           52.01         2.5681
    'p85'                         49.72          52.357         2.6444
    'p90'                        49.907          52.644         2.7994
    'p95'                            50          53.106         3.1055
    'p99'                            50          53.719         3.7192
    'p99_9'                          50          54.536         4.5358
    'fl_cov_cl_mt_pol_a'         11.836          12.597        0.76065
    'fl_cor_cl_mt_pol_a'              1         0.99803         0.6924
    'fl_cov_cl_mt_coh'           12.597           13.46        0.86261
    'fl_cor_cl_mt_coh'          0.99803               1        0.73635
    'fl_cov_cl_mt_pol_c'        0.76065         0.86261        0.10196
    'fl_cor_cl_mt_pol_c'         0.6924         0.73635              1
    'fracByP0_1'             0.00054538       0.0005488      0.0007003
    'fracByP1'                0.0070098        0.006928      0.0077126
    'fracByP5'                 0.039928        0.039868       0.041091
    'fracByP10'                0.085386        0.083894       0.084728
    'fracByP15'                 0.13023         0.12945        0.12923
    'fracByP20'                  0.1764         0.17694        0.17429
    'fracByP25'                 0.23197         0.22433         0.2201
    'fracByP35'                 0.32459         0.32176        0.31284
    'fracByP50'                 0.47487         0.47369        0.45765
    'fracByP65'                 0.62928         0.62787        0.60853
    'fracByP75'                  0.7448         0.73183        0.71045
    'fracByP80'                 0.79363         0.78529        0.76109
    'fracByP85'                 0.84814         0.83859        0.81972
    'fracByP90'                 0.89388         0.89743        0.87067
    'fracByP95'                       1         0.96368        0.94872
    'fracByP99'                       1         0.99351        0.98988
    'fracByP99_9'                     1               1              1

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Preference *Default Low Cmin* (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html
% ff_az_ds_vecsv> program for solving the savings + borrowing problem using
% full-states-markov eigenvector-sparse-matrix approach.
%
% defaults in ffs_abz_set_default_param.m are:
%
% * param_map('fl_beta') = 0.94;
% * param_map('fl_crra') = 1.5;
%
% Test across various discount and risk aversion levels. 
%
% Default allowed, but cmin very low, so people might not default at all. 
%
% @seealso
%
% * test interest rate no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html fsi_abz_ds_vecsv_nbc> 
% * test interest rate default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html fsi_abz_ds_vecsv_default> 
% * test shock no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html fsi_abz_ds_vecsv_shk_nbc>
% * test shock default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html fsi_abz_ds_vecsv_shk_default>
% * test shock default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html fsi_abz_ds_vecsv_shk_default_lowcmin>
% * test preference no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html fsi_abz_ds_vecsv_pref_nbc>
% * test preference default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html fsi_abz_ds_vecsv_pref_default>
% * test preference default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html fsi_abz_ds_vecsv_pref_default_lowcmin>
%

%% Set Shared Parameters

close all;
clear all;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];

% Accuracy
% ar_it_a_n_hg = [750, 1250, 1750, 2250];
% ar_it_z_n_hg = [15, 19, 23, 27];
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

% Borrowing/Savings Parameters
bl_default = true;
fl_c_min = 10^-300; % cmin so low default exists but never chosen
fl_b_bd = -20;

%% Simulate Model with Discount Low

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(1))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(1);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
            
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map('it_z_n');
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' it_z_n]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount Medium

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(2))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(2);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map('it_z_n');
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' it_z_n]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount High

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(3))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(3);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        it_z_n = param_map('it_z_n');
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' it_z_n]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;
clear all;

##### SOURCE END #####
--></body></html>