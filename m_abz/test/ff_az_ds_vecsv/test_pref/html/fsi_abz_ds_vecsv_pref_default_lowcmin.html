
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Preference Default Low Cmin (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-23"><meta name="DC.source" content="fsi_abz_ds_vecsv_pref_default_lowcmin.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Preference <b>Default Low Cmin</b> (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds.html">ff_az_ds</a> program for solving the savings only dynamic programming problem.</p><p>defaults in ffs_abz_set_default_param.m are:</p><div><ul><li>param_map('fl_beta') = 0.94;</li><li>param_map('fl_crra') = 1.5;</li></ul></div><p>Test across various discount and risk aversion levels.</p><p>Default allowed, but cmin very low, so people might not default at all.</p><p>@seealso</p><div><ul><li>test interest rate no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html">fsi_abz_ds_vecsv_nbc</a></li><li>test interest rate default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html">fsi_abz_ds_vecsv_default</a></li><li>test shock no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html">fsi_abz_ds_vecsv_shk_nbc</a></li><li>test shock default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html">fsi_abz_ds_vecsv_shk_default</a></li><li>test shock default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html">fsi_abz_ds_vecsv_shk_default_lowcmin</a></li><li>test preference no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html">fsi_abz_ds_vecsv_pref_nbc</a></li><li>test preference default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html">fsi_abz_ds_vecsv_pref_default</a></li><li>test preference default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html">fsi_abz_ds_vecsv_pref_default_lowcmin</a></li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Set Shared Parameters</a></li><li><a href="#2">Simulate Model with Discount Low</a></li><li><a href="#3">Simulate Model with Discount Medium</a></li><li><a href="#4">Simulate Model with Discount High</a></li></ul></div><h2 id="1">Set Shared Parameters</h2><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];

<span class="comment">% Accuracy</span>
ar_it_a_n_hg = [750, 1250, 2250];
ar_it_z_n_hg = [15, 19, 27];

<span class="comment">% Borrowing/Savings Parameters</span>
bl_default = true;
fl_c_min = 10^-300; <span class="comment">% cmin so low default exists but never chosen</span>
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;
</pre><h2 id="2">Simulate Model with Discount Low</h2><pre class="codeinput"><span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(1))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(1);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.559803 seconds.
Elapsed time is 0.467843 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYisMINY      pYisMAXY        p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65         p75         p80          p85         p90        p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    __________    ___________    ________    _______    _______    _______    _______    _______    _______    _______    _______    _________    ________    ________    _________    _______    _______    ______    ______

    cl_mt_pol_a      -3.0595     3.0914     -1.0104         -20    48.224    0.030654    3.8425e-06    -1.7373e-35     -14.112    -11.308    -9.0654    -7.6636    -6.6355    -5.7009    -4.9533    -3.7383    -2.3364      -1.3084    -0.65421    -0.28037    -0.093458    0.18692    0.65421    2.0561    3.8318
    cl_mt_pol_coh    -1.9826     3.4424     -1.7363     -20.855    54.286           0    1.2029e-07    -1.7373e-35     -14.022    -11.034    -8.5445    -7.0143    -5.8715    -4.9241    -4.1644    -2.8339    -1.3027    -0.098589     0.61321      1.0097       1.3594     1.7807     2.4665    4.0898    6.2396
    cl_mt_pol_c       1.0771    0.38597     0.35835      1e-300    6.0615           0    1.2536e-05    -1.7373e-35    0.060808    0.26361    0.48067    0.62934    0.71651     0.7794    0.83151    0.92202      1.038        1.174      1.2645      1.3602        1.427     1.6104     1.8235    2.1234    2.4711

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 7.956160 seconds.
Elapsed time is 0.585837 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0      pYisMINY      pYisMAXY        p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65         p75         p80         p85         p90        p95       p99      p99_9 
                     _______    ______    _________    _______    ______    _______    __________    ___________    ________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    _______    _________    _______    _______    ______    ______

    cl_mt_pol_a      -3.1371    3.1199    -0.99453         -20    48.205    0.01962     4.032e-06    -7.1687e-32     -14.335    -11.418    -9.1186    -7.7163    -6.6506    -5.8093    -5.1362    -3.9022       -2.5     -1.3221    -0.59295    -0.3125    -0.032051    0.13622    0.64103    1.9311    3.7821
    cl_mt_pol_coh    -2.0652    3.4705     -1.6805     -20.855    54.289          0    1.2522e-07    -7.1687e-32     -14.293    -11.167    -8.6185     -7.067    -5.9328    -5.0368     -4.268     -3.005    -1.4519    -0.14058     0.63813    0.99654       1.3521      1.763     2.4236    4.0311    6.1167
    cl_mt_pol_c       1.0722    0.3838     0.35795      1e-300    6.0837          0    1.2852e-05    -7.1687e-32    0.051782    0.24194    0.48032     0.6239    0.70638    0.76843    0.82808    0.92723     1.0459      1.1663      1.2538     1.3341       1.4366     1.5947     1.8203    2.1448    2.4375

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 45.895659 seconds.
Elapsed time is 3.655229 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYisMINY     pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65         p75         p80          p85        p90        p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    __________    _________    ________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ________    _________    ______    _______    ______    ______

    cl_mt_pol_a      -3.1577     3.1317    -0.99176         -20    48.194    0.015803    3.5999e-06    4.621e-33     -14.333    -11.499    -9.1637    -7.7313    -6.7037     -5.863    -5.1468    -3.9635       -2.5     -1.3167    -0.63167    -0.32028    -0.071174    0.1468    0.61388    1.9217    3.6966
    cl_mt_pol_coh     -2.087      3.481     -1.6679     -20.855    54.291           0    9.8231e-08    4.621e-33     -14.292    -11.224    -8.6699    -7.0962    -5.9813    -5.0692    -4.3022    -3.0298    -1.4544    -0.15328     0.62104       0.979       1.3303     1.736     2.4048    3.9883    6.0558
    cl_mt_pol_c        1.071    0.38217     0.35684      1e-300    6.0973           0    1.1628e-05    4.621e-33    0.047501    0.24698    0.49147    0.61689    0.70745    0.77229    0.82192    0.92779     1.0386      1.1613      1.2574      1.3282       1.4333    1.5927     1.8024    2.1328    2.4426

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.319601 seconds.
Elapsed time is 0.263421 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35         p50         p65        p75        p80        p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    ___________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    _________    ________    ______    _______    _______    ______    ______    ______    ______

    cl_mt_pol_a       -1.5074     2.2369     -1.4839         -20    49.252    0.026509    -5.8008e-34    -6.2511e-35    -6.6355    -6.2617    -5.4206    -4.6729    -4.1121    -3.6449    -3.1776     -2.243       -1.215    -0.37383         0    0.18692    0.56075     1.028    1.8692    3.8318    6.2617
    cl_mt_pol_coh    -0.33821     2.5637     -7.5801     -20.855    54.286           0     3.4918e-35    -6.2511e-35    -6.3842     -5.787     -4.765    -3.8906     -3.272    -2.6864    -2.1753    -1.2414    -0.086959     0.81065    1.3944     1.7039     2.0852    2.6571    3.6131    5.8056     8.568
    cl_mt_pol_c        1.1692    0.35043     0.29971      1e-300    5.0335           0    -2.1068e-34    -6.2511e-35    0.23067    0.47389    0.66455    0.73868    0.84907    0.89833    0.94311     1.0102       1.1109      1.2463    1.3944     1.4935     1.5544    1.6724    1.7976    2.0561    2.3288

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 11.895455 seconds.
Elapsed time is 2.385496 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65        p75        p80        p85        p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    ___________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ______    _______    _______    _______    ______    ______    ______

    cl_mt_pol_a       -1.5585     2.2354     -1.4343         -20    49.271    0.015951     8.2929e-32    -2.9293e-34    -6.6506    -6.3702    -5.4728    -4.7436    -4.1266    -3.6218     -3.117    -2.3317      -1.266    -0.42468         0    0.19231    0.52885    0.97756    1.7628    3.6699    6.1939
    cl_mt_pol_coh    -0.39203     2.5606     -6.5318     -20.855    54.289           0    -7.3818e-33    -2.9293e-34    -6.4485    -5.9109    -4.8348    -3.9637    -3.2844    -2.7071    -2.2065    -1.3104    -0.15442     0.77759    1.3521     1.6626     2.0563     2.6099    3.5673    5.7179    8.4364
    cl_mt_pol_c        1.1665    0.34759     0.29799      1e-300     5.018           0     2.0938e-31    -2.9293e-34    0.18888    0.44192    0.65093    0.75609    0.84265    0.89141    0.93249     1.0127      1.1211      1.2488    1.3766     1.4549     1.5541     1.6642    1.8011    2.0722    2.3238

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 75.964628 seconds.
Elapsed time is 12.487922 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYisMINY       pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65          p75          p80        p85        p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    ___________    __________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    __________    _______    _______    _______    ______    ______    ______

    cl_mt_pol_a       -1.5891     2.2364     -1.4073         -20    49.253    0.011655    -9.1239e-34    5.2184e-36    -6.7349    -6.4235    -5.5516    -4.8043    -4.1815    -3.6521    -3.1851    -2.3443     -1.3167    -0.47598    -0.0088968    0.17794    0.48932    0.92527    1.7349    3.6343    6.0632
    cl_mt_pol_coh    -0.42428     2.5601      -6.034     -20.855    54.291           0      -1.59e-34    5.2184e-36    -6.4851    -5.9367    -4.8702    -4.0053    -3.3262    -2.7427    -2.2318    -1.3356    -0.19422     0.76334        1.3303     1.6461     2.0319     2.5782    3.5169    5.6483    8.3393
    cl_mt_pol_c        1.1648    0.34562     0.29672      1e-300    5.0385           0     6.9986e-33    5.2184e-36    0.21657    0.44715    0.65968    0.76061    0.83513    0.88694    0.93754     1.0081      1.1172      1.2334        1.3689     1.4492     1.5533     1.6645    1.8117    2.0647    2.3224

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.94
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 12.535515 seconds.
Elapsed time is 1.501590 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYisMINY       pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35         p50        p65        p75        p80       p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    ___________    __________    _______    _______    _______    _______    _______    _______    _______    ________    ________    ______    _______    _______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.92598     2.3716     -2.5612         -20    49.813    0.030557     2.1544e-31    4.2741e-32    -6.4486    -5.9813    -4.9533    -4.1121    -3.5514    -2.9907    -2.5234     -1.7757    -0.74766         0    0.46729    0.84112     1.215    1.8692    2.8972    5.3271    8.4112
    cl_mt_pol_coh     0.27064     2.6894      9.9372     -20.855    54.286           0    -2.1115e-32    4.2741e-32    -6.1557    -5.4599    -4.2274    -3.2934     -2.673    -2.0776      -1.58    -0.68235     0.41251    1.2949     1.8761     2.2758    2.8088    3.4966    4.7143    7.3097    10.572
    cl_mt_pol_c        1.1966    0.33681     0.28146      1e-300    4.4727           0     4.5627e-31    4.2741e-32    0.26346    0.50427     0.6957    0.77119     0.8784     0.9281    0.97349      1.0441      1.1413    1.2949     1.4155     1.5188    1.5752    1.6611    1.7984    2.0179     2.258

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 29.676910 seconds.
Elapsed time is 4.787731 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65         p75        p80       p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    ___________    ___________    _______    _______    _______    _______    _______    _______    _______    ________    ________    _________    _______    _______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.97259     2.3684     -2.4352         -20    49.832    0.010712     -6.638e-33    -3.9108e-33    -6.5385    -6.0897     -5.024    -4.1827    -3.5657    -3.0048    -2.5561     -1.7708    -0.76122    -0.032051    0.41667    0.75321    1.2019    1.8189    2.8846    5.2404    8.2131
    cl_mt_pol_coh     0.22173     2.6848      12.108     -20.855    54.289           0     1.3822e-33    -3.9108e-33    -6.2474    -5.5525    -4.3045    -3.3801    -2.6844    -2.1073    -1.5798    -0.73299     0.36216       1.2362     1.8637     2.2514    2.7497    3.4491    4.6123    7.1994    10.439
    cl_mt_pol_c        1.1943    0.33416     0.27979      1e-300    4.4571           0    -8.7688e-32    -3.9108e-33    0.26126    0.49578    0.68739    0.79022    0.86817    0.92651    0.96296      1.0382       1.154       1.2916     1.4187     1.4905    1.5601    1.6668     1.773    2.0203    2.2671

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 67.480590 seconds.
Elapsed time is 19.566144 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max        pYis0       pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65         p75        p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    _________    ___________    ___________    _______    _______    _______    _______    _______    _______    _______    ________    ________    _________    _______    _______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -1.0096     2.3652     -2.3428         -20    49.813    0.0099976    -2.2606e-33    -9.1467e-34    -6.5792    -6.1121    -5.0534    -4.2438    -3.5899    -3.0605    -2.5934     -1.7838    -0.81851    -0.040036    0.39591    0.73843    1.1432     1.766    2.7936     5.129    8.1183
    cl_mt_pol_coh      0.183     2.6802      14.646     -20.855    54.291            0     -1.401e-34    -9.1467e-34    -6.3002    -5.5971    -4.3543     -3.428    -2.7188    -2.1346    -1.6202    -0.74437     0.33222       1.2108     1.8285     2.2147    2.7053    3.3948    4.5499    7.1055    10.313
    cl_mt_pol_c       1.1926    0.33245     0.27877      1e-300     4.478            0     8.4558e-33    -9.1467e-34    0.26813    0.48715    0.69345    0.79422    0.86866    0.91521    0.96818      1.0399      1.1484       1.2944     1.4182     1.4924    1.5696    1.6518    1.7766    2.0023    2.2474

</pre><h2 id="3">Simulate Model with Discount Medium</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(2))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(2);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 8.705088 seconds.
Elapsed time is 0.927430 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0      pYisMINY      pYisMAXY      p0_1        p1          p5          p10         p15         p20         p25        p35        p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    _______    __________    __________    _______    _______    ________    _________    ________    ________    ________    ______    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.49512     1.5283      3.0868         -20    49.813    0.08296     4.175e-10    1.9146e-36    -4.8598    -2.8037     -1.4953     -0.93458    -0.65421    -0.46729    -0.28037         0    0.18692    0.56075     1.028    1.4019    1.7757    2.4299    3.3645    5.7009    8.6916
    cl_mt_pol_coh     1.7727     1.8245      1.0292     -20.855    54.286          0    1.3226e-11    1.9146e-36    -4.2887     -2.099    -0.68235    -0.014111     0.29954     0.51205     0.71111    1.0479     1.4897     2.0462    2.5618    2.9196    3.3963    4.0636     5.192    7.7095    10.911
    cl_mt_pol_c       1.2776    0.32946     0.25787      1e-300    4.4727          0    1.2857e-09    1.9146e-36     0.5658    0.68729      0.8053      0.84782     0.87483      0.9781      1.0037    1.0971     1.2949     1.4144    1.5252     1.577    1.6422    1.7023    1.8294    2.0732    2.2839

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 16.443810 seconds.
Elapsed time is 3.478639 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max      pYis0      pYisMINY      pYisMAXY      p0_1        p1          p5          p10         p15         p20         p25          p35         p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ______    __________    __________    _______    _______    ________    _________    ________    ________    ________    _________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.48119     1.5135      3.1454         -20    49.832    0.0383    3.3901e-10    4.8881e-32    -4.9119    -2.8926     -1.5465     -0.92949    -0.59295    -0.42468    -0.25641    -0.032051    0.19231    0.58494    1.0337    1.3702    1.7628    2.3237    3.3333     5.633    8.4936
    cl_mt_pol_coh     1.7585     1.8073      1.0278     -20.855    54.289         0    9.7734e-12    4.8881e-32    -4.3221     -2.167    -0.68382    -0.056787     0.30163     0.54137     0.74984       1.0505     1.4632     2.0059     2.538    2.8935    3.3662    4.0212    5.1272    7.6126    10.748
    cl_mt_pol_c       1.2773    0.32641     0.25555      1e-300    4.4571         0    9.7056e-10    4.8881e-32    0.56866    0.70218     0.80567      0.85668     0.92238     0.96243      1.0026       1.0837     1.2688     1.4045    1.5286    1.5578     1.624    1.7001     1.827     2.053    2.2853

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 85.513842 seconds.
Elapsed time is 19.447955 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYisMINY      pYisMAXY       p0_1        p1          p5          p10         p15         p20        p25          p35         p50        p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    __________    ___________    _______    _______    ________    _________    ________    _______    ________    _________    _______    _______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.47399     1.4883      3.1398         -20    49.813    0.034935     2.567e-10    -5.2888e-34    -4.6797    -2.7802     -1.4724     -0.94306    -0.63167    -0.4137    -0.25801    -0.040036    0.17794    0.58274    1.0187    1.3301    1.7349    2.2954    3.2918    5.5338    8.3986
    cl_mt_pol_coh     1.7513     1.7806      1.0167     -20.855    54.291           0    7.0617e-12    -5.2888e-34    -4.0934    -2.0463    -0.64849    -0.049051     0.29906    0.54941     0.74796       1.0398     1.4573     1.9973    2.5218    2.8766    3.3312    3.9757    5.0813    7.5355    10.635
    cl_mt_pol_c       1.2773    0.32424     0.25384      1e-300     4.478           0    7.8771e-10    -5.2888e-34    0.57652    0.70229     0.80325      0.87249     0.91535    0.96348      1.0112       1.0986     1.2759     1.4195    1.5099    1.5727    1.6251    1.7055    1.8227    2.0447    2.2765

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 8.857722 seconds.
Elapsed time is 0.812651 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0      pYisMINY       pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25        p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    _______    ___________    __________    _______    _______    _______    ________    ________    ________    ________    ______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.91977     2.2176       2.411         -20        50    0.05192    -2.4542e-34    3.9167e-27     -5.514    -3.5514    -2.1495     -1.4019    -0.93458    -0.56075    -0.28037         0    0.46729     1.215    1.8692    2.3364    2.9907    3.7383    5.1402    8.1308    11.869
    cl_mt_pol_coh     2.2018     2.4974      1.1343     -20.855    54.286          0     1.6815e-35    8.7403e-28    -4.9641    -2.8953    -1.3027    -0.48328    0.052534     0.41251     0.71111    1.1943     1.7807    2.6337    3.3869    3.8779    4.5402    5.3981    6.8628    10.053    14.057
    cl_mt_pol_c        1.282    0.30544     0.23825      1e-300    4.2858          0    -1.7877e-34    8.7403e-28    0.53213    0.66829    0.81745     0.90036     0.95614      0.9836      1.0296    1.1432     1.3028    1.4262    1.4967    1.5543    1.6051    1.6854    1.7739    2.0022    2.2094

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 21.031568 seconds.
Elapsed time is 2.746003 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0      pYisMINY       pYisMAXY      p0_1        p1         p5         p10         p15        p20         p25         p35         p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    _______    ___________    __________    _______    _______    _______    ________    _______    ________    ________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.90727     2.1879      2.4115         -20        50    0.01752     1.5829e-32    5.3393e-28     -5.641    -3.7901    -2.1074     -1.3221    -0.8734    -0.53686    -0.25641    0.024038    0.47276    1.2019     1.875    2.3237    2.8846    3.6699     5.016    7.9888    11.691
    cl_mt_pol_coh     2.1894     2.4658      1.1262     -20.855    54.289          0     2.2508e-33    1.1213e-28    -5.0986    -3.0676     -1.258    -0.38514    0.10916     0.47437     0.75546      1.1757     1.7937     2.598    3.3515    3.8533    4.4789    5.3442    6.7839    9.9177    13.869
    cl_mt_pol_c       1.2821    0.30285     0.23621      1e-300    4.2888          0    -3.9577e-32    1.1213e-28    0.52432    0.68303    0.82891     0.89093    0.94056      0.9807       1.039      1.1426       1.28     1.413    1.4931    1.5565    1.5993    1.6653    1.7929    1.9801    2.1921

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 82.903429 seconds.
Elapsed time is 22.001629 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYisMINY       pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25        p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    ___________    __________    _______    _______    _______    ________    ________    ________    ________    ______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      0.89546     2.1535      2.4049         -20        50    0.015829    -1.4353e-32     1.038e-28    -5.6139    -3.6833    -2.0329     -1.2856    -0.81851    -0.50712    -0.28915         0    0.48932    1.1744    1.8283    2.2954    2.8559    3.6343    4.9733    7.8692    11.575
    cl_mt_pol_coh     2.1777     2.4295      1.1157     -20.855    54.291           0     2.2725e-33    1.9791e-29    -5.0665    -2.9614    -1.1813    -0.35736     0.13324     0.48266     0.74838    1.1669      1.778    2.5788    3.3267    3.8118    4.4376    5.2951    6.7198    9.8106    13.722
    cl_mt_pol_c       1.2822    0.30084     0.23463      1e-300    4.2912           0      2.132e-33    1.9791e-29    0.52686    0.69048    0.82832     0.89557     0.94042      0.9924       1.031    1.1378     1.2847    1.4115    1.4943     1.553    1.6044    1.6752    1.7822    1.9797    2.1935

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.96
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 8.904438 seconds.
Elapsed time is 0.724409 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max       pYis0       pYisMINY       pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25         p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    ________    ___________    __________    _______    _______    _______    ________    ________    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      1.4634     2.7697      1.8927         -20        50    0.037106     4.2755e-35    1.5507e-17    -5.7009    -4.1121    -2.3364     -1.4019    -0.84112    -0.46729    -0.18692    0.18692    0.93458    1.8692    2.8037    3.3645    4.1121    5.1402     6.729    10.187    14.766
    cl_mt_pol_coh    2.7561      3.039      1.1026     -20.855    54.286           0     3.1459e-36    3.0719e-18    -5.1845    -3.3896    -1.4786    -0.49672     0.11211     0.56162     0.90837     1.3994     2.2523     3.306    4.2777     4.877    5.6686    6.7327    8.4486    12.151    16.861
    cl_mt_pol_c      1.2927    0.29144     0.22545      1e-300    4.2858           0    -3.2104e-35    3.0719e-18    0.50427    0.66558    0.83781     0.91969     0.96829      1.0018      1.0533     1.1892      1.316    1.4359    1.4929    1.5551    1.5973    1.6564    1.7711    1.9608    2.1648

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 14.667922 seconds.
Elapsed time is 3.024134 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max       pYis0       pYisMINY       pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25        p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    ________    ___________    __________    _______    _______    _______    ________    ________    ________    ________    ______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      1.4616     2.7038      1.8499         -20        50    0.015441     6.0884e-32    7.5158e-18    -5.7532    -4.0144    -2.1635      -1.266    -0.76122    -0.42468    -0.14423    0.2484    0.92147     1.875    2.7724    3.2772    4.0064    4.9599    6.5865    10.064    14.495
    cl_mt_pol_coh    2.7554     2.9701      1.0779     -20.855    54.289           0    -2.2346e-32    1.1569e-18    -5.2116    -3.3044    -1.2894    -0.35547     0.21784     0.60111      0.9147    1.4155     2.2476    3.2846    4.2304    4.8265    5.5975    6.6332     8.331     11.99    16.618
    cl_mt_pol_c      1.2938    0.28836     0.22287      1e-300    4.2888           0     6.9584e-31    1.1569e-18    0.50594    0.70131    0.83854     0.90551     0.96447      1.0192       1.066    1.1757     1.3032    1.4254    1.5045    1.5324    1.5954    1.6711    1.7669    1.9549    2.1638

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 81.604877 seconds.
Elapsed time is 24.067151 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0       pYisMINY       pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25         p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    _________    ___________    __________    _______    _______    _______    ________    ________    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      1.4273     2.6773      1.8758         -20        50    0.0099239    -5.4378e-34    3.5971e-18    -5.7384    -3.9635    -2.1575     -1.3167    -0.78737    -0.44484    -0.16459    0.20907    0.89413    1.8594    2.7002    3.2607    3.9457     4.911    6.4991    9.9555    14.315
    cl_mt_pol_coh    2.7202     2.9423      1.0816     -20.855    54.291            0    -5.8063e-35    4.9053e-19    -5.2209    -3.2643    -1.2859    -0.36531     0.18677     0.58257     0.89008     1.3979     2.2147    3.2458    4.1835    4.7823    5.5274     6.561    8.2494    11.865    16.443
    cl_mt_pol_c       1.293    0.28654     0.22161      1e-300    4.2912            0    -4.3428e-33    4.9053e-19    0.49853    0.69878    0.83684     0.91484     0.96921      1.0127      1.0687     1.1725     1.3047    1.4142     1.498    1.5428    1.5932    1.6535     1.753    1.9483    2.1488

</pre><h2 id="4">Simulate Model with Discount High</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_crra = ar_fl_crra

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_beta = '</span> num2str(ar_fl_beta(3))]);
    disp([<span class="string">'fl_crra = '</span> num2str(fl_crra)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Preference</span>
    param_map(<span class="string">'fl_beta'</span>) = ar_fl_beta(3);
    param_map(<span class="string">'fl_crra'</span>) = fl_crra;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
clear <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 28.788520 seconds.
Elapsed time is 0.890746 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0       pYisMINY      pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    _________    __________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a       20.01     12.648     0.63208         -20        50    0.0028771    1.2524e-18     0.0021985    -0.46729    0.18692     2.243    4.3925    6.2617    7.9439    9.5327    12.897    18.318    24.486    29.159    31.869     35.14    38.785    43.178    48.411        50
    cl_mt_pol_coh     21.69      12.96      0.5975     -20.855    54.286            0     4.604e-20    6.3863e-05     0.28449     1.1953     3.431    5.6491    7.6141    9.3574    10.978    14.394    20.018    26.275    31.041    33.884    37.127    40.895    45.401    50.869     53.14
    cl_mt_pol_c      1.6801    0.32141      0.1913      1e-300    4.2858            0    3.7222e-18    6.3863e-05     0.69989    0.98729    1.1974     1.291    1.3407    1.3981    1.4639    1.5458    1.6598    1.7901    1.9004    1.9564    2.0204    2.0951    2.2049    2.4337    3.1405

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 56.087890 seconds.
Elapsed time is 5.570848 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max       pYis0       pYisMINY      pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    ________    __________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      20.456     12.468     0.60951         -20        50    0.001087    2.0736e-19     0.0019159    -0.42468     0.2484    2.3798    4.6234    6.5304    8.3814    10.232    13.878    19.263    24.928    29.415    32.051     35.08    38.614    43.045    48.373        50
    cl_mt_pol_coh    22.145     12.777     0.57694     -20.855    54.289           0    6.6185e-21    5.0784e-05     0.30163      1.258     3.601    5.9129    7.9116    9.8067    11.719    15.423    20.915    26.751     31.33    34.007    37.093    40.701    45.274    50.824    53.109
    cl_mt_pol_c      1.6891    0.31653      0.1874      1e-300    4.2888           0    5.6599e-19    5.0784e-05     0.72263    0.98743    1.1991    1.3008    1.3744    1.4276    1.4714    1.5503    1.6695    1.8035    1.9036    1.9611    2.0217    2.1011    2.2021    2.4264    3.1087

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 159.605109 seconds.
Elapsed time is 9.096400 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    __________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      20.357     12.614     0.61963         -20        50    0.00071859    2.3091e-19     0.0018399    -0.44484    0.24021    2.3265    4.4751    6.4057    8.2117    9.9555    13.505     18.83    24.902    29.698    32.407    35.396    38.821    43.149    48.412        50
    cl_mt_pol_coh    22.044     12.924     0.58626     -20.855    54.291             0     6.557e-21    4.1715e-05     0.31323     1.2391    3.5249    5.7799    7.7734    9.6364    11.435     15.05    20.496    26.706    31.598    34.357    37.428    40.909     45.35    50.845    53.074
    cl_mt_pol_c      1.6871    0.31781     0.18838      1e-300    4.2912             0     6.506e-19    4.1715e-05     0.72086    0.99091    1.2084    1.2967    1.3652    1.4174    1.4673    1.5457     1.671    1.8013    1.8992    1.9578    2.0196    2.1045    2.2099    2.4273    3.0745

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 1.5
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 14.564764 seconds.
Elapsed time is 0.565870 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0       pYisMINY       pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    _________    ___________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      23.105     13.055     0.56502         -20        50    0.0015104     5.3373e-35     0.0037824    -0.65421    0.46729    3.3645    6.1682    8.4112    10.467    12.336    16.075     22.15    28.785    33.458    35.981    38.692    41.776    45.327    49.252        50
    cl_mt_pol_coh    24.847     13.374     0.53823     -20.855    54.286            0     6.7472e-36    0.00010894    0.090715     1.5245     4.575    7.4953    9.8691    11.915    13.792    17.695    23.892    30.615    35.426    38.023    40.788    43.989    47.633    51.762    53.279
    cl_mt_pol_c       1.742    0.32844     0.18854      1e-300    4.2858            0    -3.2261e-35    0.00010894      0.7457     1.0168    1.2547    1.3335    1.3874    1.4526    1.5135    1.6067     1.733    1.8654    1.9663    2.0219    2.0889    2.1551    2.2601     2.502    3.2785

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 45.851504 seconds.
Elapsed time is 1.602044 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY      pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    __________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      24.641     13.048     0.52953         -20        50    0.00057253     2.301e-34     0.0038076    -0.64904    0.58494     3.726    6.6987    9.2228    11.635    13.934    18.421     24.76    30.929     35.08    37.268    39.736    42.484    45.793    49.383        50
    cl_mt_pol_coh    26.414     13.366     0.50601     -20.855    54.289             0    1.8215e-35    9.8085e-05     0.16024     1.6755    5.0009     8.087    10.661    13.105    15.501    20.045    26.543    32.815    37.094    39.336    41.825    44.658    48.081    51.907    53.357
    cl_mt_pol_c      1.7727    0.32679     0.18434      1e-300    4.2888             0    3.1234e-33    9.8085e-05     0.78007     1.0536    1.2668    1.3492    1.4387    1.4942    1.5443    1.6392    1.7695    1.9014    1.9959    2.0546    2.1136    2.1796    2.2803    2.5087    3.3565

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 167.253478 seconds.
Elapsed time is 8.560699 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0       pYisMINY       pYisMAXY       p0_1        p1        p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    _________    ___________    __________    ________    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      24.096     13.002     0.53961         -20        50    0.0003204    -1.4329e-33     0.0035726    -0.63167    0.5516    3.6343    6.4991    8.9902    11.263    13.443    17.709    23.906    30.009    34.399    36.797    39.382    42.215    45.609    49.346        50
    cl_mt_pol_coh    25.857     13.318     0.51506     -20.855    54.291            0     1.7704e-34    7.4895e-05     0.17324    1.6202     4.883    7.8439    10.418    12.737    14.982    19.329    25.653    31.888    36.368    38.819    41.472    44.381    47.861    51.831     53.24
    cl_mt_pol_c      1.7618    0.32472     0.18431      1e-300    4.2912            0    -1.2408e-32    7.4895e-05     0.76914    1.0504    1.2525    1.3596    1.4201    1.4839    1.5358    1.6274     1.754    1.8903    1.9886    2.0392    2.0956    2.1665    2.2674    2.5055    3.2404

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_beta = 0.98
fl_crra = 2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 11.274597 seconds.
Elapsed time is 0.457273 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY       pYisMAXY       p0_1         p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    ___________    __________    _________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      25.262     12.968     0.51332         -20        50    0.00088329    -3.3377e-34     0.0055629     -0.84112    0.84112    4.5794    7.9439    10.561    12.804     14.86    18.879     24.86    31.215    35.794    38.131    40.654    43.364    46.449    49.626        50
    cl_mt_pol_coh    27.047     13.285     0.49117     -20.855    54.286             0     2.6038e-35    0.00014826    -0.084225     1.9314    5.8142    9.3066    11.981    14.298    16.366     20.52    26.641    33.143    37.809    40.216    42.771    45.566    48.772    52.187    53.469
    cl_mt_pol_c      1.7851    0.32807     0.18378      1e-300    4.2858             0    -3.0659e-34    0.00014826      0.81117     1.0938    1.2854    1.3695    1.4312    1.4956    1.5593    1.6497    1.7831    1.9152    2.0069    2.0591    2.1219    2.1867    2.2967    2.5527    3.4692

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 1250, it_z_n = 19
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 33.482552 seconds.
Elapsed time is 2.701125 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY       pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    ___________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      26.831     13.112     0.48868         -20        50    0.00029766    -1.2813e-27     0.0056227    -0.70513    0.97756    4.8478    8.3253     11.13    13.766     16.29    21.002    27.564    33.734     37.66    39.679    41.755    44.167    46.971     49.72        50
    cl_mt_pol_coh    28.647      13.43      0.4688     -20.855    54.289             0    -1.2249e-29    0.00013732     0.12242     2.0803    6.1546     9.702    12.607    15.311    17.883     22.71    29.397    35.664    39.702    41.755    43.929    46.365    49.263    52.282    53.357
    cl_mt_pol_c      1.8165    0.32931     0.18129      1e-300    4.2888             0    -8.4429e-27    0.00013732     0.79563     1.0966    1.2952    1.3851    1.4765    1.5335      1.59    1.6882    1.8229    1.9482    2.0372    2.0912    2.1533    2.2139    2.3206    2.5736    3.3678

xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 2250, it_z_n = 27
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 165.040619 seconds.
Elapsed time is 10.412882 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max        pYis0        pYisMINY       pYisMAXY       p0_1        p1         p5       p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    __________    ___________    __________    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      26.523     13.045     0.49186         -20        50    0.00025564     1.5526e-33      0.005245    -0.72509    0.95641    4.8176    8.2117    11.139    13.661    16.059    20.636    27.051    33.185    37.202    39.288    41.561     43.99    46.824     49.72        50
    cl_mt_pol_coh    28.333     13.362      0.4716     -20.855    54.291             0    -7.8382e-35    0.00010692     0.12044     2.0578    6.1163      9.62     12.59    15.188    17.633    22.309    28.863    35.125    39.224     41.38     43.69    46.191    49.124    52.234     53.42
    cl_mt_pol_c      1.8104    0.32683     0.18053      1e-300    4.2912             0     2.0368e-32    0.00010692     0.80976     1.0884    1.2938     1.397    1.4629    1.5285    1.5867    1.6821    1.8149      1.94    2.0364    2.0874    2.1378    2.2053    2.3088    2.5572    3.4195

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Preference *Default Low Cmin* (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds.html
% ff_az_ds> program for solving the savings only dynamic
% programming problem.
%
% defaults in ffs_abz_set_default_param.m are:
%
% * param_map('fl_beta') = 0.94;
% * param_map('fl_crra') = 1.5;
%
% Test across various discount and risk aversion levels. 
%
% Default allowed, but cmin very low, so people might not default at all. 
%
% @seealso
%
% * test interest rate no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html fsi_abz_ds_vecsv_nbc> 
% * test interest rate default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html fsi_abz_ds_vecsv_default> 
% * test shock no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html fsi_abz_ds_vecsv_shk_nbc>
% * test shock default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html fsi_abz_ds_vecsv_shk_default>
% * test shock default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html fsi_abz_ds_vecsv_shk_default_lowcmin>
% * test preference no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html fsi_abz_ds_vecsv_pref_nbc>
% * test preference default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html fsi_abz_ds_vecsv_pref_default>
% * test preference default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html fsi_abz_ds_vecsv_pref_default_lowcmin>
%

%% Set Shared Parameters

close all;
clear all;

ar_fl_beta = [0.94, 0.96, 0.98];
ar_fl_crra = [1, 1.5, 2.0];

% Accuracy
ar_it_a_n_hg = [750, 1250, 2250];
ar_it_z_n_hg = [15, 19, 27];

% Borrowing/Savings Parameters
bl_default = true;
fl_c_min = 10^-300; % cmin so low default exists but never chosen
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;

%% Simulate Model with Discount Low

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(1))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(1);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
        
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount Medium

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(2))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(2);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Discount High

close all

for fl_crra = ar_fl_crra

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_beta = ' num2str(ar_fl_beta(3))]);
    disp(['fl_crra = ' num2str(fl_crra)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Preference
    param_map('fl_beta') = ar_fl_beta(3);
    param_map('fl_crra') = fl_crra;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;
clear all;

##### SOURCE END #####
--></body></html>