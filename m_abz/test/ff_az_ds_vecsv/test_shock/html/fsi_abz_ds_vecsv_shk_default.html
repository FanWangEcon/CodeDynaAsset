
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Shock Persistence and Variance Default (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-29"><meta name="DC.source" content="fsi_abz_ds_vecsv_shk_default.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Shock Persistence and Variance <b>Default</b> (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html">ff_az_ds_vecsv</a> program for solving the savings + borrowing problem using full-states-markov eigenvector-sparse-matrix approach.</p><p>defaults in ffs_abz_set_default_param.m are:</p><div><ul><li>param_map('fl_z_rho') = 0.8;</li><li>param_map('fl_z_sig') = 0.2;</li></ul></div><p>here test three levels of persistence and shocks shown below that generate different levels of aggregate savings, and proportions of households borrowing and savings.</p><p>@seealso</p><div><ul><li>test interest rate no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html">fsi_abz_ds_vecsv_nbc</a></li><li>test interest rate default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html">fsi_abz_ds_vecsv_default</a></li><li>test shock no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html">fsi_abz_ds_vecsv_shk_nbc</a></li><li>test shock default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html">fsi_abz_ds_vecsv_shk_default</a></li><li>test shock default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html">fsi_abz_ds_vecsv_shk_default_lowcmin</a></li><li>test preference no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html">fsi_abz_ds_vecsv_pref_nbc</a></li><li>test preference default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html">fsi_abz_ds_vecsv_pref_default</a></li><li>test preference default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html">fsi_abz_ds_vecsv_pref_default_lowcmin</a></li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Set Shared Parameters</a></li><li><a href="#2">Simulate Model with Low Persistence</a></li><li><a href="#3">Simulate Model with Medium Persistence</a></li><li><a href="#4">Simulate Model with High Persistence</a></li></ul></div><h2 id="1">Set Shared Parameters</h2><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

<span class="comment">% Shocks</span>
ar_fl_z_rho = [0.65, 0.80, 0.95];
ar_fl_z_sig = [0.05, 0.20, 0.35];

<span class="comment">% Accuracy</span>
<span class="comment">% ar_it_a_n_hg = [750, 1250, 1750, 2250];</span>
<span class="comment">% ar_it_z_n_hg = [15, 19, 23, 27];</span>
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

<span class="comment">% Borrowing/Savings Parameters</span>
bl_default = true;
fl_c_min = 0.01; <span class="comment">% irrelevant when bl_default = false</span>
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;
</pre><h2 id="2">Simulate Model with Low Persistence</h2><pre class="codeinput"><span class="keyword">for</span> fl_z_sig = ar_fl_z_sig

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_z_rho = '</span> num2str(ar_fl_z_rho(1))]);
    disp([<span class="string">'fl_z_sig = '</span> num2str(fl_z_sig)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Shock Parameters</span>
    param_map(<span class="string">'fl_z_rho'</span>) = ar_fl_z_rho(1);
    param_map(<span class="string">'fl_z_sig'</span>) = fl_z_sig;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.65
fl_z_sig = 0.05
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.292527 seconds.
Elapsed time is 0.244593 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean         sd       coefofvar      min       max       pYis0       pYls0       pYgr0       pYisMINY      pYisMAXY      p0_1       p1         p5         p10        p15        p20         p25         p35         p50         p65         p75         p80         p85          p90        p95       p99       p99_9  
                     ________    ________    _________    _______    ______    ________    _______    _________    __________    __________    ______    _______    _______    _______    _______    ________    ________    ________    ________    ________    ________    ________    ________    _________    ______    ______    ________

    cl_mt_pol_a       -1.4575      2.1508     -1.4757         -20    47.757    0.090673    0.90746    0.0018709     0.0011447    1.2917e-35       -20    -12.991    -4.0187    -2.8037    -2.3364     -2.0561     -1.7757     -1.4019    -0.93458    -0.56075    -0.37383    -0.18692    -0.18692    -0.093458         0         0    0.093458
    cl_mt_pol_coh    -0.27224      2.2968     -8.4365     -20.252    52.556           0    0.41639      0.58361    3.4872e-06    1.7168e-35    -19.91    -12.521    -2.9716    -1.7129    -1.2741    -0.93797    -0.64945    -0.24125     0.27617     0.67998     0.91558      1.0426       1.141       1.2306    1.3137    1.4297      1.5559
    cl_mt_pol_c        1.2082    0.089724    0.074264        0.01    4.7989           0          0            1     0.0011447    1.7168e-35      0.01     1.0413     1.0765      1.102     1.1202      1.1375      1.1548      1.1809      1.2124      1.2407        1.26      1.2712      1.2843       1.3016    1.3452    1.4297      1.5126

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.65
fl_z_sig = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.225650 seconds.
Elapsed time is 0.199465 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65         p75         p80          p85         p90         p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    _______    _______    __________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    _______    _________    ________    ________    _________    ________    _______    ______    ______

    cl_mt_pol_a      -4.0634     4.9125      -1.209         -20    48.879    0.035378    0.85817    0.10645     0.0099021    -2.2744e-35        -20    -19.439    -15.514    -11.869    -9.1589    -7.1963    -5.7944    -3.9252     -2.243       -1.215    -0.56075    -0.37383    -0.093458    0.093458    0.46729    1.4953    2.8037
    cl_mt_pol_coh    -3.0507      5.269     -1.7271     -20.739    53.721           0    0.65264    0.34736    4.3526e-05    -2.2744e-35    -20.419     -19.36    -15.243    -11.357    -8.5187    -6.4788    -4.9676    -2.9447    -1.2036    -0.010276     0.63845     0.93705       1.2356      1.5483     2.0936    3.2204    4.6503
    cl_mt_pol_c        1.205    0.20164     0.16733        0.01     4.854           0          0          1     0.0095486    -2.4939e-35       0.01    0.64014     1.0532     1.0665     1.0786     1.0903     1.1011     1.1207     1.1622         1.23      1.2744      1.3109       1.3771      1.4549     1.5595    1.7687    1.9083

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.65
fl_z_sig = 0.35
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.797238 seconds.
Elapsed time is 1.084304 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65         p75        p80        p85       p90       p95       p99      p99_9 
                     _______    ______    _________    _______    ______    ________    _______    _______    __________    __________    _______    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ______    _______    ______    ______    ______    ______

    cl_mt_pol_a      -4.6876    5.7855     -1.2342         -20        50    0.031629    0.79519    0.17318      0.014475    1.8628e-31        -20        -20    -16.822    -13.925    -11.495    -9.5327    -7.9439     -5.514    -2.9907     -1.3084    -0.46729         0    0.28037     1.028     2.243    5.0467    8.6916
    cl_mt_pol_coh    -3.7262    6.2469     -1.6765     -21.011    55.575           0    0.67076    0.32924    7.6293e-05    2.5294e-32    -20.778    -20.151    -16.715    -13.558     -11.01    -8.9339    -7.2357    -4.6648    -2.0477    -0.22103     0.75097    1.2076     1.8006    2.5855     3.984    7.0436    11.015
    cl_mt_pol_c       1.2461    0.2806     0.22518        0.01    5.5753           0          0          1      0.014019    2.5294e-32       0.01       0.01      1.047      1.065     1.0791     1.0919     1.1038     1.1253      1.172      1.2534       1.333    1.3998     1.5062    1.6223    1.7809    2.0812    2.3894

</pre><h2 id="3">Simulate Model with Medium Persistence</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_z_sig = ar_fl_z_sig

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_z_rho = '</span> num2str(ar_fl_z_rho(2))]);
    disp([<span class="string">'fl_z_sig = '</span> num2str(fl_z_sig)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Shock Parameters</span>
    param_map(<span class="string">'fl_z_rho'</span>) = ar_fl_z_rho(2);
    param_map(<span class="string">'fl_z_sig'</span>) = fl_z_sig;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.8
fl_z_sig = 0.05
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.277913 seconds.
Elapsed time is 0.136503 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0      pYls0        pYgr0        pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25         p35         p50         p65         p75          p80        p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    _______    _______    ___________    __________    __________    _______    _______    _______    _______    _______    _______    ________    ________    ________    ________    ________    _________    ______    ______    ______    ______    ______

    cl_mt_pol_a       -1.7385     2.8776     -1.6553         -20     47.85    0.16434    0.83566    -1.4033e-23     0.0022912    2.9543e-28        -20    -16.168    -7.1963    -3.7383    -2.7103    -2.3364     -1.9626     -1.4953    -0.84112    -0.46729    -0.18692    -0.093458         0         0         0         0         0
    cl_mt_pol_coh    -0.57146     3.0762      -5.383     -20.307    52.638          0    0.41464        0.58536    8.1831e-06    2.9543e-28    -20.069    -15.953    -6.3422     -2.759    -1.6989    -1.1964    -0.81986    -0.27239     0.33488     0.82413      1.0764       1.1759    1.2703    1.3218    1.4197    1.5248    1.6377
    cl_mt_pol_c        1.2129    0.11618    0.095789        0.01    4.8232          0          0              1     0.0022912    1.5102e-27       0.01     1.0412     1.0667     1.0897     1.1078     1.1231      1.1396      1.1722      1.2125      1.2451      1.2732        1.281    1.3157    1.3475    1.4197    1.5248    1.6377

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.8
fl_z_sig = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.677015 seconds.
Elapsed time is 0.581433 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65         p75          p80        p85        p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    _______    _______    __________    __________    _______    _______    _______    _______    _______    _______    _______    _______    _______    _________    ________    _________    ______    _______    ______    ______    ______

    cl_mt_pol_a      -4.6003     5.5202     -1.1999         -20    49.252    0.035766    0.81951    0.14472      0.014018    2.3961e-35        -20        -20    -16.729    -13.551    -11.028    -9.0654    -7.3832    -5.0467    -2.7103       -1.215    -0.46729    -0.093458         0    0.37383    1.1215    3.0841    5.6075
    cl_mt_pol_coh    -3.6268     5.9557     -1.6421     -20.855    54.286           0    0.65409    0.34591    7.6262e-05    2.3961e-35    -20.617    -20.091    -16.558    -13.237     -10.55    -8.4443    -6.7043     -4.166    -1.7009    -0.046999     0.79721       1.1092    1.4897     1.9898    2.9196    5.0967    7.9007
    cl_mt_pol_c       1.2376    0.26919      0.2175        0.01    5.0335           0          0          1      0.013046    2.3961e-35       0.01       0.01     1.0483     1.0656     1.0786     1.0907     1.1023     1.1242     1.1686       1.2396      1.3094       1.3791    1.4916     1.6141    1.7704    2.0316    2.3082

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.8
fl_z_sig = 0.35
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.681012 seconds.
Elapsed time is 0.751409 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65        p75        p80       p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    _______    _______    __________    __________    _______    _______    _______    _______    _______    _______    _______    _______    _______    _________    ______    _______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -4.5207     6.8164     -1.5078         -20        50    0.031001     0.7475     0.2215      0.019263    8.8211e-10        -20        -20     -17.57    -14.766    -12.523    -10.561    -8.8785    -6.1682    -3.1776      -1.1215         0    0.37383    1.3084    2.7103    5.2336    11.308    19.252
    cl_mt_pol_coh    -3.5695     7.4255     -2.0802     -21.113    57.184           0    0.65577    0.34423    0.00011758     1.815e-10    -20.992    -20.463    -17.408    -14.621    -12.163    -10.073    -8.3062    -5.4337    -2.2921    -0.058944    1.0811     1.8669     2.934    4.5255    7.3271    13.878    22.458
    cl_mt_pol_c       1.3155    0.40298     0.30633        0.01    7.1835           0          0          1      0.017778     1.815e-10       0.01       0.01     1.0252      1.065     1.0835     1.0993     1.1125     1.1395     1.1909        1.292    1.4182     1.5378     1.695    1.8355    2.1265    2.6681    3.2513

</pre><h2 id="4">Simulate Model with High Persistence</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_z_sig = ar_fl_z_sig

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_z_rho = '</span> num2str(ar_fl_z_rho(3))]);
    disp([<span class="string">'fl_z_sig = '</span> num2str(fl_z_sig)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Shock Parameters</span>
    param_map(<span class="string">'fl_z_rho'</span>) = ar_fl_z_rho(3);
    param_map(<span class="string">'fl_z_sig'</span>) = fl_z_sig;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
clear <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.95
fl_z_sig = 0.05
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.315095 seconds.
Elapsed time is 0.296686 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar     min       max       pYis0      pYls0        pYgr0        pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35         p50          p65        p75       p80       p85      p90      p95       p99      p99_9 
                     _______    _______    _________    ______    ______    _______    _______    ___________    __________    __________    _______    _______    _______    _______    _______    _______    _______    ________    ________    _________    ______    ______    ______    ____    ______    ______    ______

    cl_mt_pol_a      -2.8262     4.4794      -1.585        -20     47.85    0.34537    0.65463    -2.5234e-32     0.0074165    1.9464e-35        -20    -18.879    -13.925    -9.4393    -6.6355    -4.7664    -3.4579     -1.9626    -0.74766    -0.093458         0         0         0       0         0         0         0
    cl_mt_pol_coh    -1.7299     4.8328     -2.7937     -20.52     53.04          0    0.44834        0.55166    8.3604e-05    1.9464e-35    -20.341    -18.928    -13.604     -8.953    -5.8889    -3.8502    -2.5048    -0.89084     0.38168       1.1621    1.3512    1.3512    1.4472    1.55    1.6601    1.9044    2.0397
    cl_mt_pol_c       1.2453    0.21374     0.17164       0.01    5.1892          0          0              1      0.007394    1.9464e-35       0.01    0.96872     1.0608     1.0779     1.0915     1.1037     1.1157      1.1401      1.1826       1.2616    1.3512    1.3551    1.4472    1.55    1.6601    1.9044    2.0397

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.95
fl_z_sig = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.272081 seconds.
Elapsed time is 0.677133 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0      pYls0      pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65         p75         p80        p85       p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    _______    _______    _______    __________    __________    _______    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ________    ______    ______    ______    ______    ______

    cl_mt_pol_a      -4.6143     7.6218     -1.6518         -20        50    0.03174    0.76567    0.20259      0.025076    1.6659e-06        -20        -20    -18.037    -15.421    -13.178    -11.308    -9.5327     -6.729    -3.4579     -1.3084    -0.18692    0.093458     1.028    2.8037    6.8224    17.757    31.121
    cl_mt_pol_coh    -3.6795     8.4956     -2.3089     -21.151    57.948          0    0.67326    0.32674    0.00022969    9.6883e-07    -21.042    -20.713    -18.369    -15.406    -13.169    -11.079    -9.2349    -6.1493    -2.7108    -0.27692     0.94013      1.7201    2.9497    5.0626    9.5621    21.628    36.213
    cl_mt_pol_c       1.4245    0.68173     0.47859        0.01    7.9477          0          0          1      0.023742    9.6883e-07       0.01       0.01    0.98406     1.0646     1.0841     1.0981     1.1108     1.1357     1.1806      1.2883      1.4404      1.6523    1.8881     2.263    2.8735    4.1184     5.329

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.95
fl_z_sig = 0.35
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 2.866135 seconds.
Elapsed time is 0.858288 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd      coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY     pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65         p75       p80       p85       p90       p95       p99      p99_9 
                     _______    ______    _________    _______    ______    ________    _______    _______    __________    _________    _______    _______    _______    _______    _______    _______    _______    _______    _______    ________    _______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -2.1096    13.377     -6.3411         -20        50    0.039341    0.70742    0.25323      0.033457    0.0075113        -20        -20    -18.037    -15.981    -14.019     -12.15    -10.467    -7.3832    -3.8318      -1.028    0.18692    2.8972    7.1963    14.206    27.196    49.065        50
    cl_mt_pol_coh    -1.1385    14.987     -13.164     -21.278    69.456           0    0.66311    0.33689    0.00024673    0.0014561    -21.242    -21.149    -18.859     -16.58     -14.38    -12.306    -10.499    -7.2276    -3.3386    -0.35599     1.8254    4.8758    9.5651     17.07    31.179    55.368    69.456
    cl_mt_pol_c       1.6609    1.4734     0.88711        0.01    19.456           0          0          1      0.032989    0.0014561       0.01       0.01    0.93377     1.0539     1.0889     1.1081     1.1207     1.1464     1.1873      1.3079     1.5721     1.881    2.3103    2.9396    4.0692    7.7577    19.456

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Shock Persistence and Variance *Default* (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html
% ff_az_ds_vecsv> program for solving the savings + borrowing problem using
% full-states-markov eigenvector-sparse-matrix approach.
%
% defaults in ffs_abz_set_default_param.m are:
%
% * param_map('fl_z_rho') = 0.8;
% * param_map('fl_z_sig') = 0.2;
%
% here test three levels of persistence and shocks shown below that
% generate different levels of aggregate savings, and proportions of
% households borrowing and savings.
%
% @seealso
%
% * test interest rate no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html fsi_abz_ds_vecsv_nbc> 
% * test interest rate default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html fsi_abz_ds_vecsv_default> 
% * test shock no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html fsi_abz_ds_vecsv_shk_nbc>
% * test shock default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html fsi_abz_ds_vecsv_shk_default>
% * test shock default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html fsi_abz_ds_vecsv_shk_default_lowcmin>
% * test preference no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html fsi_abz_ds_vecsv_pref_nbc>
% * test preference default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html fsi_abz_ds_vecsv_pref_default>
% * test preference default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html fsi_abz_ds_vecsv_pref_default_lowcmin>
%

%% Set Shared Parameters

close all;
clear all;

% Shocks
ar_fl_z_rho = [0.65, 0.80, 0.95];
ar_fl_z_sig = [0.05, 0.20, 0.35];

% Accuracy
% ar_it_a_n_hg = [750, 1250, 1750, 2250];
% ar_it_z_n_hg = [15, 19, 23, 27];
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

% Borrowing/Savings Parameters
bl_default = true;
fl_c_min = 0.01; % irrelevant when bl_default = false
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;

%% Simulate Model with Low Persistence

for fl_z_sig = ar_fl_z_sig

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_z_rho = ' num2str(ar_fl_z_rho(1))]);
    disp(['fl_z_sig = ' num2str(fl_z_sig)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Shock Parameters
    param_map('fl_z_rho') = ar_fl_z_rho(1);
    param_map('fl_z_sig') = fl_z_sig;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Medium Persistence

close all

for fl_z_sig = ar_fl_z_sig

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_z_rho = ' num2str(ar_fl_z_rho(2))]);
    disp(['fl_z_sig = ' num2str(fl_z_sig)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Shock Parameters
    param_map('fl_z_rho') = ar_fl_z_rho(2);
    param_map('fl_z_sig') = fl_z_sig;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with High Persistence

close all

for fl_z_sig = ar_fl_z_sig

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_z_rho = ' num2str(ar_fl_z_rho(3))]);
    disp(['fl_z_sig = ' num2str(fl_z_sig)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Shock Parameters
    param_map('fl_z_rho') = ar_fl_z_rho(3);
    param_map('fl_z_sig') = fl_z_sig;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;
clear all;

##### SOURCE END #####
--></body></html>