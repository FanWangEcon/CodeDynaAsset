
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Test Shock Persistence and Variance Default Low Cmin (Save + Borr Distribution)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-29"><meta name="DC.source" content="fsi_abz_ds_vecsv_shk_default_lowcmin.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Test Shock Persistence and Variance <b>Default Low Cmin</b> (Save + Borr Distribution)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><p>Testing the <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html">ff_az_ds_vecsv</a> program for solving the savings + borrowing problem using full-states-markov eigenvector-sparse-matrix approach.</p><p>defaults in ffs_abz_set_default_param.m are:</p><div><ul><li>param_map('fl_z_rho') = 0.8;</li><li>param_map('fl_z_sig') = 0.2;</li></ul></div><p>here test three levels of persistence and shocks shown below that generate different levels of aggregate savings, and proportions of households borrowing and savings.</p><p>This tries to mimic <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html">fsi_abz_ds_vecsv_shk_nbc</a> where no defaults are allowed. Results are almost identical for low persistence, but not the same for high persistence.</p><p>@seealso</p><div><ul><li>test interest rate no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html">fsi_abz_ds_vecsv_nbc</a></li><li>test interest rate default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html">fsi_abz_ds_vecsv_default</a></li><li>test shock no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html">fsi_abz_ds_vecsv_shk_nbc</a></li><li>test shock default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html">fsi_abz_ds_vecsv_shk_default</a></li><li>test shock default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html">fsi_abz_ds_vecsv_shk_default_lowcmin</a></li><li>test preference no default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html">fsi_abz_ds_vecsv_pref_nbc</a></li><li>test preference default: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html">fsi_abz_ds_vecsv_pref_default</a></li><li>test preference default (very low cmin): <a href="https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html">fsi_abz_ds_vecsv_pref_default_lowcmin</a></li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Set Shared Parameters</a></li><li><a href="#2">Simulate Model with Low Persistence</a></li><li><a href="#3">Simulate Model with Medium Persistence</a></li><li><a href="#4">Simulate Model with High Persistence</a></li></ul></div><h2 id="1">Set Shared Parameters</h2><pre class="codeinput">close <span class="string">all</span>;
clear <span class="string">all</span>;

ar_fl_z_rho = [0.65, 0.80, 0.95];
ar_fl_z_sig = [0.05, 0.20, 0.35];

<span class="comment">% Accuracy</span>
<span class="comment">% ar_it_a_n_hg = [750, 1250, 1750, 2250];</span>
<span class="comment">% ar_it_z_n_hg = [15, 19, 23, 27];</span>
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

<span class="comment">% Borrowing/Savings Parameters</span>
bl_default = true;
fl_c_min = 10^-300; <span class="comment">% cmin so low default exists but never chosen</span>
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;
</pre><h2 id="2">Simulate Model with Low Persistence</h2><pre class="codeinput"><span class="keyword">for</span> fl_z_sig = ar_fl_z_sig

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_z_rho = '</span> num2str(ar_fl_z_rho(1))]);
    disp([<span class="string">'fl_z_sig = '</span> num2str(fl_z_sig)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Shock Parameters</span>
    param_map(<span class="string">'fl_z_rho'</span>) = ar_fl_z_rho(1);
    param_map(<span class="string">'fl_z_sig'</span>) = fl_z_sig;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.65
fl_z_sig = 0.05
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.985995 seconds.
Elapsed time is 0.388714 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYls0       pYgr0        pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65         p75         p80         p85         p90          p95        p99      p99_9 
                     _______    _______    _________    _______    ______    ________    _______    __________    __________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ________    ________    ________    _________    ______    ______

    cl_mt_pol_a      -3.8007     3.7571    -0.98854         -20    47.757    0.041421    0.95768    0.00089436    2.2526e-35    -2.0372e-36    -15.607    -14.673    -12.056    -9.7196    -8.1308    -6.8224    -5.7944    -4.0187    -2.4299     -1.4019    -0.93458    -0.65421    -0.46729    -0.28037    -0.093458         0         0
    cl_mt_pol_coh    -2.7677     4.0051     -1.4471     -20.252    52.556           0    0.69376       0.30624    1.7166e-35    -4.3136e-36     -15.38    -14.375    -11.526    -9.1109     -7.369    -5.9887    -4.8573    -3.0282    -1.2741    -0.24125     0.29506     0.54494     0.77952      1.0151       1.2142    1.3899    1.5126
    cl_mt_pol_c        1.033    0.25018      0.2422      1e-300    4.7989           0          0             1    3.8509e-35    -4.3136e-36    0.21385    0.31843     0.4946    0.64134    0.74875    0.83372    0.90161     1.0108     1.1152      1.1809      1.2165      1.2335      1.2488      1.2711       1.3016    1.3899    1.4706

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.65
fl_z_sig = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.678797 seconds.
Elapsed time is 0.214191 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35        p50         p65         p75         p80          p85         p90         p95       p99      p99_9 
                     _______    _______    _________    _______    ______    ________    _______    _______    __________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ________    ________    _________    ________    _______    ______    ______

    cl_mt_pol_a      -2.4122     2.2655    -0.93918         -20    48.879    0.021191      0.863    0.11581    6.0207e-35     6.0876e-36    -8.4112    -7.8505     -6.729    -5.7944    -5.0467     -4.486    -3.9252    -3.0841     -1.9626     -1.1215    -0.65421    -0.37383    -0.093458    0.093458    0.56075    1.5888    2.8037
    cl_mt_pol_coh    -1.2925     2.4972     -1.9321     -20.739    53.721           0    0.64655    0.35345    1.8407e-35     6.0876e-36    -8.0714    -7.2808    -6.0162    -4.9859    -4.1897    -3.5419     -2.977    -2.0009    -0.88681    0.041145     0.58798     0.90478       1.2356      1.5738     2.1308     3.289    4.7263
    cl_mt_pol_c       1.1197    0.24507     0.21887      1e-300     4.854           0          0          1    6.3408e-35    -9.6402e-36     0.3342    0.57579    0.74779    0.82571    0.88186    0.93002    0.96647     1.0272      1.1001      1.1931      1.2654      1.2986       1.3493      1.4488     1.5595     1.765    1.9084

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.65
fl_z_sig = 0.35
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.108450 seconds.
Elapsed time is 0.398655 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25         p35         p50         p65        p75       p80       p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    _______    _______    __________    __________    _______    _______    _______    _______    _______    _______    ________    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      -0.31002     2.2291     -7.1899         -20        50    0.021577    0.58778    0.39064    1.4641e-34    2.5221e-30    -4.2991    -4.1121    -3.5514    -2.9907    -2.6168     -2.243     -1.8692      -1.215    -0.46729    0.28037    0.84112    1.3084    1.7757    2.5234    3.7383    6.4486        10
    cl_mt_pol_coh      0.9175     2.5809      2.8129     -21.011    55.575           0    0.38093    0.61907    7.6722e-35    3.4228e-31    -4.0568    -3.6352     -2.839    -2.2117     -1.714    -1.2875    -0.90855    -0.19268     0.70312     1.5905     2.3531    2.8298     3.412    4.2269    5.6045    8.5911    12.477
    cl_mt_pol_c        1.2275    0.36604      0.2982      1e-300    5.5753           0          0          1    1.7466e-34    3.4228e-31    0.24231    0.46568    0.70097    0.79112    0.87878    0.91831     0.96355      1.0641      1.1575     1.3443     1.4752     1.539    1.6307    1.7391    1.8735    2.1445    2.4523

</pre><h2 id="3">Simulate Model with Medium Persistence</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_z_sig = ar_fl_z_sig

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_z_rho = '</span> num2str(ar_fl_z_rho(2))]);
    disp([<span class="string">'fl_z_sig = '</span> num2str(fl_z_sig)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'fl_z_rho'</span>) = ar_fl_z_rho(2);
    param_map(<span class="string">'fl_z_sig'</span>) = fl_z_sig;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.8
fl_z_sig = 0.05
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 4.175166 seconds.
Elapsed time is 0.157204 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean        sd       coefofvar      min       max       pYis0      pYls0       pYgr0        pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25        p35        p50        p65         p75         p80          p85        p90       p95       p99      p99_9 
                     _______    _______    _________    _______    ______    _______    _______    __________    __________    __________    _______    _______    _______    _______    _______    _______    _______    _______    _______    ________    ________    ________    _________    ______    ______    ______    ______

    cl_mt_pol_a      -2.2217     2.5092     -1.1294         -20     47.85    0.10641    0.89359    1.4272e-33    2.2059e-35    2.5101e-35    -13.925    -11.589    -8.0374    -5.3271    -4.1121    -3.4579    -2.8972    -2.1495    -1.4953    -0.84112    -0.46729    -0.28037    -0.093458         0         0         0         0
    cl_mt_pol_coh    -1.0861     2.6864     -2.4733     -20.307    52.638          0    0.57087       0.42913    8.5748e-36    2.5101e-35    -13.608    -11.055     -7.238    -4.4011    -3.1488    -2.3957    -1.8548    -1.0687    -0.3222     0.37453     0.77776     0.97173       1.1311    1.2703    1.3699    1.4713    1.5802
    cl_mt_pol_c       1.1356    0.18424     0.16225      1e-300    4.8232          0          0             1    1.7502e-34    9.6906e-36    0.32554     0.5017    0.75299     0.9075    0.98416     1.0302     1.0638     1.1124     1.1722      1.2185      1.2451      1.2633       1.2776    1.3157    1.3699    1.4713    1.5802

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.8
fl_z_sig = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.101320 seconds.
Elapsed time is 0.346672 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar      min       max       pYis0       pYls0      pYgr0      pYisMINY       pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35         p50         p65        p75        p80        p85       p90       p95       p99      p99_9 
                     ________    _______    _________    _______    ______    ________    _______    _______    ___________    ___________    _______    _______    _______    _______    _______    _______    _______    _______    _________    ________    ______    _______    _______    ______    ______    ______    ______

    cl_mt_pol_a       -1.5074     2.2369     -1.4839         -20    49.252    0.026509    0.73127    0.24222    -5.8008e-34    -6.2511e-35    -6.6355    -6.2617    -5.4206    -4.6729    -4.1121    -3.6449    -3.1776     -2.243       -1.215    -0.37383         0    0.18692    0.56075     1.028    1.8692    3.8318    6.2617
    cl_mt_pol_coh    -0.33821     2.5637     -7.5801     -20.855    54.286           0    0.51091    0.48909     3.4918e-35    -6.2511e-35    -6.3842     -5.787     -4.765    -3.8906     -3.272    -2.6864    -2.1753    -1.2414    -0.086959     0.81065    1.3944     1.7039     2.0852    2.6571    3.6131    5.8056     8.568
    cl_mt_pol_c        1.1692    0.35043     0.29971      1e-300    5.0335           0          0          1    -2.1068e-34    -6.2511e-35    0.23067    0.47389    0.66455    0.73868    0.84907    0.89833    0.94311     1.0102       1.1109      1.2463    1.3944     1.4935     1.5544    1.6724    1.7976    2.0561    2.3288

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.8
fl_z_sig = 0.35
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.149554 seconds.
Elapsed time is 0.638841 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max       pYis0      pYls0      pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10         p15         p20         p25          p35         p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    _______    _______    _______    __________    __________    _______    _______    _______    ________    ________    ________    ________    _________    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      1.6879     3.5642      2.1116         -20        50    0.02432    0.35826    0.61742    1.9035e-34    3.7168e-09    -2.7103    -2.5234    -2.0561     -1.5888     -1.3084    -0.93458    -0.56075    -0.093458    0.65421    1.7757    2.9907    3.7383    4.7664    6.2617     8.785    14.766    22.523
    cl_mt_pol_coh    2.9831     4.0655      1.3628     -21.113    57.184          0    0.21346    0.78654    1.7529e-34    7.5132e-10    -2.5786    -2.1926    -1.5133    -0.94078    -0.51139    -0.10236     0.27828      0.93218     1.9325    3.2863    4.6016    5.4596    6.6035    8.2241    11.024    17.494    25.866
    cl_mt_pol_c      1.2952    0.54315     0.41934      1e-300    7.1835          0          0          1    1.2538e-17    7.5132e-10    0.13169    0.33141    0.51202     0.64193      0.7518     0.80221     0.88996       1.0312     1.2481    1.4846    1.6333    1.7477    1.8692    2.0059    2.2611    2.7823    3.4027

</pre><h2 id="4">Simulate Model with High Persistence</h2><pre class="codeinput">close <span class="string">all</span>

<span class="keyword">for</span> fl_z_sig = ar_fl_z_sig

    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp([<span class="string">'fl_z_rho = '</span> num2str(ar_fl_z_rho(3))]);
    disp([<span class="string">'fl_z_sig = '</span> num2str(fl_z_sig)]);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);
    disp(<span class="string">''</span>);

    <span class="comment">% Call Default Parameters &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param&gt;</span>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    <span class="comment">% Simulation Accuracy</span>
    param_map(<span class="string">'fl_z_rho'</span>) = ar_fl_z_rho(3);
    param_map(<span class="string">'fl_z_sig'</span>) = fl_z_sig;

    <span class="comment">% Borrowing Parameters</span>
    param_map(<span class="string">'bl_default'</span>) = bl_default;
    param_map(<span class="string">'fl_c_min'</span>) = fl_c_min;
    param_map(<span class="string">'fl_b_bd'</span>) = fl_b_bd;

    <span class="comment">% Interest Rates</span>
    param_map(<span class="string">'fl_r_save'</span>) = fl_r_save;
    param_map(<span class="string">'fl_r_borr'</span>) = fl_r_borr;

    <span class="comment">% Display Parameters</span>
    support_map(<span class="string">'bl_display'</span>) = false;
    support_map(<span class="string">'bl_display_final'</span>) = false;
    support_map(<span class="string">'bl_time'</span>) = true;
    support_map(<span class="string">'bl_profile'</span>) = false;

    <span class="keyword">for</span> it_accuracy = 1:length(ar_it_a_n_hg)
        <span class="comment">% Accuracy Regular</span>
        param_map(<span class="string">'it_a_n'</span>) = ar_it_a_n_hg(it_accuracy);
        param_map(<span class="string">'it_z_n'</span>) = ar_it_z_n_hg(it_accuracy);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        disp([<span class="string">'it_a_n = '</span> num2str(ar_it_a_n_hg(it_accuracy)) <span class="string">', it_z_n = '</span> num2str(ar_it_z_n_hg(it_accuracy))]);
        disp(<span class="string">'xxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>);
        <span class="comment">% Call Grid Generator &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid&gt;</span>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        <span class="comment">% Call Dynamic Programming Problem &lt;https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv&gt;</span>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        <span class="comment">% Call Distribution CProgram</span>
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    <span class="keyword">end</span>

    <span class="comment">% Snap</span>
    snapnow;

<span class="keyword">end</span>

<span class="comment">% close all</span>
close <span class="string">all</span>;
clear <span class="string">all</span>;
</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.95
fl_z_sig = 0.05
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.768735 seconds.
Warning: The shifted operator is close to singular or badly scaled. RCOND =
7.304652e-17. Consider using a different value for sigma. 
Elapsed time is 0.186236 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                       mean        sd       coefofvar     min       max       pYis0      pYls0       pYgr0        pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25        p35         p50         p65        p75       p80       p85      p90      p95       p99      p99_9 
                     ________    _______    _________    ______    ______    _______    _______    __________    __________    ___________    _______    _______    _______    _______    _______    _______    _______    ________    ________    ________    ______    ______    ______    ____    ______    ______    ______

    cl_mt_pol_a       -1.9001     2.4457     -1.2871        -20     47.85    0.29194    0.70806    1.5155e-32    3.2611e-35    -7.6764e-36    -11.308    -9.9065    -7.4766    -5.6075    -4.3925    -3.4579    -2.8037     -1.7757    -0.93458    -0.28037         0         0         0       0         0         0         0
    cl_mt_pol_coh    -0.74356     2.6883     -3.6155     -20.52     53.04          0    0.46474       0.53526    7.0624e-36    -7.6764e-36    -11.043    -9.4721    -6.7847    -4.7726    -3.5001    -2.5341    -1.8239    -0.74249     0.25283     0.97888    1.2616    1.3512    1.4472    1.55    1.6601    1.9044    2.0397
    cl_mt_pol_c        1.1565    0.28738     0.24849     1e-300    5.1892          0          0             1     1.114e-34    -7.6764e-36    0.22979     0.4326    0.66851    0.79229    0.87126    0.92974    0.97832      1.0625      1.1655      1.2616    1.3512    1.3512    1.4472    1.55    1.6601    1.9044    2.0397

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.95
fl_z_sig = 0.2
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.038673 seconds.
Elapsed time is 0.652012 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd       coefofvar      min       max       pYis0      pYls0      pYgr0      pYisMINY       pYisMAXY       p0_1        p1         p5         p10          p15         p20         p25         p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    _______    _________    _______    ______    _______    _______    _______    ___________    __________    ________    _______    _______    ________    _________    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a      1.9644     4.4691       2.275         -20        50    0.11022    0.28599    0.60379    -3.5765e-18    4.8981e-06     -2.0561    -1.7757    -1.3084    -0.93458     -0.65421    -0.37383    -0.18692          0    0.28037     1.215    2.3364    3.1776     4.486    6.6355    10.748    21.682     34.86
    cl_mt_pol_coh    3.2738     5.2263      1.5964     -21.151    57.948          0    0.16439    0.83561    -5.6402e-19    2.8485e-06     -1.9938    -1.5957    -0.9985    -0.44944    -0.058927     0.23967     0.48781      0.778     1.5289    2.6728    4.0488    5.0974     6.607    8.9902     13.64    25.642    39.941
    cl_mt_pol_c      1.3094    0.86663     0.66187      1e-300    7.9477          0          0          1    -1.9482e-17    2.8485e-06    0.062252    0.15451    0.34308     0.41444       0.5336     0.57519     0.63689    0.79669     1.1179     1.456    1.6974    1.9348    2.1112    2.4563    3.0442    4.2518    5.4056

</pre><pre class="codeoutput">xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
fl_z_rho = 0.95
fl_z_sig = 0.35
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxx
it_a_n = 750, it_z_n = 15
xxxxxxxxxxxxxxxxxxxxxxxxxxx
Elapsed time is 3.112448 seconds.
Elapsed time is 1.503026 seconds.
tb_outcomes_meansdperc: mean, sd, percentiles
                      mean       sd      coefofvar      min       max       pYis0        pYls0        pYgr0      pYisMINY      pYisMAXY       p0_1         p1         p5        p10        p15        p20        p25        p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                     ______    ______    _________    _______    ______    _______    ___________    _______    ___________    _________    ________    ________    ______    _______    _______    _______    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a       8.207    11.179     1.3622          -20        50    0.10513    -2.3736e-32    0.89487    -5.1101e-34     0.010159           0           0         0          0    0.28037    0.65421    0.93458     1.7757     3.5514    6.8224    10.561    13.458    17.477    23.738    34.953        50        50
    cl_mt_pol_coh    9.6511    12.682     1.3141      -21.278    69.456          0    -2.3967e-32          1      -4.44e-34    0.0018351    0.022148    0.057888    0.1513    0.37957    0.66555     1.0206     1.4149     2.3682     4.5478    8.2305    12.425    15.552    19.974    26.769    39.043    58.061    69.456
    cl_mt_pol_c      1.4441    1.7196     1.1907       1e-300    19.456          0              0          1    -1.7762e-33    0.0018351    0.022148    0.057888    0.1513    0.24461    0.32536    0.39546    0.46704    0.63658    0.94761    1.3664    1.8362    2.1159    2.5365    3.1291    4.2162    8.0611    19.456

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Test Shock Persistence and Variance *Default Low Cmin* (Save + Borr Distribution)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*
%
% Testing the
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html
% ff_az_ds_vecsv> program for solving the savings + borrowing problem using
% full-states-markov eigenvector-sparse-matrix approach.
%
% defaults in ffs_abz_set_default_param.m are:
%
% * param_map('fl_z_rho') = 0.8;
% * param_map('fl_z_sig') = 0.2;
%
% here test three levels of persistence and shocks shown below that
% generate different levels of aggregate savings, and proportions of
% households borrowing and savings.
%
% This tries to mimic
% <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html fsi_abz_ds_vecsv_shk_nbc>
% where no defaults are allowed. Results are almost identical for low
% persistence, but not the same for high persistence. 
%
% @seealso
%
% * test interest rate no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_nbc.html fsi_abz_ds_vecsv_nbc> 
% * test interest rate default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_borr/html/fsi_abz_ds_vecsv_default.html fsi_abz_ds_vecsv_default> 
% * test shock no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_nbc.html fsi_abz_ds_vecsv_shk_nbc>
% * test shock default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default.html fsi_abz_ds_vecsv_shk_default>
% * test shock default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_shock/html/fsi_abz_ds_vecsv_shk_default_lowcmin.html fsi_abz_ds_vecsv_shk_default_lowcmin>
% * test preference no default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_nbc.html fsi_abz_ds_vecsv_pref_nbc>
% * test preference default: <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default.html fsi_abz_ds_vecsv_pref_default>
% * test preference default (very low cmin): <https://fanwangecon.github.io/CodeDynaAsset/m_abz/test/ff_az_ds_vecsv/test_pref/html/fsi_abz_ds_vecsv_pref_default_lowcmin.html fsi_abz_ds_vecsv_pref_default_lowcmin>
%

%% Set Shared Parameters

close all;
clear all;

ar_fl_z_rho = [0.65, 0.80, 0.95];
ar_fl_z_sig = [0.05, 0.20, 0.35];

% Accuracy
% ar_it_a_n_hg = [750, 1250, 1750, 2250];
% ar_it_z_n_hg = [15, 19, 23, 27];
ar_it_a_n_hg = [750];
ar_it_z_n_hg = [15];

% Borrowing/Savings Parameters
bl_default = true;
fl_c_min = 10^-300; % cmin so low default exists but never chosen
fl_b_bd = -20;
fl_r_save = 0.02;
fl_r_borr = 0.065;

%% Simulate Model with Low Persistence

for fl_z_sig = ar_fl_z_sig

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_z_rho = ' num2str(ar_fl_z_rho(1))]);
    disp(['fl_z_sig = ' num2str(fl_z_sig)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Shock Parameters
    param_map('fl_z_rho') = ar_fl_z_rho(1);
    param_map('fl_z_sig') = fl_z_sig;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;
    
    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end
    
    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with Medium Persistence

close all

for fl_z_sig = ar_fl_z_sig

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_z_rho = ' num2str(ar_fl_z_rho(2))]);
    disp(['fl_z_sig = ' num2str(fl_z_sig)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Simulation Accuracy
    param_map('fl_z_rho') = ar_fl_z_rho(2);
    param_map('fl_z_sig') = fl_z_sig;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;

%% Simulate Model with High Persistence

close all

for fl_z_sig = ar_fl_z_sig

    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp(['fl_z_rho = ' num2str(ar_fl_z_rho(3))]);
    disp(['fl_z_sig = ' num2str(fl_z_sig)]);
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
    disp('');
    disp('');
    disp('');
    disp('');

    % Call Default Parameters <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_set_default_param.html ffs_abz_set_default_param>
    bl_input_override = true;
    it_param_set = 9;
    [param_map, support_map] = ffs_abz_set_default_param(it_param_set);

    % Simulation Accuracy
    param_map('fl_z_rho') = ar_fl_z_rho(3);
    param_map('fl_z_sig') = fl_z_sig;

    % Borrowing Parameters
    param_map('bl_default') = bl_default;
    param_map('fl_c_min') = fl_c_min;
    param_map('fl_b_bd') = fl_b_bd;
    
    % Interest Rates
    param_map('fl_r_save') = fl_r_save;
    param_map('fl_r_borr') = fl_r_borr;
    
    % Display Parameters
    support_map('bl_display') = false;
    support_map('bl_display_final') = false;
    support_map('bl_time') = true;
    support_map('bl_profile') = false;

    for it_accuracy = 1:length(ar_it_a_n_hg)
        % Accuracy Regular
        param_map('it_a_n') = ar_it_a_n_hg(it_accuracy);
        param_map('it_z_n') = ar_it_z_n_hg(it_accuracy);        
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        disp(['it_a_n = ' num2str(ar_it_a_n_hg(it_accuracy)) ', it_z_n = ' num2str(ar_it_z_n_hg(it_accuracy))]);
        disp('xxxxxxxxxxxxxxxxxxxxxxxxxxx');
        % Call Grid Generator <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_abz_get_funcgrid.html ffs_abz_get_funcgrid>
        [armt_map, func_map] = ffs_abz_get_funcgrid(param_map, support_map, bl_input_override);
        % Call Dynamic Programming Problem <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_abz_vf_vecsv.html ff_abz_vf_vecsv>
        result_map = ff_abz_vf_vecsv(param_map, support_map, armt_map, func_map);
        % Call Distribution CProgram
        result_map = ff_az_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    end

    % Snap
    snapnow;

end

% close all
close all;
clear all;

##### SOURCE END #####
--></body></html>