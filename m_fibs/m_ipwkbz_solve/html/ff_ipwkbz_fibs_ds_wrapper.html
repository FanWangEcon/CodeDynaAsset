
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Derive Distributions for For+Inf+Borr+Save Risky + Safe Asset Interpolated-Percentage (Wrapper)</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-07-04"><meta name="DC.source" content="ff_ipwkbz_fibs_ds_wrapper.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Derive Distributions for For+Inf+Borr+Save Risky + Safe Asset Interpolated-Percentage (Wrapper)</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#2">FF_IPWKBZ_FIBS_DS_WRAPPER finds the stationary asset distributions</a></li><li><a href="#3">Default</a></li><li><a href="#4">Parse Parameters 1</a></li><li><a href="#5">Parse Parameters</a></li><li><a href="#6">Start Profiler and Timer</a></li><li><a href="#7">Solve DP</a></li><li><a href="#8">Derive Distribution</a></li><li><a href="#9">End Profiler and Timer</a></li></ul></div><pre class="codeinput"><span class="keyword">function</span> [result_map] = ff_ipwkbz_fibs_ds_wrapper(varargin)
</pre><h2 id="2">FF_IPWKBZ_FIBS_DS_WRAPPER finds the stationary asset distributions</h2><p>This is a warpper function.</p><h2 id="3">Default</h2><div><ol><li>it_subset = 5 is basic invoke quick test</li><li>it_subset = 6 is invoke full test</li><li>it_subset = 7 is profiling invoke</li><li>it_subset = 8 is matlab publish</li><li>it_subset = 9 is invoke operational (only final stats) and coh graph</li></ol></div><pre class="codeinput">it_param_set = 8;
bl_input_override = true;
[param_map, support_map] = ffs_ipwkbz_fibs_set_default_param(it_param_set);

<span class="comment">% Note: param_map and support_map can be adjusted here or outside to override defaults</span>
<span class="comment">% param_map('it_a_n') = 750;</span>
<span class="comment">% param_map('it_z_n') = 15;</span>

<span class="comment">% Note: below to for identical results as benchmark ff_ipwkbz_ds_wrapper.m</span>
<span class="comment">% param_map('fl_r_fsv') = 0.025;</span>
<span class="comment">% param_map('fl_r_inf') = 0.025;</span>
<span class="comment">% param_map('fl_r_inf_bridge') = 0.025;</span>
<span class="comment">% param_map('fl_r_fbr') = 0.025;</span>
<span class="comment">% param_map('bl_bridge') = true;</span>

<span class="comment">% param_map('st_analytical_stationary_type') = 'loop';</span>
<span class="comment">% param_map('st_analytical_stationary_type') = 'vector';</span>
param_map(<span class="string">'st_analytical_stationary_type'</span>) = <span class="string">'eigenvector'</span>;

<span class="comment">% get armt and func map</span>
[armt_map, func_map] = ffs_ipwkbz_fibs_get_funcgrid(param_map, support_map, bl_input_override); <span class="comment">% 1 for override</span>
default_params = {param_map support_map armt_map func_map};
</pre><h2 id="4">Parse Parameters 1</h2><pre class="codeinput"><span class="comment">% if varargin only has param_map and support_map,</span>
params_len = length(varargin);
[default_params{1:params_len}] = varargin{:};
param_map = [param_map; default_params{1}];
support_map = [support_map; default_params{2}];
<span class="keyword">if</span> params_len &gt;= 1 &amp;&amp; params_len &lt;= 2
    <span class="comment">% If override param_map, re-generate armt and func if they are not</span>
    <span class="comment">% provided</span>
    bl_input_override = true;
    [armt_map, func_map] = ffs_ipwkbz_fibs_get_funcgrid(param_map, support_map, bl_input_override);
<span class="keyword">else</span>
    <span class="comment">% Override all</span>
    armt_map = [armt_map; default_params{3}];
    func_map = [func_map; default_params{4}];
<span class="keyword">end</span>

<span class="comment">% if profile, profile DP + Dist here</span>
support_map(<span class="string">'bl_profile_dist'</span>) = false;

<span class="comment">% append function name</span>
st_func_name = <span class="string">'ff_ipwkbz_fibs_ds_wrapper'</span>;
support_map(<span class="string">'st_profile_name_main'</span>) = [st_func_name support_map(<span class="string">'st_profile_name_main'</span>)];
support_map(<span class="string">'st_mat_name_main'</span>) = [st_func_name support_map(<span class="string">'st_mat_name_main'</span>)];
support_map(<span class="string">'st_img_name_main'</span>) = [st_func_name support_map(<span class="string">'st_img_name_main'</span>)];
</pre><h2 id="5">Parse Parameters</h2><pre class="codeinput"><span class="comment">% param_map</span>
params_group = values(param_map, {<span class="string">'st_analytical_stationary_type'</span>});
[st_analytical_stationary_type] = params_group{:};

<span class="comment">% support_map</span>
params_group = values(support_map, <span class="keyword">...</span>
    {<span class="string">'st_profile_path'</span>, <span class="string">'st_profile_prefix'</span>, <span class="string">'st_profile_name_main'</span>, <span class="string">'st_profile_suffix'</span>,<span class="string">'bl_time'</span>});
[st_profile_path, st_profile_prefix, st_profile_name_main, st_profile_suffix, bl_time] = params_group{:};
</pre><h2 id="6">Start Profiler and Timer</h2><p>Start Profile</p><pre class="codeinput"><span class="keyword">if</span> (it_param_set == 7)
    close <span class="string">all</span>;
    profile <span class="string">off</span>;
    profile <span class="string">on</span>;
<span class="keyword">end</span>

<span class="comment">% Start Timer</span>
<span class="keyword">if</span> (bl_time)
    tic;
<span class="keyword">end</span>
</pre><h2 id="7">Solve DP</h2><pre class="codeinput">bl_input_override = true;
result_map = ff_ipwkbz_fibs_vf_vecsv(param_map, support_map, armt_map, func_map);
</pre><img vspace="5" hspace="5" src="ff_ipwkbz_fibs_ds_wrapper_01.png" alt=""> <img vspace="5" hspace="5" src="ff_ipwkbz_fibs_ds_wrapper_02.png" alt=""> <h2 id="8">Derive Distribution</h2><pre class="codeinput"><span class="keyword">if</span> (strcmp(st_analytical_stationary_type, <span class="string">'loop'</span>))

    result_map = ff_iwkz_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

<span class="keyword">elseif</span> (strcmp(st_analytical_stationary_type, <span class="string">'vector'</span>))

    result_map = ff_iwkz_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

<span class="keyword">elseif</span> (strcmp(st_analytical_stationary_type, <span class="string">'eigenvector'</span>))

    result_map = ff_iwkz_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);

<span class="keyword">end</span>
</pre><pre class="codeoutput">----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_coh
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
  -12.2359

fl_choice_sd
    4.4971

fl_choice_coefofvar
   -0.3675

fl_choice_prob_zero
   3.0942e-04

fl_choice_prob_below_zero
    0.9776

fl_choice_prob_above_zero
    0.0221

fl_choice_prob_max
   1.2926e-16

tb_prob_drv
    percentiles    cl_mt_pol_cohPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _____________________________    ________________________________

        0.1                   -18.896                          0.0023779            
          1                   -18.294                            0.01665            
          5                   -17.391                           0.076541            
         10                   -16.788                            0.14573            
         15                   -16.287                            0.21655            
         20                   -15.785                             0.2906            
         25                   -15.383                            0.34996            
         35                   -14.581                            0.47222            
         50                   -13.376                            0.63377            
         65                    -11.67                             0.7943            
         75                   -10.265                            0.87787            
         80                   -9.2615                            0.91809            
         85                   -7.9568                             0.9539            
         90                   -6.2507                            0.98238            
         95                   -3.3402                             1.0025            
         99                    2.9825                             1.0052            
       99.9                     10.61                             1.0011            

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_a
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
  -19.0110

fl_choice_sd
    2.9101

fl_choice_coefofvar
   -0.1531

fl_choice_prob_zero
     0

fl_choice_prob_below_zero
    0.9994

fl_choice_prob_above_zero
   6.3123e-04

fl_choice_prob_max
  -4.3156e-37

tb_prob_drv
    percentiles    cl_mt_pol_aPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  -20.709                         0.0011188            
          1                  -20.709                          0.010898            
          5                  -20.708                          0.056958            
         10                  -20.707                           0.11096            
         15                  -20.707                            0.1639            
         20                  -20.706                           0.21846            
         25                  -20.705                           0.27358            
         35                  -20.703                           0.38205            
         50                  -20.016                           0.54388            
         65                  -19.653                           0.69924            
         75                  -19.297                           0.80222            
         80                  -18.483                            0.8514            
         85                  -16.004                           0.89661            
         90                  -15.031                           0.93695            
         95                  -13.586                           0.97579            
         99                  -7.1955                           0.99762            
       99.9                  -1.0232                            1.0001            

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_k
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
    4.9295

fl_choice_sd
    2.3768

fl_choice_coefofvar
    0.4822

fl_choice_prob_zero
     0

fl_choice_prob_below_zero
     0

fl_choice_prob_above_zero
    1.0000

fl_choice_prob_max
   5.2536e-15

tb_prob_drv
    percentiles    cl_mt_pol_kPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.85467                         0.00014901           
          1                   1.3556                           0.002344           
          5                    1.967                           0.016399           
         10                   2.3717                           0.038683           
         15                   2.7244                           0.065271           
         20                   2.9758                           0.093837           
         25                   3.2652                            0.12631           
         35                   3.7477                            0.19622           
         50                   4.4654                            0.32118           
         65                   5.3158                            0.47247           
         75                   6.1336                            0.58768           
         80                   6.6415                            0.64884           
         85                   7.2389                            0.71885           
         90                   8.1209                             0.7967           
         95                   9.5559                             0.8846           
         99                   12.632                            0.97071           
       99.9                   17.001                             0.9963           

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_c
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
    1.1964

fl_choice_sd
    0.4782

fl_choice_coefofvar
    0.3997

fl_choice_prob_zero
     0

fl_choice_prob_below_zero
   1.7339e-06

fl_choice_prob_above_zero
    1.0000

fl_choice_prob_max
   1.2926e-16

tb_prob_drv
    percentiles    cl_mt_pol_cPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________    ________________________________

        0.1                  0.19743                         0.00014124           
          1                  0.33295                          0.0022242           
          5                  0.51353                           0.017188           
         10                   0.6289                           0.042448           
         15                  0.70748                           0.069343           
         20                  0.77687                            0.10227           
         25                  0.84218                            0.13421           
         35                  0.96543                            0.21272           
         50                   1.1468                            0.34644           
         65                   1.3327                            0.49833           
         75                   1.4972                            0.61621           
         80                   1.5795                            0.68095           
         85                   1.6858                            0.74912           
         90                   1.8299                            0.82229           
         95                   2.0641                            0.90212           
         99                   2.5079                            0.97677           
       99.9                   3.1375                            0.99718           

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_a_principleonly
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
  -18.3618

fl_choice_sd
    2.8107

fl_choice_coefofvar
   -0.1531

fl_choice_prob_zero
     0

fl_choice_prob_below_zero
    0.9994

fl_choice_prob_above_zero
   6.3123e-04

fl_choice_prob_max
  -4.3156e-37

tb_prob_drv
    percentiles    cl_mt_pol_a_principleonlyPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    _________________________________________    ________________________________

        0.1                         -19.999                                0.0011187            
          1                         -19.999                                 0.010897            
          5                         -19.998                                  0.05695            
         10                         -19.997                                  0.11095            
         15                         -19.997                                  0.16388            
         20                         -19.996                                  0.21843            
         25                         -19.996                                  0.27354            
         35                         -19.993                                  0.38199            
         50                         -19.336                                  0.54382            
         65                         -18.988                                  0.69923            
         75                         -18.641                                  0.80224            
         80                         -17.846                                  0.85142            
         85                         -15.453                                   0.8966            
         90                         -14.523                                  0.93695            
         95                         -13.113                                   0.9758            
         99                         -6.9517                                  0.99762            
       99.9                        -0.98845                                   1.0001            

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_b_bridge
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
     0

fl_choice_sd
     0

fl_choice_coefofvar
   NaN

fl_choice_prob_zero
    1.0000

fl_choice_prob_below_zero
     0

fl_choice_prob_above_zero
     0

fl_choice_prob_max
    1.0000

tb_prob_drv
    percentiles    cl_mt_pol_b_bridgePercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    __________________________________    ________________________________

        0.1                        0                                   NaN               
          1                        0                                   NaN               
          5                        0                                   NaN               
         10                        0                                   NaN               
         15                        0                                   NaN               
         20                        0                                   NaN               
         25                        0                                   NaN               
         35                        0                                   NaN               
         50                        0                                   NaN               
         65                        0                                   NaN               
         75                        0                                   NaN               
         80                        0                                   NaN               
         85                        0                                   NaN               
         90                        0                                   NaN               
         95                        0                                   NaN               
         99                        0                                   NaN               
       99.9                        0                                   NaN               

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_inf_borr_nobridge
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
   -0.5537

fl_choice_sd
    0.4789

fl_choice_coefofvar
   -0.8650

fl_choice_prob_zero
    0.2540

fl_choice_prob_below_zero
    0.7460

fl_choice_prob_above_zero
     0

fl_choice_prob_max
    0.2540

tb_prob_drv
    percentiles    cl_mt_pol_inf_borr_nobridgePercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    ___________________________________________    ________________________________

        0.1                           -2.1907                                0.0040092            
          1                           -1.4972                                 0.033456            
          5                          -0.99844                                  0.11504            
         10                          -0.99767                                  0.20589            
         15                          -0.99713                                  0.29881            
         20                          -0.99657                                  0.38689            
         25                          -0.99601                                  0.47587            
         35                          -0.99449                                  0.65466            
         50                          -0.70187                                  0.90758            
         65                         -0.064617                                  0.99492            
         75                                 0                                        1            
         80                                 0                                        1            
         85                                 0                                        1            
         90                                 0                                        1            
         95                                 0                                        1            
         99                                 0                                        1            
       99.9                                 0                                        1            

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_for_borr
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
  -17.9086

fl_choice_sd
    2.6510

fl_choice_coefofvar
   -0.1480

fl_choice_prob_zero
   7.9530e-04

fl_choice_prob_below_zero
    0.9992

fl_choice_prob_above_zero
     0

fl_choice_prob_max
   7.9530e-04

tb_prob_drv
    percentiles    cl_mt_pol_for_borrPercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    __________________________________    ________________________________

        0.1                        -19                               0.87065             
          1                        -19                               0.87065             
          5                        -19                               0.87065             
         10                        -19                               0.87065             
         15                        -19                               0.87065             
         20                        -19                               0.87065             
         25                        -19                               0.87065             
         35                        -19                               0.87065             
         50                        -19                               0.87065             
         65                        -19                               0.87065             
         75                        -19                               0.87065             
         80                        -19                               0.87065             
         85                      -14.5                               0.97846             
         90                      -14.5                               0.97846             
         95                      -14.5                               0.97846             
         99                         -7                               0.99828             
       99.9                         -1                                     1             

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Summary Statistics for: cl_mt_pol_for_save
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
fl_choice_mean
    0.1005

fl_choice_sd
    0.3043

fl_choice_coefofvar
    3.0275

fl_choice_prob_zero
    0.7460

fl_choice_prob_below_zero
     0

fl_choice_prob_above_zero
    0.2540

fl_choice_prob_max
  -4.3156e-37

tb_prob_drv
    percentiles    cl_mt_pol_for_savePercentileValues    fracOfSumHeldBelowThisPercentile
    ___________    __________________________________    ________________________________

        0.1                            0                                     0           
          1                            0                                     0           
          5                            0                                     0           
         10                            0                                     0           
         15                            0                                     0           
         20                            0                                     0           
         25                            0                                     0           
         35                            0                                     0           
         50                            0                                     0           
         65                            0                                     0           
         75                    0.0027056                            7.0746e-05           
         80                     0.036014                             0.0095354           
         85                     0.078351                              0.036605           
         90                      0.26016                               0.11246           
         95                      0.85379                               0.37925           
         99                       1.4876                               0.82674           
       99.9                       2.0232                               0.98341           

xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                                     mean        sd       coefofvar       min         max        pYis0         pYls0         pYgr0        pYisMINY      pYisMAXY       p0_1        p1          p5         p10         p15         p20         p25         p35         p50          p65          p75         p80         p85         p90        p95        p99       p99_9  
                                   ________    _______    _________    __________    ______    __________    __________    __________    __________    ___________    _______    _______    ________    ________    ________    ________    ________    ________    ________    _________    _________    ________    ________    _______    _______    _______    ________

    cl_mt_pol_coh                   -12.236     4.4971    -0.36753            -20    57.277    0.00030942       0.97757      0.022119    1.1223e-06     1.2926e-16    -18.896    -18.294     -17.391     -16.788     -16.287     -15.785     -15.383     -14.581     -13.376       -11.67      -10.265     -9.2615     -7.9568    -6.2507    -3.3402     2.9825       10.61
    cl_mt_pol_a                     -19.011     2.9101    -0.15308         -20.71    50.266             0       0.99937    0.00063123    1.0885e-06    -4.3156e-37    -20.709    -20.709     -20.708     -20.707     -20.707     -20.706     -20.705     -20.703     -20.016      -19.653      -19.297     -18.483     -16.004    -15.031    -13.586    -7.1955     -1.0232
    cl_mt_pol_k                      4.9295     2.3768     0.48215     0.00020052    22.244             0             0             1    1.0885e-06     5.2536e-15    0.85467     1.3556       1.967      2.3717      2.7244      2.9758      3.2652      3.7477      4.4654       5.3158       6.1336      6.6415      7.2389     8.1209     9.5559     12.632      17.001
    cl_mt_pol_c                      1.1964    0.47815     0.39966            -20    7.9469             0    1.7339e-06             1    1.1223e-06     1.2926e-16    0.19743    0.33295     0.51353      0.6289     0.70748     0.77687     0.84218     0.96543      1.1468       1.3327       1.4972      1.5795      1.6858     1.8299     2.0641     2.5079      3.1375
    cl_mt_pol_a_principleonly       -18.362     2.8107    -0.15307            -20     49.04             0       0.99937    0.00063123    1.0885e-06    -4.3156e-37    -19.999    -19.999     -19.998     -19.997     -19.997     -19.996     -19.996     -19.993     -19.336      -18.988      -18.641     -17.846     -15.453    -14.523    -13.113    -6.9517    -0.98845
    cl_mt_pol_b_bridge                    0          0         NaN              0         0             1             0             0             1              1          0          0           0           0           0           0           0           0           0            0            0           0           0          0          0          0           0
    cl_mt_pol_inf_borr_nobridge    -0.55369    0.47893    -0.86499         -2.216         0       0.25395       0.74605             0    0.00089083        0.25395    -2.1907    -1.4972    -0.99844    -0.99767    -0.99713    -0.99657    -0.99601    -0.99449    -0.70187    -0.064617            0           0           0          0          0          0           0
    cl_mt_pol_for_borr              -17.909      2.651    -0.14803            -19         0     0.0007953        0.9992             0       0.82064      0.0007953        -19        -19         -19         -19         -19         -19         -19         -19         -19          -19          -19         -19       -14.5      -14.5      -14.5         -7          -1
    cl_mt_pol_for_save              0.10051     0.3043      3.0275              0     49.04       0.74605             0       0.25395       0.74605    -4.3156e-37          0          0           0           0           0           0           0           0           0            0    0.0027056    0.036014    0.078351    0.26016    0.85379     1.4876      2.0232

xxx All Variables Fraction of Y Held up to Percentile xxx
tb_outcomes_fracheld: fraction of asset/income/etc held by hh up to this percentile
                                   fracByP0_1    fracByP1     fracByP5    fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75     fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                                   __________    _________    ________    _________    _________    _________    _________    _________    _________    _________    __________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_coh                   0.0023779      0.01665    0.076541     0.14573      0.21655       0.2906      0.34996      0.47222      0.63377       0.7943        0.87787      0.91809      0.9539      0.98238       1.0025       1.0052        1.0011  
    cl_mt_pol_a                     0.0011188     0.010898    0.056958     0.11096       0.1639      0.21846      0.27358      0.38205      0.54388      0.69924        0.80222       0.8514     0.89661      0.93695      0.97579      0.99762        1.0001  
    cl_mt_pol_k                    0.00014901     0.002344    0.016399    0.038683     0.065271     0.093837      0.12631      0.19622      0.32118      0.47247        0.58768      0.64884     0.71885       0.7967       0.8846      0.97071        0.9963  
    cl_mt_pol_c                    0.00014124    0.0022242    0.017188    0.042448     0.069343      0.10227      0.13421      0.21272      0.34644      0.49833        0.61621      0.68095     0.74912      0.82229      0.90212      0.97677       0.99718  
    cl_mt_pol_a_principleonly       0.0011187     0.010897     0.05695     0.11095      0.16388      0.21843      0.27354      0.38199      0.54382      0.69923        0.80224      0.85142      0.8966      0.93695       0.9758      0.99762        1.0001  
    cl_mt_pol_b_bridge                    NaN          NaN         NaN         NaN          NaN          NaN          NaN          NaN          NaN          NaN            NaN          NaN         NaN          NaN          NaN          NaN           NaN  
    cl_mt_pol_inf_borr_nobridge     0.0040092     0.033456     0.11504     0.20589      0.29881      0.38689      0.47587      0.65466      0.90758      0.99492              1            1           1            1            1            1             1  
    cl_mt_pol_for_borr                0.87065      0.87065     0.87065     0.87065      0.87065      0.87065      0.87065      0.87065      0.87065      0.87065        0.87065      0.87065     0.97846      0.97846      0.97846      0.99828             1  
    cl_mt_pol_for_save                      0            0           0           0            0            0            0            0            0            0     7.0746e-05    0.0095354    0.036605      0.11246      0.37925      0.82674       0.98341  

</pre><h2 id="9">End Profiler and Timer</h2><p>End Timer</p><pre class="codeinput"><span class="keyword">if</span> (bl_time)
    toc;
<span class="keyword">end</span>

<span class="comment">% End Profile</span>
<span class="keyword">if</span> (it_param_set == 7)
    profile <span class="string">off</span>
    profile <span class="string">viewer</span>
    st_file_name = [st_profile_prefix st_profile_name_main st_profile_suffix];
    profsave(profile(<span class="string">'info'</span>), strcat(st_profile_path, st_file_name));
<span class="keyword">end</span>
</pre><pre class="codeinput"><span class="keyword">end</span>
</pre><pre class="codeoutput">
ans = 

  Map with properties:

        Count: 25
      KeyType: char
    ValueType: any

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Derive Distributions for For+Inf+Borr+Save Risky + Safe Asset Interpolated-Percentage (Wrapper)
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*

%%
function [result_map] = ff_ipwkbz_fibs_ds_wrapper(varargin)
%% FF_IPWKBZ_FIBS_DS_WRAPPER finds the stationary asset distributions
% This is a warpper function.

%% Default
% # it_subset = 5 is basic invoke quick test
% # it_subset = 6 is invoke full test
% # it_subset = 7 is profiling invoke
% # it_subset = 8 is matlab publish
% # it_subset = 9 is invoke operational (only final stats) and coh graph

it_param_set = 8;
bl_input_override = true;
[param_map, support_map] = ffs_ipwkbz_fibs_set_default_param(it_param_set);

% Note: param_map and support_map can be adjusted here or outside to override defaults
% param_map('it_a_n') = 750;
% param_map('it_z_n') = 15;

% Note: below to for identical results as benchmark ff_ipwkbz_ds_wrapper.m
% param_map('fl_r_fsv') = 0.025;
% param_map('fl_r_inf') = 0.025;
% param_map('fl_r_inf_bridge') = 0.025;
% param_map('fl_r_fbr') = 0.025;
% param_map('bl_bridge') = true;

% param_map('st_analytical_stationary_type') = 'loop';
% param_map('st_analytical_stationary_type') = 'vector';
param_map('st_analytical_stationary_type') = 'eigenvector';

% get armt and func map
[armt_map, func_map] = ffs_ipwkbz_fibs_get_funcgrid(param_map, support_map, bl_input_override); % 1 for override
default_params = {param_map support_map armt_map func_map};

%% Parse Parameters 1

% if varargin only has param_map and support_map,
params_len = length(varargin);
[default_params{1:params_len}] = varargin{:};
param_map = [param_map; default_params{1}];
support_map = [support_map; default_params{2}];
if params_len >= 1 && params_len <= 2
    % If override param_map, re-generate armt and func if they are not
    % provided
    bl_input_override = true;
    [armt_map, func_map] = ffs_ipwkbz_fibs_get_funcgrid(param_map, support_map, bl_input_override);
else
    % Override all
    armt_map = [armt_map; default_params{3}];
    func_map = [func_map; default_params{4}];
end

% if profile, profile DP + Dist here
support_map('bl_profile_dist') = false;

% append function name
st_func_name = 'ff_ipwkbz_fibs_ds_wrapper';
support_map('st_profile_name_main') = [st_func_name support_map('st_profile_name_main')];
support_map('st_mat_name_main') = [st_func_name support_map('st_mat_name_main')];
support_map('st_img_name_main') = [st_func_name support_map('st_img_name_main')];

%% Parse Parameters

% param_map
params_group = values(param_map, {'st_analytical_stationary_type'});
[st_analytical_stationary_type] = params_group{:};

% support_map
params_group = values(support_map, ...
    {'st_profile_path', 'st_profile_prefix', 'st_profile_name_main', 'st_profile_suffix','bl_time'});
[st_profile_path, st_profile_prefix, st_profile_name_main, st_profile_suffix, bl_time] = params_group{:};

%% Start Profiler and Timer
% Start Profile
if (it_param_set == 7)
    close all;
    profile off;
    profile on;
end

% Start Timer
if (bl_time)
    tic;
end

%% Solve DP

bl_input_override = true;
result_map = ff_ipwkbz_fibs_vf_vecsv(param_map, support_map, armt_map, func_map);

%% Derive Distribution

if (strcmp(st_analytical_stationary_type, 'loop'))
    
    result_map = ff_iwkz_ds(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    
elseif (strcmp(st_analytical_stationary_type, 'vector'))
    
    result_map = ff_iwkz_ds_vec(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    
elseif (strcmp(st_analytical_stationary_type, 'eigenvector'))
    
    result_map = ff_iwkz_ds_vecsv(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
    
end

%% End Profiler and Timer
% End Timer
if (bl_time)
    toc;
end

% End Profile
if (it_param_set == 7)
    profile off
    profile viewer
    st_file_name = [st_profile_prefix st_profile_name_main st_profile_suffix];
    profsave(profile('info'), strcat(st_profile_path, st_file_name));
end
end

##### SOURCE END #####
--></body></html>