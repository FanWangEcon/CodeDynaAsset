
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>For Inf Tabulate Value and Policy Iteration Results, Store to Mat, Graph Results</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-06-24"><meta name="DC.source" content="ff_az_fibs_vf_post.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>For Inf Tabulate Value and Policy Iteration Results, Store to Mat, Graph Results</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#2">FF_AZ_FIBS_VF_POST post formal informal results</a></li><li><a href="#3">Default</a></li><li><a href="#4">Parse Parameter</a></li><li><a href="#5">Generate Consumption and Income Matrix</a></li><li><a href="#6">Save Mat</a></li><li><a href="#7">Generate and Save Graphs</a></li><li><a href="#8">Display Val Pol Iter Table</a></li></ul></div><pre class="codeinput"><span class="keyword">function</span> [result_map] = ff_az_fibs_vf_post(varargin)
</pre><h2 id="2">FF_AZ_FIBS_VF_POST post formal informal results</h2><p>In addition to regular post results</p><p>@param param_map container parameter container</p><p>@param support_map container support container</p><p>@param armt_map container container with states, choices and shocks grids that are inputs for grid based solution algorithm</p><p>@param func_map container container with function handles for consumption cash-on-hand etc.</p><p>@param result_map container contains policy function matrix, value function matrix, iteration results</p><p>@return result_map container add coh consumption and other matrixes to result_map also add table versions of val pol and iter matries</p><p>@example</p><pre>  bl_input_override = true;
  result_map = containers.Map('KeyType','char', 'ValueType','any');
  result_map('mt_val') = mt_val;
  result_map('mt_pol_a') = mt_pol_a;
  result_map('ar_val_diff_norm') = ar_val_diff_norm(1:it_iter_last);
  result_map('ar_pol_diff_norm') = ar_pol_diff_norm(1:it_iter_last);
  result_map('mt_pol_perc_change') = mt_pol_perc_change(1:it_iter_last, :);
  result_map = ff_az_vf_post(param_map, support_map, armt_map, func_map, result_map, bl_input_override);</pre><p>@include</p><div><ul><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solvepost/html/ff_az_vf_post_graph.html">ff_az_vf_post_graph</a></li><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_set_default_param.html">ffs_az_set_default_param</a></li><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_get_funcgrid.html">ffs_az_get_funcgrid</a></li></ul></div><h2 id="3">Default</h2><pre class="codeinput">params_len = length(varargin);
bl_input_override = 0;
<span class="keyword">if</span> (params_len == 6)
    bl_input_override = varargin{6};
<span class="keyword">end</span>

<span class="keyword">if</span> (bl_input_override)
    <span class="comment">% if invoked from outside overrid fully</span>
    [param_map, support_map, armt_map, func_map, result_map, ~] = varargin{:};

    params_group = values(result_map, {<span class="string">'mt_val'</span>, <span class="string">'cl_mt_pol_a'</span>});
    [mt_val, cl_mt_pol_a] = params_group{:};
    mt_pol_a = deal(cl_mt_pol_a{1});

    params_group = values(result_map, {<span class="string">'ar_val_diff_norm'</span>, <span class="string">'ar_pol_diff_norm'</span>, <span class="string">'mt_pol_perc_change'</span>});
    [ar_val_diff_norm, ar_pol_diff_norm, mt_pol_perc_change] = params_group{:};

    <span class="comment">% Get Parameters</span>
    params_group = values(param_map, {<span class="string">'it_z_n'</span>, <span class="string">'it_a_n'</span>});
    [it_z_n, it_a_n] = params_group{:};
    params_group = values(armt_map, {<span class="string">'ar_a'</span>, <span class="string">'ar_z'</span>});
    [ar_a, ar_z] = params_group{:};

<span class="keyword">else</span>

    clear <span class="string">all</span>;
    close <span class="string">all</span>;

    <span class="comment">% 1. internal invoke for testing</span>
    it_param_set = 4;
    bl_input_override = true;

    <span class="comment">% 2. Get Parameters</span>
    [param_map, support_map] = ffs_abz_fibs_set_default_param(it_param_set);
    [armt_map, func_map] = ffs_abz_fibs_get_funcgrid(param_map, support_map, bl_input_override); <span class="comment">% 1 for override</span>

    <span class="comment">% 3. Get Arrays and Functions</span>
    params_group = values(armt_map, {<span class="string">'ar_a'</span>, <span class="string">'ar_z'</span>});
    [ar_a, ar_z] = params_group{:};
    params_group = values(func_map, {<span class="string">'f_util_standin'</span>, <span class="string">'f_cons_coh_fbis'</span>, <span class="string">'f_cons_coh_save'</span>, <span class="string">'f_coh'</span>});
    [f_util_standin, f_cons_coh_fbis, f_cons_coh_save, f_coh] = params_group{:};

    <span class="comment">% 4. Value Default</span>
    mt_val = f_util_standin(ar_z, ar_a');

    <span class="comment">% 5. default optimal asset choices (overall, interesint + principle from</span>
    <span class="comment">% different formal and informal sources following how model is solved)</span>
    mt_pol_a = zeros(size(mt_val)) + ar_a'*(cumsum(sort(ar_z))/sum(ar_z)*0.4 + 0.4);

    <span class="comment">% 6. Default COH</span>
    mt_coh = f_coh(ar_z, ar_a');

    <span class="comment">% 7. Set Default Consumption</span>
    mt_pol_a_pos_idx = (mt_pol_a &gt; 0);
    mt_pol_cons = zeros(size(mt_pol_a));
    mt_pol_cons(mt_pol_a_pos_idx) = f_cons_coh_save(mt_coh(mt_pol_a_pos_idx), mt_pol_a(mt_pol_a_pos_idx));
    mt_pol_cons(~mt_pol_a_pos_idx) = f_cons_coh_fbis(mt_coh(~mt_pol_a_pos_idx), mt_pol_a(~mt_pol_a_pos_idx));

    <span class="comment">% 8. Find Formal Informal Choices given Fake Data</span>
    mt_pol_b_bridge = zeros(length(ar_a),length(ar_z));
    mt_pol_inf_borr_nobridge = zeros(length(ar_a),length(ar_z));
    mt_pol_for_borr = zeros(length(ar_a),length(ar_z));
    mt_pol_for_save = zeros(length(ar_a),length(ar_z));

    <span class="comment">% 9. Solve for formal and informal combinations given the overall fake</span>
    <span class="comment">% choices.</span>
    <span class="keyword">for</span> it_z_i = 1:length(ar_z)
        <span class="keyword">for</span> it_a_j = 1:length(ar_a)
            fl_z = ar_z(it_z_i);
            fl_a = ar_a(it_a_j);
            fl_coh = f_coh(fl_z, fl_a);
            fl_a_opti = mt_pol_a(it_a_j, it_z_i);

            <span class="comment">% call formal and informal function.</span>
            [~, fl_opti_b_bridge, fl_opti_inf_borr_nobridge, fl_opti_for_borr, fl_opti_for_save] = <span class="keyword">...</span>
                ffs_fibs_min_c_cost_bridge(fl_a_opti, fl_coh, <span class="keyword">...</span>
                param_map, support_map, armt_map, func_map, bl_input_override);

            <span class="comment">% store savings and borrowing formal and inf optimal choices</span>
            mt_pol_b_bridge(it_a_j,it_z_i) = fl_opti_b_bridge;
            mt_pol_inf_borr_nobridge(it_a_j,it_z_i) = fl_opti_inf_borr_nobridge;
            mt_pol_for_borr(it_a_j,it_z_i) = fl_opti_for_borr;
            mt_pol_for_save(it_a_j,it_z_i) = fl_opti_for_save;

        <span class="keyword">end</span>
    <span class="keyword">end</span>

    <span class="comment">% 10. Set Results Map</span>
    result_map = containers.Map(<span class="string">'KeyType'</span>,<span class="string">'char'</span>, <span class="string">'ValueType'</span>,<span class="string">'any'</span>);
    result_map(<span class="string">'mt_val'</span>) = mt_val;
    result_map(<span class="string">'cl_mt_pol_a'</span>) = {mt_pol_a, zeros(1)};
    result_map(<span class="string">'cl_mt_coh'</span>) = {mt_coh, zeros(1)};

    result_map(<span class="string">'cl_mt_pol_c'</span>) = {mt_pol_cons, zeros(1)};
    result_map(<span class="string">'cl_mt_pol_b_bridge'</span>) = {mt_pol_b_bridge, zeros(1)};
    result_map(<span class="string">'cl_mt_pol_inf_borr_nobridge'</span>) = {mt_pol_inf_borr_nobridge, zeros(1)};
    result_map(<span class="string">'cl_mt_pol_for_borr'</span>) = {mt_pol_for_borr, zeros(1)};
    result_map(<span class="string">'cl_mt_pol_for_save'</span>) = {mt_pol_for_save, zeros(1)};

    <span class="comment">% Input over-ride</span>
    bl_input_override = true;
    result_map = ffs_fibs_identify_discrete(result_map, bl_input_override);

    <span class="comment">% Control which results to graph</span>
    support_map(<span class="string">'bl_graph_forinf_discrete'</span>) = true;
    support_map(<span class="string">'bl_graph_forinf_pol_lvl'</span>) = true;
    support_map(<span class="string">'bl_graph_forinf_pol_pct'</span>) = true;

    support_map(<span class="string">'bl_graph'</span>) = true;

<span class="keyword">end</span>
</pre><h2 id="4">Parse Parameter</h2><pre class="codeinput"><span class="comment">% param_map</span>
params_group = values(param_map, {<span class="string">'it_z_n'</span>, <span class="string">'it_a_n'</span>});
[it_z_n, it_a_n] = params_group{:};

<span class="comment">% result_map standards</span>
params_group = values(result_map, {<span class="string">'cl_mt_pol_a'</span>});
[cl_mt_pol_a] = params_group{:};
[mt_pol_a] = deal(cl_mt_pol_a{1});

<span class="comment">% result_map continuous formal informal choices</span>
params_group = values(result_map, {<span class="string">'cl_mt_pol_b_bridge'</span>, <span class="string">'cl_mt_pol_inf_borr_nobridge'</span>, <span class="keyword">...</span>
    <span class="string">'cl_mt_pol_for_borr'</span>, <span class="string">'cl_mt_pol_for_save'</span>});
[cl_mt_pol_b_bridge, cl_mt_pol_inf_borr_nobridge, cl_mt_pol_for_borr, cl_mt_pol_for_save] = params_group{:};
[mt_pol_b_bridge, mt_pol_inf_borr_nobridge, mt_pol_for_borr, mt_pol_for_save] = <span class="keyword">...</span>
    deal(cl_mt_pol_b_bridge{1}, cl_mt_pol_inf_borr_nobridge{1}, cl_mt_pol_for_borr{1}, cl_mt_pol_for_save{1});

<span class="comment">% support_map</span>
params_group = values(support_map, {<span class="string">'bl_display_final'</span>, <span class="string">'it_display_final_rowmax'</span>, <span class="string">'it_display_final_colmax'</span>});
[bl_display_final, it_display_final_rowmax, it_display_final_colmax] = params_group{:};
params_group = values(support_map, {<span class="string">'bl_graph'</span>, <span class="string">'bl_graph_onebyones'</span>});
[bl_graph] = params_group{:};
params_group = values(support_map, {<span class="string">'bl_mat'</span>, <span class="string">'st_mat_path'</span>, <span class="string">'st_mat_prefix'</span>, <span class="string">'st_mat_name_main'</span>, <span class="string">'st_mat_suffix'</span>});
[bl_mat, st_mat_path, st_mat_prefix, st_mat_name_main, st_mat_suffix] = params_group{:};
</pre><h2 id="5">Generate Consumption and Income Matrix</h2><pre class="codeinput"><span class="keyword">if</span> (~isKey(result_map, <span class="string">'cl_mt_pol_c'</span>))
    f_cons = func_map(<span class="string">'f_cons'</span>);
    mt_cons = f_cons(ar_z, ar_a', mt_pol_a);
    result_map(<span class="string">'cl_mt_pol_c'</span>) = {mt_cons, zeros(1)};
<span class="keyword">end</span>
<span class="keyword">if</span> (~isKey(result_map, <span class="string">'cl_mt_coh'</span>))
    f_coh = func_map(<span class="string">'f_coh'</span>);
    mt_coh = f_coh(ar_z, ar_a');
    result_map(<span class="string">'cl_mt_coh'</span>) = {mt_coh, zeros(1)};
<span class="keyword">end</span>
</pre><h2 id="6">Save Mat</h2><pre class="codeinput"><span class="keyword">if</span> (bl_mat)
    mkdir(support_map(<span class="string">'st_mat_path'</span>));
    st_file_name = [st_mat_prefix st_mat_name_main st_mat_suffix];
    save(strcat(st_mat_path, st_file_name));
<span class="keyword">end</span>
</pre><h2 id="7">Generate and Save Graphs</h2><pre class="codeinput"><span class="keyword">if</span> (bl_graph)
    bl_input_override = true;
    ff_az_fibs_vf_post_graph(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
<span class="keyword">end</span>
</pre><pre class="codeoutput">Warning: Using only the real component of complex
data. 
Warning: Using only the real component of complex
data. 
Warning: Using only the real component of complex
data. 
Warning: Using only the real component of complex
data. 
Warning: Using only the real component of complex
data. 
Warning: Using only the real component of complex
data. 
Warning: Using only the real component of complex
data. 
Warning: Using only the real component of complex
data. 
</pre><img vspace="5" hspace="5" src="ff_az_fibs_vf_post_01.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_02.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_03.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_04.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_05.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_06.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_07.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_08.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_09.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_10.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_11.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_12.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_13.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_14.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_15.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_16.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_17.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_18.png" alt=""> <h2 id="8">Display Val Pol Iter Table</h2><pre class="codeinput"><span class="keyword">if</span> (bl_display_final)

    <span class="comment">% Display Values by States</span>
    <span class="comment">% at most display 11 columns of shocks</span>
    <span class="comment">% at most display 50 rows for states</span>
    <span class="comment">% display first and last</span>
    <span class="keyword">if</span> (it_a_n &gt;= it_display_final_rowmax)
        ar_it_rows = (1:1:round(it_display_final_rowmax/2));
        ar_it_rows = [ar_it_rows ((it_a_n)-round(it_display_final_rowmax/2)+1):1:(it_a_n)];
    <span class="keyword">else</span>
        ar_it_rows = 1:1:it_a_n;
    <span class="keyword">end</span>
    <span class="keyword">if</span> (it_z_n &gt;= it_display_final_colmax)
        ar_it_cols = (1:1:round(it_display_final_colmax/2));
        ar_it_cols = [ar_it_cols ((it_z_n)-round(it_display_final_colmax/2)+1):1:(it_z_n)];
    <span class="keyword">else</span>
        ar_it_cols = 1:1:it_z_n;
    <span class="keyword">end</span>
    mt_pol_b_bridge_print = mt_pol_b_bridge(ar_it_rows, ar_it_cols);
    mt_pol_inf_borr_nobridge_print = mt_pol_inf_borr_nobridge(ar_it_rows, ar_it_cols);
    mt_pol_for_borr_print = mt_pol_for_borr(ar_it_rows, ar_it_cols);
    mt_pol_for_save_print = mt_pol_for_save(ar_it_rows, ar_it_cols);

    <span class="comment">% Display Optimal Values</span>
    tb_mt_pol_b_bridge_print = array2table(mt_pol_b_bridge_print);
    tb_mt_pol_b_bridge_print.Properties.RowNames = strcat(<span class="string">'a'</span>, string(ar_it_rows), <span class="string">'='</span>, string(ar_a(ar_it_rows)));
    tb_mt_pol_b_bridge_print.Properties.VariableNames = matlab.lang.makeValidName(strcat(<span class="string">'z'</span>, string(ar_it_cols), <span class="string">'='</span>, string(ar_z(ar_it_cols))));
    disp(<span class="string">'mt_pol_b_bridge_print: bridge loans'</span>);
    disp(tb_mt_pol_b_bridge_print);

    <span class="comment">% Display Optimal Values</span>
    tb_mt_pol_inf_borr_nobridge_print = array2table(mt_pol_inf_borr_nobridge_print);
    tb_mt_pol_inf_borr_nobridge_print.Properties.RowNames = strcat(<span class="string">'a'</span>, string(ar_it_rows), <span class="string">'='</span>, string(ar_a(ar_it_rows)));
    tb_mt_pol_inf_borr_nobridge_print.Properties.VariableNames = matlab.lang.makeValidName(strcat(<span class="string">'z'</span>, string(ar_it_cols), <span class="string">'='</span>, string(ar_z(ar_it_cols))));
    disp(<span class="string">'mt_pol_inf_borr_nobridge_print: bridge loans'</span>);
    disp(tb_mt_pol_inf_borr_nobridge_print);

    <span class="comment">% Display Optimal Values</span>
    tb_mt_pol_for_borr_print = array2table(mt_pol_for_borr_print);
    tb_mt_pol_for_borr_print.Properties.RowNames = strcat(<span class="string">'a'</span>, string(ar_it_rows), <span class="string">'='</span>, string(ar_a(ar_it_rows)));
    tb_mt_pol_for_borr_print.Properties.VariableNames = matlab.lang.makeValidName(strcat(<span class="string">'z'</span>, string(ar_it_cols), <span class="string">'='</span>, string(ar_z(ar_it_cols))));
    disp(<span class="string">'mt_pol_for_borr_print: formal borrowing'</span>);
    disp(tb_mt_pol_for_borr_print);

    <span class="comment">% Display Optimal Values</span>
    tb_mt_pol_for_save_print = array2table(mt_pol_for_save_print);
    tb_mt_pol_for_save_print.Properties.RowNames = strcat(<span class="string">'a'</span>, string(ar_it_rows), <span class="string">'='</span>, string(ar_a(ar_it_rows)));
    tb_mt_pol_for_save_print.Properties.VariableNames = matlab.lang.makeValidName(strcat(<span class="string">'z'</span>, string(ar_it_cols), <span class="string">'='</span>, string(ar_z(ar_it_cols))));
    disp(<span class="string">'mt_pol_for_save_print: formal savings'</span>);
    disp(tb_mt_pol_for_save_print);

<span class="keyword">end</span>
</pre><pre class="codeoutput">mt_pol_b_bridge_print: bridge loans
                    z1_0_34741    z2_0_40076    z3_0_4623    z4_0_5333    z5_0_61519    z6_0_70966    z10_1_2567    z11_1_4496    z12_1_6723    z13_1_9291    z14_2_2253    z15_2_567
                    __________    __________    _________    _________    __________    __________    __________    __________    __________    __________    __________    _________

    a1=-20           -20.729       -20.656       -20.573      -20.476      -20.365       -20.237       -19.495       -19.233       -18.931       -18.583       -18.181       -17.717 
    a2=-19.9065       -20.63       -20.557       -20.474      -20.377      -20.266       -20.138       -19.396       -19.134       -18.832       -18.484       -18.082       -17.618 
    a3=-19.8131      -20.531       -20.458       -20.375      -20.278      -20.167       -20.039       -19.297       -19.035       -18.733       -18.385       -17.983       -17.519 
    a4=-19.7196      -20.431       -20.359       -20.276      -20.179      -20.068        -19.94       -19.198       -18.936       -18.634       -18.285       -17.884        -17.42 
    a5=-19.6262      -20.332        -20.26       -20.176       -20.08      -19.969       -19.841       -19.099       -18.837       -18.535       -18.186       -17.784       -17.321 
    a6=-19.5327      -20.233       -20.161       -20.077      -19.981       -19.87       -19.742           -19       -18.738       -18.436       -18.087       -17.685       -17.222 
    a7=-19.4393      -20.134       -20.062       -19.978      -19.882      -19.771       -19.643       -18.901       -18.639       -18.337       -17.988       -17.586       -17.123 
    a8=-19.3458      -20.035       -19.963       -19.879      -19.783      -19.672       -19.544       -18.801        -18.54       -18.238       -17.889       -17.487       -17.024 
    a9=-19.2523      -19.936       -19.864        -19.78      -19.684      -19.573       -19.445       -18.702       -18.441       -18.139        -17.79       -17.388       -16.925 
    a10=-19.1589     -19.837       -19.765       -19.681      -19.585      -19.474       -19.346       -18.603       -18.342       -18.039       -17.691       -17.289       -16.825 
    a11=-19.0654     -19.738       -19.666       -19.582      -19.486      -19.375       -19.246       -18.504       -18.242        -17.94       -17.592        -17.19       -16.726 
    a12=-18.972      -19.639       -19.567       -19.483      -19.387      -19.276       -19.147       -18.405       -18.143       -17.841       -17.493       -17.091       -16.627 
    a13=-18.8785      -19.54       -19.467       -19.384      -19.288      -19.177       -19.048       -18.306       -18.044       -17.742       -17.394       -16.992       -16.528 
    a14=-18.785      -19.441       -19.368       -19.285      -19.189      -19.077       -18.949       -18.207       -17.945       -17.643       -17.295       -16.893       -16.429 
    a15=-18.6916     -19.342       -19.269       -19.186       -19.09      -18.978        -18.85       -18.108       -17.846       -17.544       -17.196       -16.794        -16.33 
    a16=-18.5981     -19.243        -19.17       -19.087       -18.99      -18.879       -18.751       -18.009       -17.747       -17.445       -17.097       -16.695       -16.231 
    a17=-18.5047     -19.144       -19.071       -18.988      -18.891       -18.78       -18.652        -17.91       -17.648       -17.346       -16.998       -16.596       -16.132 
    a18=-18.4112     -19.045       -18.972       -18.889      -18.792      -18.681       -18.553       -17.811       -17.549       -17.247       -16.899       -16.497       -16.033 
    a19=-18.3178     -18.945       -18.873        -18.79      -18.693      -18.582       -18.454       -17.712        -17.45       -17.148       -16.799       -16.398       -15.934 
    a20=-18.2243     -18.846       -18.774       -18.691      -18.594      -18.483       -18.355       -17.613       -17.351       -17.049         -16.7       -16.298       -15.835 
    a21=-18.1308     -18.747       -18.675       -18.591      -18.495      -18.384       -18.256       -17.514       -17.252        -16.95       -16.601       -16.199       -15.736 
    a22=-18.0374     -18.648       -18.576       -18.492      -18.396      -18.285       -18.157       -17.415       -17.153       -16.851       -16.502         -16.1       -15.637 
    a23=-17.9439     -18.549       -18.477       -18.393      -18.297      -18.186       -18.058       -17.316       -17.054       -16.752       -16.403       -16.001       -15.538 
    a24=-17.8505      -18.45       -18.378       -18.294      -18.198      -18.087       -17.959       -17.216       -16.955       -16.653       -16.304       -15.902       -15.439 
    a25=-17.757      -18.351       -18.279       -18.195      -18.099      -17.988        -17.86       -17.117       -16.856       -16.554       -16.205       -15.803       -15.339 
    a26=-17.6636     -18.252        -18.18       -18.096          -18      -17.889        -17.76       -17.018       -16.756       -16.454       -16.106       -15.704        -15.24 
    a27=-17.5701     -18.153       -18.081       -17.997      -17.901       -17.79       -17.661       -16.919       -16.657       -16.355       -16.007       -15.605       -15.141 
    a28=-17.4766     -18.054       -17.981       -17.898      -17.802      -17.691       -17.562        -16.82       -16.558       -16.256       -15.908       -15.506       -15.042 
    a29=-17.3832     -17.955       -17.882       -17.799      -17.703      -17.591       -17.463       -16.721       -16.459       -16.157       -15.809       -15.407       -14.943 
    a30=-17.2897     -17.856       -17.783         -17.7      -17.604      -17.492       -17.364       -16.622        -16.36       -16.058        -15.71       -15.308       -14.844 
    a31=-17.1963     -17.757       -17.684       -17.601      -17.504      -17.393       -17.265       -16.523       -16.261       -15.959       -15.611       -15.209       -14.745 
    a32=-17.1028     -17.658       -17.585       -17.502      -17.405      -17.294       -17.166       -16.424       -16.162        -15.86       -15.512        -15.11       -14.646 
    a33=-17.0093     -17.559       -17.486       -17.403      -17.306      -17.195       -17.067       -16.325       -16.063       -15.761       -15.413       -15.011       -14.547 
    a34=-16.9159     -17.459       -17.387       -17.304      -17.207      -17.096       -16.968       -16.226       -15.964       -15.662       -15.313       -14.912       -14.448 
    a35=-16.8224      -17.36       -17.288       -17.205      -17.108      -16.997       -16.869       -16.127       -15.865       -15.563       -15.214       -14.812       -14.349 
    a36=-16.729      -17.261       -17.189       -17.105      -17.009      -16.898        -16.77       -16.028       -15.766       -15.464       -15.115       -14.713        -14.25 
    a37=-16.6355     -17.162        -17.09       -17.006       -16.91      -16.799       -16.671       -15.929       -15.667       -15.365       -15.016       -14.614       -14.151 
    a38=-16.5421     -17.063       -16.991       -16.907      -16.811        -16.7       -16.572        -15.83       -15.568       -15.266       -14.917       -14.515       -14.052 
    a39=-16.4486     -16.964       -16.892       -16.808      -16.712      -16.601       -16.473        -15.73       -15.469       -15.167       -14.818       -14.416       -13.953 
    a40=-16.3551     -16.865       -16.793       -16.709      -16.613      -16.502       -16.374       -15.631        -15.37       -15.068       -14.719       -14.317       -13.854 
    a41=-16.2617     -16.766       -16.694        -16.61      -16.514      -16.403       -16.275       -15.532       -15.271       -14.968        -14.62       -14.218       -13.754 
    a42=-16.1682     -16.667       -16.595       -16.511      -16.415      -16.304       -16.175       -15.433       -15.171       -14.869       -14.521       -14.119       -13.655 
    a43=-16.0748     -16.568       -16.496       -16.412      -16.316      -16.205       -16.076       -15.334       -15.072        -14.77       -14.422        -14.02       -13.556 
    a44=-15.9813     -16.469       -16.396       -16.313      -16.217      -16.105       -15.977       -15.235       -14.973       -14.671       -14.323       -13.921       -13.457 
    a45=-15.8879      -16.37       -16.297       -16.214      -16.118      -16.006       -15.878       -15.136       -14.874       -14.572       -14.224       -13.822       -13.358 
    a46=-15.7944     -16.271       -16.198       -16.115      -16.018      -15.907       -15.779       -15.037       -14.775       -14.473       -14.125       -13.723       -13.259 
    a47=-15.7009     -16.172       -16.099       -16.016      -15.919      -15.808        -15.68       -14.938       -14.676       -14.374       -14.026       -13.624        -13.16 
    a48=-15.6075     -16.073           -16       -15.917       -15.82      -15.709       -15.581       -14.839       -14.577       -14.275       -13.927       -13.525       -13.061 
    a49=-15.514      -15.973       -15.901       -15.818      -15.721       -15.61       -15.482        -14.74       -14.478       -14.176       -13.828       -13.426       -12.962 
    a50=-15.4206     -15.874       -15.802       -15.719      -15.622      -15.511       -15.383       -14.641       -14.379       -14.077       -13.728       -13.327       -12.863 
    a701=45.4206           0             0             0            0            0             0             0             0             0             0             0             0 
    a702=45.514            0             0             0            0            0             0             0             0             0             0             0             0 
    a703=45.6075           0             0             0            0            0             0             0             0             0             0             0             0 
    a704=45.7009           0             0             0            0            0             0             0             0             0             0             0             0 
    a705=45.7944           0             0             0            0            0             0             0             0             0             0             0             0 
    a706=45.8879           0             0             0            0            0             0             0             0             0             0             0             0 
    a707=45.9813           0             0             0            0            0             0             0             0             0             0             0             0 
    a708=46.0748           0             0             0            0            0             0             0             0             0             0             0             0 
    a709=46.1682           0             0             0            0            0             0             0             0             0             0             0             0 
    a710=46.2617           0             0             0            0            0             0             0             0             0             0             0             0 
    a711=46.3551           0             0             0            0            0             0             0             0             0             0             0             0 
    a712=46.4486           0             0             0            0            0             0             0             0             0             0             0             0 
    a713=46.5421           0             0             0            0            0             0             0             0             0             0             0             0 
    a714=46.6355           0             0             0            0            0             0             0             0             0             0             0             0 
    a715=46.729            0             0             0            0            0             0             0             0             0             0             0             0 
    a716=46.8224           0             0             0            0            0             0             0             0             0             0             0             0 
    a717=46.9159           0             0             0            0            0             0             0             0             0             0             0             0 
    a718=47.0093           0             0             0            0            0             0             0             0             0             0             0             0 
    a719=47.1028           0             0             0            0            0             0             0             0             0             0             0             0 
    a720=47.1963           0             0             0            0            0             0             0             0             0             0             0             0 
    a721=47.2897           0             0             0            0            0             0             0             0             0             0             0             0 
    a722=47.3832           0             0             0            0            0             0             0             0             0             0             0             0 
    a723=47.4766           0             0             0            0            0             0             0             0             0             0             0             0 
    a724=47.5701           0             0             0            0            0             0             0             0             0             0             0             0 
    a725=47.6636           0             0             0            0            0             0             0             0             0             0             0             0 
    a726=47.757            0             0             0            0            0             0             0             0             0             0             0             0 
    a727=47.8505           0             0             0            0            0             0             0             0             0             0             0             0 
    a728=47.9439           0             0             0            0            0             0             0             0             0             0             0             0 
    a729=48.0374           0             0             0            0            0             0             0             0             0             0             0             0 
    a730=48.1308           0             0             0            0            0             0             0             0             0             0             0             0 
    a731=48.2243           0             0             0            0            0             0             0             0             0             0             0             0 
    a732=48.3178           0             0             0            0            0             0             0             0             0             0             0             0 
    a733=48.4112           0             0             0            0            0             0             0             0             0             0             0             0 
    a734=48.5047           0             0             0            0            0             0             0             0             0             0             0             0 
    a735=48.5981           0             0             0            0            0             0             0             0             0             0             0             0 
    a736=48.6916           0             0             0            0            0             0             0             0             0             0             0             0 
    a737=48.785            0             0             0            0            0             0             0             0             0             0             0             0 
    a738=48.8785           0             0             0            0            0             0             0             0             0             0             0             0 
    a739=48.972            0             0             0            0            0             0             0             0             0             0             0             0 
    a740=49.0654           0             0             0            0            0             0             0             0             0             0             0             0 
    a741=49.1589           0             0             0            0            0             0             0             0             0             0             0             0 
    a742=49.2523           0             0             0            0            0             0             0             0             0             0             0             0 
    a743=49.3458           0             0             0            0            0             0             0             0             0             0             0             0 
    a744=49.4393           0             0             0            0            0             0             0             0             0             0             0             0 
    a745=49.5327           0             0             0            0            0             0             0             0             0             0             0             0 
    a746=49.6262           0             0             0            0            0             0             0             0             0             0             0             0 
    a747=49.7196           0             0             0            0            0             0             0             0             0             0             0             0 
    a748=49.8131           0             0             0            0            0             0             0             0             0             0             0             0 
    a749=49.9065           0             0             0            0            0             0             0             0             0             0             0             0 
    a750=50                0             0             0            0            0             0             0             0             0             0             0             0 

mt_pol_inf_borr_nobridge_print: bridge loans
                    z1_0_34741    z2_0_40076    z3_0_4623    z4_0_5333    z5_0_61519    z6_0_70966    z10_1_2567    z11_1_4496    z12_1_6723    z13_1_9291    z14_2_2253    z15_2_567
                    __________    __________    _________    _________    __________    __________    __________    __________    __________    __________    __________    _________

    a1=-20              0             0             0            0            0             0             0             0             0             0             0             0    
    a2=-19.9065         0             0             0            0            0             0             0             0             0             0             0             0    
    a3=-19.8131         0             0             0            0            0             0             0             0             0             0             0             0    
    a4=-19.7196         0             0             0            0            0             0             0             0             0             0             0             0    
    a5=-19.6262         0             0             0            0            0             0             0             0             0             0             0             0    
    a6=-19.5327         0             0             0            0            0             0             0             0             0             0             0             0    
    a7=-19.4393         0             0             0            0            0             0             0             0             0             0             0             0    
    a8=-19.3458         0             0             0            0            0             0             0             0             0             0             0             0    
    a9=-19.2523         0             0             0            0            0             0             0             0             0             0             0             0    
    a10=-19.1589        0             0             0            0            0             0             0             0             0             0             0             0    
    a11=-19.0654        0             0             0            0            0             0             0             0             0             0             0             0    
    a12=-18.972         0             0             0            0            0             0             0             0             0             0             0             0    
    a13=-18.8785        0             0             0            0            0             0             0             0             0             0             0             0    
    a14=-18.785         0             0             0            0            0             0             0             0             0             0             0             0    
    a15=-18.6916        0             0             0            0            0             0             0             0             0             0             0             0    
    a16=-18.5981        0             0             0            0            0             0             0             0             0             0             0             0    
    a17=-18.5047        0             0             0            0            0             0             0             0             0             0             0             0    
    a18=-18.4112        0             0             0            0            0             0             0             0             0             0             0             0    
    a19=-18.3178        0             0             0            0            0             0             0             0             0             0             0             0    
    a20=-18.2243        0             0             0            0            0             0             0             0             0             0             0             0    
    a21=-18.1308        0             0             0            0            0             0             0             0             0             0             0             0    
    a22=-18.0374        0             0             0            0            0             0             0             0             0             0             0             0    
    a23=-17.9439        0             0             0            0            0             0             0             0             0             0             0             0    
    a24=-17.8505        0             0             0            0            0             0             0             0             0             0             0             0    
    a25=-17.757         0             0             0            0            0             0             0             0             0             0             0             0    
    a26=-17.6636        0             0             0            0            0             0             0             0             0             0             0             0    
    a27=-17.5701        0             0             0            0            0             0             0             0             0             0             0             0    
    a28=-17.4766        0             0             0            0            0             0             0             0             0             0             0             0    
    a29=-17.3832        0             0             0            0            0             0             0             0             0             0             0             0    
    a30=-17.2897        0             0             0            0            0             0             0             0             0             0             0             0    
    a31=-17.1963        0             0             0            0            0             0             0             0             0             0             0             0    
    a32=-17.1028        0             0             0            0            0             0             0             0             0             0             0             0    
    a33=-17.0093        0             0             0            0            0             0             0             0             0             0             0             0    
    a34=-16.9159        0             0             0            0            0             0             0             0             0             0             0             0    
    a35=-16.8224        0             0             0            0            0             0             0             0             0             0             0             0    
    a36=-16.729         0             0             0            0            0             0             0             0             0             0             0             0    
    a37=-16.6355        0             0             0            0            0             0             0             0             0             0             0             0    
    a38=-16.5421        0             0             0            0            0             0             0             0             0             0             0             0    
    a39=-16.4486        0             0             0            0            0             0             0             0             0             0             0             0    
    a40=-16.3551        0             0             0            0            0             0             0             0             0             0             0             0    
    a41=-16.2617        0             0             0            0            0             0             0             0             0             0             0             0    
    a42=-16.1682        0             0             0            0            0             0             0             0             0             0             0             0    
    a43=-16.0748        0             0             0            0            0             0             0             0             0             0             0             0    
    a44=-15.9813        0             0             0            0            0             0             0             0             0             0             0             0    
    a45=-15.8879        0             0             0            0            0             0             0             0             0             0             0             0    
    a46=-15.7944        0             0             0            0            0             0             0             0             0             0             0             0    
    a47=-15.7009        0             0             0            0            0             0             0             0             0             0             0             0    
    a48=-15.6075        0             0             0            0            0             0             0             0             0             0             0             0    
    a49=-15.514         0             0             0            0            0             0             0             0             0             0             0             0    
    a50=-15.4206        0             0             0            0            0             0             0             0             0             0             0             0    
    a701=45.4206        0             0             0            0            0             0             0             0             0             0             0             0    
    a702=45.514         0             0             0            0            0             0             0             0             0             0             0             0    
    a703=45.6075        0             0             0            0            0             0             0             0             0             0             0             0    
    a704=45.7009        0             0             0            0            0             0             0             0             0             0             0             0    
    a705=45.7944        0             0             0            0            0             0             0             0             0             0             0             0    
    a706=45.8879        0             0             0            0            0             0             0             0             0             0             0             0    
    a707=45.9813        0             0             0            0            0             0             0             0             0             0             0             0    
    a708=46.0748        0             0             0            0            0             0             0             0             0             0             0             0    
    a709=46.1682        0             0             0            0            0             0             0             0             0             0             0             0    
    a710=46.2617        0             0             0            0            0             0             0             0             0             0             0             0    
    a711=46.3551        0             0             0            0            0             0             0             0             0             0             0             0    
    a712=46.4486        0             0             0            0            0             0             0             0             0             0             0             0    
    a713=46.5421        0             0             0            0            0             0             0             0             0             0             0             0    
    a714=46.6355        0             0             0            0            0             0             0             0             0             0             0             0    
    a715=46.729         0             0             0            0            0             0             0             0             0             0             0             0    
    a716=46.8224        0             0             0            0            0             0             0             0             0             0             0             0    
    a717=46.9159        0             0             0            0            0             0             0             0             0             0             0             0    
    a718=47.0093        0             0             0            0            0             0             0             0             0             0             0             0    
    a719=47.1028        0             0             0            0            0             0             0             0             0             0             0             0    
    a720=47.1963        0             0             0            0            0             0             0             0             0             0             0             0    
    a721=47.2897        0             0             0            0            0             0             0             0             0             0             0             0    
    a722=47.3832        0             0             0            0            0             0             0             0             0             0             0             0    
    a723=47.4766        0             0             0            0            0             0             0             0             0             0             0             0    
    a724=47.5701        0             0             0            0            0             0             0             0             0             0             0             0    
    a725=47.6636        0             0             0            0            0             0             0             0             0             0             0             0    
    a726=47.757         0             0             0            0            0             0             0             0             0             0             0             0    
    a727=47.8505        0             0             0            0            0             0             0             0             0             0             0             0    
    a728=47.9439        0             0             0            0            0             0             0             0             0             0             0             0    
    a729=48.0374        0             0             0            0            0             0             0             0             0             0             0             0    
    a730=48.1308        0             0             0            0            0             0             0             0             0             0             0             0    
    a731=48.2243        0             0             0            0            0             0             0             0             0             0             0             0    
    a732=48.3178        0             0             0            0            0             0             0             0             0             0             0             0    
    a733=48.4112        0             0             0            0            0             0             0             0             0             0             0             0    
    a734=48.5047        0             0             0            0            0             0             0             0             0             0             0             0    
    a735=48.5981        0             0             0            0            0             0             0             0             0             0             0             0    
    a736=48.6916        0             0             0            0            0             0             0             0             0             0             0             0    
    a737=48.785         0             0             0            0            0             0             0             0             0             0             0             0    
    a738=48.8785        0             0             0            0            0             0             0             0             0             0             0             0    
    a739=48.972         0             0             0            0            0             0             0             0             0             0             0             0    
    a740=49.0654        0             0             0            0            0             0             0             0             0             0             0             0    
    a741=49.1589        0             0             0            0            0             0             0             0             0             0             0             0    
    a742=49.2523        0             0             0            0            0             0             0             0             0             0             0             0    
    a743=49.3458        0             0             0            0            0             0             0             0             0             0             0             0    
    a744=49.4393        0             0             0            0            0             0             0             0             0             0             0             0    
    a745=49.5327        0             0             0            0            0             0             0             0             0             0             0             0    
    a746=49.6262        0             0             0            0            0             0             0             0             0             0             0             0    
    a747=49.7196        0             0             0            0            0             0             0             0             0             0             0             0    
    a748=49.8131        0             0             0            0            0             0             0             0             0             0             0             0    
    a749=49.9065        0             0             0            0            0             0             0             0             0             0             0             0    
    a750=50             0             0             0            0            0             0             0             0             0             0             0             0    

mt_pol_for_borr_print: formal borrowing
                    z1_0_34741    z2_0_40076    z3_0_4623    z4_0_5333    z5_0_61519    z6_0_70966    z10_1_2567    z11_1_4496    z12_1_6723    z13_1_9291    z14_2_2253    z15_2_567
                    __________    __________    _________    _________    __________    __________    __________    __________    __________    __________    __________    _________

    a1=-20              0             0             0            0            0             0             0             0             0             0             0             0    
    a2=-19.9065         0             0             0            0            0             0             0             0             0             0             0             0    
    a3=-19.8131         0             0             0            0            0             0             0             0             0             0             0             0    
    a4=-19.7196         0             0             0            0            0             0             0             0             0             0             0             0    
    a5=-19.6262         0             0             0            0            0             0             0             0             0             0             0             0    
    a6=-19.5327         0             0             0            0            0             0             0             0             0             0             0             0    
    a7=-19.4393         0             0             0            0            0             0             0             0             0             0             0             0    
    a8=-19.3458         0             0             0            0            0             0             0             0             0             0             0             0    
    a9=-19.2523         0             0             0            0            0             0             0             0             0             0             0             0    
    a10=-19.1589        0             0             0            0            0             0             0             0             0             0             0             0    
    a11=-19.0654        0             0             0            0            0             0             0             0             0             0             0             0    
    a12=-18.972         0             0             0            0            0             0             0             0             0             0             0             0    
    a13=-18.8785        0             0             0            0            0             0             0             0             0             0             0             0    
    a14=-18.785         0             0             0            0            0             0             0             0             0             0             0             0    
    a15=-18.6916        0             0             0            0            0             0             0             0             0             0             0             0    
    a16=-18.5981        0             0             0            0            0             0             0             0             0             0             0             0    
    a17=-18.5047        0             0             0            0            0             0             0             0             0             0             0             0    
    a18=-18.4112        0             0             0            0            0             0             0             0             0             0             0             0    
    a19=-18.3178        0             0             0            0            0             0             0             0             0             0             0             0    
    a20=-18.2243        0             0             0            0            0             0             0             0             0             0             0             0    
    a21=-18.1308        0             0             0            0            0             0             0             0             0             0             0             0    
    a22=-18.0374        0             0             0            0            0             0             0             0             0             0             0             0    
    a23=-17.9439        0             0             0            0            0             0             0             0             0             0             0             0    
    a24=-17.8505        0             0             0            0            0             0             0             0             0             0             0             0    
    a25=-17.757         0             0             0            0            0             0             0             0             0             0             0             0    
    a26=-17.6636        0             0             0            0            0             0             0             0             0             0             0             0    
    a27=-17.5701        0             0             0            0            0             0             0             0             0             0             0             0    
    a28=-17.4766        0             0             0            0            0             0             0             0             0             0             0             0    
    a29=-17.3832        0             0             0            0            0             0             0             0             0             0             0             0    
    a30=-17.2897        0             0             0            0            0             0             0             0             0             0             0             0    
    a31=-17.1963        0             0             0            0            0             0             0             0             0             0             0             0    
    a32=-17.1028        0             0             0            0            0             0             0             0             0             0             0             0    
    a33=-17.0093        0             0             0            0            0             0             0             0             0             0             0             0    
    a34=-16.9159        0             0             0            0            0             0             0             0             0             0             0             0    
    a35=-16.8224        0             0             0            0            0             0             0             0             0             0             0             0    
    a36=-16.729         0             0             0            0            0             0             0             0             0             0             0             0    
    a37=-16.6355        0             0             0            0            0             0             0             0             0             0             0             0    
    a38=-16.5421        0             0             0            0            0             0             0             0             0             0             0             0    
    a39=-16.4486        0             0             0            0            0             0             0             0             0             0             0             0    
    a40=-16.3551        0             0             0            0            0             0             0             0             0             0             0             0    
    a41=-16.2617        0             0             0            0            0             0             0             0             0             0             0             0    
    a42=-16.1682        0             0             0            0            0             0             0             0             0             0             0             0    
    a43=-16.0748        0             0             0            0            0             0             0             0             0             0             0             0    
    a44=-15.9813        0             0             0            0            0             0             0             0             0             0             0             0    
    a45=-15.8879        0             0             0            0            0             0             0             0             0             0             0             0    
    a46=-15.7944        0             0             0            0            0             0             0             0             0             0             0             0    
    a47=-15.7009        0             0             0            0            0             0             0             0             0             0             0             0    
    a48=-15.6075        0             0             0            0            0             0             0             0             0             0             0             0    
    a49=-15.514         0             0             0            0            0             0             0             0             0             0             0             0    
    a50=-15.4206        0             0             0            0            0             0             0             0             0             0             0             0    
    a701=45.4206        0             0             0            0            0             0             0             0             0             0             0             0    
    a702=45.514         0             0             0            0            0             0             0             0             0             0             0             0    
    a703=45.6075        0             0             0            0            0             0             0             0             0             0             0             0    
    a704=45.7009        0             0             0            0            0             0             0             0             0             0             0             0    
    a705=45.7944        0             0             0            0            0             0             0             0             0             0             0             0    
    a706=45.8879        0             0             0            0            0             0             0             0             0             0             0             0    
    a707=45.9813        0             0             0            0            0             0             0             0             0             0             0             0    
    a708=46.0748        0             0             0            0            0             0             0             0             0             0             0             0    
    a709=46.1682        0             0             0            0            0             0             0             0             0             0             0             0    
    a710=46.2617        0             0             0            0            0             0             0             0             0             0             0             0    
    a711=46.3551        0             0             0            0            0             0             0             0             0             0             0             0    
    a712=46.4486        0             0             0            0            0             0             0             0             0             0             0             0    
    a713=46.5421        0             0             0            0            0             0             0             0             0             0             0             0    
    a714=46.6355        0             0             0            0            0             0             0             0             0             0             0             0    
    a715=46.729         0             0             0            0            0             0             0             0             0             0             0             0    
    a716=46.8224        0             0             0            0            0             0             0             0             0             0             0             0    
    a717=46.9159        0             0             0            0            0             0             0             0             0             0             0             0    
    a718=47.0093        0             0             0            0            0             0             0             0             0             0             0             0    
    a719=47.1028        0             0             0            0            0             0             0             0             0             0             0             0    
    a720=47.1963        0             0             0            0            0             0             0             0             0             0             0             0    
    a721=47.2897        0             0             0            0            0             0             0             0             0             0             0             0    
    a722=47.3832        0             0             0            0            0             0             0             0             0             0             0             0    
    a723=47.4766        0             0             0            0            0             0             0             0             0             0             0             0    
    a724=47.5701        0             0             0            0            0             0             0             0             0             0             0             0    
    a725=47.6636        0             0             0            0            0             0             0             0             0             0             0             0    
    a726=47.757         0             0             0            0            0             0             0             0             0             0             0             0    
    a727=47.8505        0             0             0            0            0             0             0             0             0             0             0             0    
    a728=47.9439        0             0             0            0            0             0             0             0             0             0             0             0    
    a729=48.0374        0             0             0            0            0             0             0             0             0             0             0             0    
    a730=48.1308        0             0             0            0            0             0             0             0             0             0             0             0    
    a731=48.2243        0             0             0            0            0             0             0             0             0             0             0             0    
    a732=48.3178        0             0             0            0            0             0             0             0             0             0             0             0    
    a733=48.4112        0             0             0            0            0             0             0             0             0             0             0             0    
    a734=48.5047        0             0             0            0            0             0             0             0             0             0             0             0    
    a735=48.5981        0             0             0            0            0             0             0             0             0             0             0             0    
    a736=48.6916        0             0             0            0            0             0             0             0             0             0             0             0    
    a737=48.785         0             0             0            0            0             0             0             0             0             0             0             0    
    a738=48.8785        0             0             0            0            0             0             0             0             0             0             0             0    
    a739=48.972         0             0             0            0            0             0             0             0             0             0             0             0    
    a740=49.0654        0             0             0            0            0             0             0             0             0             0             0             0    
    a741=49.1589        0             0             0            0            0             0             0             0             0             0             0             0    
    a742=49.2523        0             0             0            0            0             0             0             0             0             0             0             0    
    a743=49.3458        0             0             0            0            0             0             0             0             0             0             0             0    
    a744=49.4393        0             0             0            0            0             0             0             0             0             0             0             0    
    a745=49.5327        0             0             0            0            0             0             0             0             0             0             0             0    
    a746=49.6262        0             0             0            0            0             0             0             0             0             0             0             0    
    a747=49.7196        0             0             0            0            0             0             0             0             0             0             0             0    
    a748=49.8131        0             0             0            0            0             0             0             0             0             0             0             0    
    a749=49.9065        0             0             0            0            0             0             0             0             0             0             0             0    
    a750=50             0             0             0            0            0             0             0             0             0             0             0             0    

mt_pol_for_save_print: formal savings
                    z1_0_34741    z2_0_40076    z3_0_4623    z4_0_5333    z5_0_61519    z6_0_70966    z10_1_2567    z11_1_4496    z12_1_6723    z13_1_9291    z14_2_2253    z15_2_567
                    __________    __________    _________    _________    __________    __________    __________    __________    __________    __________    __________    _________

    a1=-20                 0             0            0            0             0             0             0             0             0             0             0            0  
    a2=-19.9065            0             0            0            0             0             0             0             0             0             0             0            0  
    a3=-19.8131            0             0            0            0             0             0             0             0             0             0             0            0  
    a4=-19.7196            0             0            0            0             0             0             0             0             0             0             0            0  
    a5=-19.6262            0             0            0            0             0             0             0             0             0             0             0            0  
    a6=-19.5327            0             0            0            0             0             0             0             0             0             0             0            0  
    a7=-19.4393            0             0            0            0             0             0             0             0             0             0             0            0  
    a8=-19.3458            0             0            0            0             0             0             0             0             0             0             0            0  
    a9=-19.2523            0             0            0            0             0             0             0             0             0             0             0            0  
    a10=-19.1589           0             0            0            0             0             0             0             0             0             0             0            0  
    a11=-19.0654           0             0            0            0             0             0             0             0             0             0             0            0  
    a12=-18.972            0             0            0            0             0             0             0             0             0             0             0            0  
    a13=-18.8785           0             0            0            0             0             0             0             0             0             0             0            0  
    a14=-18.785            0             0            0            0             0             0             0             0             0             0             0            0  
    a15=-18.6916           0             0            0            0             0             0             0             0             0             0             0            0  
    a16=-18.5981           0             0            0            0             0             0             0             0             0             0             0            0  
    a17=-18.5047           0             0            0            0             0             0             0             0             0             0             0            0  
    a18=-18.4112           0             0            0            0             0             0             0             0             0             0             0            0  
    a19=-18.3178           0             0            0            0             0             0             0             0             0             0             0            0  
    a20=-18.2243           0             0            0            0             0             0             0             0             0             0             0            0  
    a21=-18.1308           0             0            0            0             0             0             0             0             0             0             0            0  
    a22=-18.0374           0             0            0            0             0             0             0             0             0             0             0            0  
    a23=-17.9439           0             0            0            0             0             0             0             0             0             0             0            0  
    a24=-17.8505           0             0            0            0             0             0             0             0             0             0             0            0  
    a25=-17.757            0             0            0            0             0             0             0             0             0             0             0            0  
    a26=-17.6636           0             0            0            0             0             0             0             0             0             0             0            0  
    a27=-17.5701           0             0            0            0             0             0             0             0             0             0             0            0  
    a28=-17.4766           0             0            0            0             0             0             0             0             0             0             0            0  
    a29=-17.3832           0             0            0            0             0             0             0             0             0             0             0            0  
    a30=-17.2897           0             0            0            0             0             0             0             0             0             0             0            0  
    a31=-17.1963           0             0            0            0             0             0             0             0             0             0             0            0  
    a32=-17.1028           0             0            0            0             0             0             0             0             0             0             0            0  
    a33=-17.0093           0             0            0            0             0             0             0             0             0             0             0            0  
    a34=-16.9159           0             0            0            0             0             0             0             0             0             0             0            0  
    a35=-16.8224           0             0            0            0             0             0             0             0             0             0             0            0  
    a36=-16.729            0             0            0            0             0             0             0             0             0             0             0            0  
    a37=-16.6355           0             0            0            0             0             0             0             0             0             0             0            0  
    a38=-16.5421           0             0            0            0             0             0             0             0             0             0             0            0  
    a39=-16.4486           0             0            0            0             0             0             0             0             0             0             0            0  
    a40=-16.3551           0             0            0            0             0             0             0             0             0             0             0            0  
    a41=-16.2617           0             0            0            0             0             0             0             0             0             0             0            0  
    a42=-16.1682           0             0            0            0             0             0             0             0             0             0             0            0  
    a43=-16.0748           0             0            0            0             0             0             0             0             0             0             0            0  
    a44=-15.9813           0             0            0            0             0             0             0             0             0             0             0            0  
    a45=-15.8879           0             0            0            0             0             0             0             0             0             0             0            0  
    a46=-15.7944           0             0            0            0             0             0             0             0             0             0             0            0  
    a47=-15.7009           0             0            0            0             0             0             0             0             0             0             0            0  
    a48=-15.6075           0             0            0            0             0             0             0             0             0             0             0            0  
    a49=-15.514            0             0            0            0             0             0             0             0             0             0             0            0  
    a50=-15.4206           0             0            0            0             0             0             0             0             0             0             0            0  
    a701=45.4206      18.539        18.967        19.46        20.03        20.686        21.444         25.83        27.377        29.162        31.221        33.596       36.336  
    a702=45.514       18.577        19.006         19.5       20.071        20.729        21.488        25.883        27.433        29.222        31.285        33.666       36.411  
    a703=45.6075      18.615        19.045        19.54       20.112        20.771        21.532        25.936         27.49        29.282         31.35        33.735       36.486  
    a704=45.7009      18.653        19.084        19.58       20.153        20.814        21.576        25.989        27.546        29.342        31.414        33.804       36.561  
    a705=45.7944      18.692        19.123        19.62       20.194        20.856         21.62        26.042        27.602        29.402        31.478        33.873       36.636  
    a706=45.8879       18.73        19.162        19.66       20.236        20.899        21.664        26.095        27.659        29.462        31.542        33.942        36.71  
    a707=45.9813      18.768        19.201       19.701       20.277        20.942        21.708        26.149        27.715        29.522        31.607        34.011       36.785  
    a708=46.0748      18.806         19.24       19.741       20.318        20.984        21.753        26.202        27.771        29.582        31.671         34.08        36.86  
    a709=46.1682      18.844        19.279       19.781       20.359        21.027        21.797        26.255        27.828        29.642        31.735        34.149       36.935  
    a710=46.2617      18.882        19.318       19.821         20.4        21.069        21.841        26.308        27.884        29.702        31.799        34.219       37.009  
    a711=46.3551      18.921        19.357       19.861       20.442        21.112        21.885        26.361         27.94        29.762        31.864        34.288       37.084  
    a712=46.4486      18.959        19.396       19.901       20.483        21.154        21.929        26.414        27.997        29.822        31.928        34.357       37.159  
    a713=46.5421      18.997        19.435       19.941       20.524        21.197        21.973        26.467        28.053        29.882        31.992        34.426       37.234  
    a714=46.6355      19.035        19.474       19.981       20.565         21.24        22.017        26.521        28.109        29.942        32.056        34.495       37.308  
    a715=46.729       19.073        19.513       20.021       20.607        21.282        22.061        26.574        28.166        30.002         32.12        34.564       37.383  
    a716=46.8224      19.111        19.552       20.061       20.648        21.325        22.106        26.627        28.222        30.062        32.185        34.633       37.458  
    a717=46.9159      19.149        19.591       20.101       20.689        21.367         22.15         26.68        28.278        30.122        32.249        34.702       37.533  
    a718=47.0093      19.188         19.63       20.141        20.73         21.41        22.194        26.733        28.335        30.182        32.313        34.772       37.607  
    a719=47.1028      19.226        19.669       20.181       20.771        21.452        22.238        26.786        28.391        30.242        32.377        34.841       37.682  
    a720=47.1963      19.264        19.708       20.221       20.813        21.495        22.282        26.839        28.447        30.302        32.442         34.91       37.757  
    a721=47.2897      19.302        19.747       20.261       20.854        21.537        22.326        26.893        28.504        30.362        32.506        34.979       37.832  
    a722=47.3832       19.34        19.786       20.301       20.895         21.58         22.37        26.946         28.56        30.422         32.57        35.048       37.907  
    a723=47.4766      19.378        19.825       20.341       20.936        21.623        22.414        26.999        28.616        30.482        32.634        35.117       37.981  
    a724=47.5701      19.416        19.864       20.381       20.977        21.665        22.459        27.052        28.673        30.542        32.699        35.186       38.056  
    a725=47.6636      19.455        19.903       20.421       21.019        21.708        22.503        27.105        28.729        30.602        32.763        35.255       38.131  
    a726=47.757       19.493        19.942       20.461        21.06         21.75        22.547        27.158        28.785        30.662        32.827        35.325       38.206  
    a727=47.8505      19.531        19.982       20.501       21.101        21.793        22.591        27.212        28.842        30.722        32.891        35.394        38.28  
    a728=47.9439      19.569        20.021       20.541       21.142        21.835        22.635        27.265        28.898        30.782        32.956        35.463       38.355  
    a729=48.0374      19.607         20.06       20.581       21.183        21.878        22.679        27.318        28.954        30.842         33.02        35.532        38.43  
    a730=48.1308      19.645        20.099       20.621       21.225        21.921        22.723        27.371        29.011        30.902        33.084        35.601       38.505  
    a731=48.2243      19.683        20.138       20.662       21.266        21.963        22.767        27.424        29.067        30.962        33.148         35.67       38.579  
    a732=48.3178      19.722        20.177       20.702       21.307        22.006        22.811        27.477        29.123        31.022        33.213        35.739       38.654  
    a733=48.4112       19.76        20.216       20.742       21.348        22.048        22.856         27.53         29.18        31.082        33.277        35.809       38.729  
    a734=48.5047      19.798        20.255       20.782        21.39        22.091          22.9        27.584        29.236        31.142        33.341        35.878       38.804  
    a735=48.5981      19.836        20.294       20.822       21.431        22.133        22.944        27.637        29.292        31.202        33.405        35.947       38.879  
    a736=48.6916      19.874        20.333       20.862       21.472        22.176        22.988         27.69        29.349        31.262         33.47        36.016       38.953  
    a737=48.785       19.912        20.372       20.902       21.513        22.218        23.032        27.743        29.405        31.322        33.534        36.085       39.028  
    a738=48.8785       19.95        20.411       20.942       21.554        22.261        23.076        27.796        29.461        31.382        33.598        36.154       39.103  
    a739=48.972       19.989         20.45       20.982       21.596        22.304         23.12        27.849        29.518        31.442        33.662        36.223       39.178  
    a740=49.0654      20.027        20.489       21.022       21.637        22.346        23.164        27.902        29.574        31.502        33.727        36.292       39.252  
    a741=49.1589      20.065        20.528       21.062       21.678        22.389        23.209        27.956         29.63        31.562        33.791        36.362       39.327  
    a742=49.2523      20.103        20.567       21.102       21.719        22.431        23.253        28.009        29.687        31.622        33.855        36.431       39.402  
    a743=49.3458      20.141        20.606       21.142        21.76        22.474        23.297        28.062        29.743        31.682        33.919          36.5       39.477  
    a744=49.4393      20.179        20.645       21.182       21.802        22.516        23.341        28.115        29.799        31.742        33.983        36.569       39.551  
    a745=49.5327      20.217        20.684       21.222       21.843        22.559        23.385        28.168        29.856        31.802        34.048        36.638       39.626  
    a746=49.6262      20.256        20.723       21.262       21.884        22.602        23.429        28.221        29.912        31.862        34.112        36.707       39.701  
    a747=49.7196      20.294        20.762       21.302       21.925        22.644        23.473        28.274        29.968        31.922        34.176        36.776       39.776  
    a748=49.8131      20.332        20.801       21.342       21.967        22.687        23.517        28.328        30.025        31.982         34.24        36.845        39.85  
    a749=49.9065       20.37         20.84       21.382       22.008        22.729        23.562        28.381        30.081        32.042        34.305        36.915       39.925  
    a750=50           20.408        20.879       21.422       22.049        22.772        23.606        28.434        30.137        32.102        34.369        36.984           40  

</pre><pre class="codeinput"><span class="keyword">end</span>
</pre><pre class="codeoutput">
ans = 

  Map with properties:

        Count: 14
      KeyType: char
    ValueType: any

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% For Inf Tabulate Value and Policy Iteration Results, Store to Mat, Graph Results
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*

%%
function [result_map] = ff_az_fibs_vf_post(varargin)
%% FF_AZ_FIBS_VF_POST post formal informal results
% In addition to regular post results
%
% @param param_map container parameter container
%
% @param support_map container support container
%
% @param armt_map container container with states, choices and shocks
% grids that are inputs for grid based solution algorithm
%
% @param func_map container container with function handles for
% consumption cash-on-hand etc.
%
% @param result_map container contains policy function matrix, value
% function matrix, iteration results
%
% @return result_map container add coh consumption and other matrixes to
% result_map also add table versions of val pol and iter matries
%
% @example
%
%    bl_input_override = true;
%    result_map = containers.Map('KeyType','char', 'ValueType','any');
%    result_map('mt_val') = mt_val;
%    result_map('mt_pol_a') = mt_pol_a;
%    result_map('ar_val_diff_norm') = ar_val_diff_norm(1:it_iter_last);
%    result_map('ar_pol_diff_norm') = ar_pol_diff_norm(1:it_iter_last);
%    result_map('mt_pol_perc_change') = mt_pol_perc_change(1:it_iter_last, :);
%    result_map = ff_az_vf_post(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
%
% @include
%
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/solvepost/html/ff_az_vf_post_graph.html ff_az_vf_post_graph>
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_set_default_param.html ffs_az_set_default_param>
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_get_funcgrid.html ffs_az_get_funcgrid>
%

%% Default

params_len = length(varargin);
bl_input_override = 0;
if (params_len == 6)
    bl_input_override = varargin{6};
end

if (bl_input_override)
    % if invoked from outside overrid fully
    [param_map, support_map, armt_map, func_map, result_map, ~] = varargin{:};
    
    params_group = values(result_map, {'mt_val', 'cl_mt_pol_a'});
    [mt_val, cl_mt_pol_a] = params_group{:};
    mt_pol_a = deal(cl_mt_pol_a{1});
    
    params_group = values(result_map, {'ar_val_diff_norm', 'ar_pol_diff_norm', 'mt_pol_perc_change'});
    [ar_val_diff_norm, ar_pol_diff_norm, mt_pol_perc_change] = params_group{:};
    
    % Get Parameters
    params_group = values(param_map, {'it_z_n', 'it_a_n'});
    [it_z_n, it_a_n] = params_group{:};
    params_group = values(armt_map, {'ar_a', 'ar_z'});
    [ar_a, ar_z] = params_group{:};
    
else
    
    clear all;
    close all;
    
    % 1. internal invoke for testing
    it_param_set = 4;
    bl_input_override = true;
    
    % 2. Get Parameters
    [param_map, support_map] = ffs_abz_fibs_set_default_param(it_param_set);
    [armt_map, func_map] = ffs_abz_fibs_get_funcgrid(param_map, support_map, bl_input_override); % 1 for override
    
    % 3. Get Arrays and Functions
    params_group = values(armt_map, {'ar_a', 'ar_z'});
    [ar_a, ar_z] = params_group{:};
    params_group = values(func_map, {'f_util_standin', 'f_cons_coh_fbis', 'f_cons_coh_save', 'f_coh'});
    [f_util_standin, f_cons_coh_fbis, f_cons_coh_save, f_coh] = params_group{:};
    
    % 4. Value Default
    mt_val = f_util_standin(ar_z, ar_a');
    
    % 5. default optimal asset choices (overall, interesint + principle from
    % different formal and informal sources following how model is solved)
    mt_pol_a = zeros(size(mt_val)) + ar_a'*(cumsum(sort(ar_z))/sum(ar_z)*0.4 + 0.4);
    
    % 6. Default COH
    mt_coh = f_coh(ar_z, ar_a');
    
    % 7. Set Default Consumption
    mt_pol_a_pos_idx = (mt_pol_a > 0);
    mt_pol_cons = zeros(size(mt_pol_a));
    mt_pol_cons(mt_pol_a_pos_idx) = f_cons_coh_save(mt_coh(mt_pol_a_pos_idx), mt_pol_a(mt_pol_a_pos_idx));
    mt_pol_cons(~mt_pol_a_pos_idx) = f_cons_coh_fbis(mt_coh(~mt_pol_a_pos_idx), mt_pol_a(~mt_pol_a_pos_idx));
    
    % 8. Find Formal Informal Choices given Fake Data
    mt_pol_b_bridge = zeros(length(ar_a),length(ar_z));
    mt_pol_inf_borr_nobridge = zeros(length(ar_a),length(ar_z));
    mt_pol_for_borr = zeros(length(ar_a),length(ar_z));
    mt_pol_for_save = zeros(length(ar_a),length(ar_z));
    
    % 9. Solve for formal and informal combinations given the overall fake
    % choices.
    for it_z_i = 1:length(ar_z)
        for it_a_j = 1:length(ar_a)
            fl_z = ar_z(it_z_i);
            fl_a = ar_a(it_a_j);
            fl_coh = f_coh(fl_z, fl_a);
            fl_a_opti = mt_pol_a(it_a_j, it_z_i);
            
            % call formal and informal function.
            [~, fl_opti_b_bridge, fl_opti_inf_borr_nobridge, fl_opti_for_borr, fl_opti_for_save] = ...
                ffs_fibs_min_c_cost_bridge(fl_a_opti, fl_coh, ...
                param_map, support_map, armt_map, func_map, bl_input_override);
            
            % store savings and borrowing formal and inf optimal choices
            mt_pol_b_bridge(it_a_j,it_z_i) = fl_opti_b_bridge;
            mt_pol_inf_borr_nobridge(it_a_j,it_z_i) = fl_opti_inf_borr_nobridge;
            mt_pol_for_borr(it_a_j,it_z_i) = fl_opti_for_borr;
            mt_pol_for_save(it_a_j,it_z_i) = fl_opti_for_save;
            
        end
    end
    
    % 10. Set Results Map
    result_map = containers.Map('KeyType','char', 'ValueType','any');
    result_map('mt_val') = mt_val;
    result_map('cl_mt_pol_a') = {mt_pol_a, zeros(1)};
    result_map('cl_mt_coh') = {mt_coh, zeros(1)};
    
    result_map('cl_mt_pol_c') = {mt_pol_cons, zeros(1)};
    result_map('cl_mt_pol_b_bridge') = {mt_pol_b_bridge, zeros(1)};
    result_map('cl_mt_pol_inf_borr_nobridge') = {mt_pol_inf_borr_nobridge, zeros(1)};
    result_map('cl_mt_pol_for_borr') = {mt_pol_for_borr, zeros(1)};
    result_map('cl_mt_pol_for_save') = {mt_pol_for_save, zeros(1)};
    
    % Input over-ride
    bl_input_override = true;
    result_map = ffs_fibs_identify_discrete(result_map, bl_input_override);
    
    % Control which results to graph
    support_map('bl_graph_forinf_discrete') = true;
    support_map('bl_graph_forinf_pol_lvl') = true;
    support_map('bl_graph_forinf_pol_pct') = true;
    
    support_map('bl_graph') = true;
    
end

%% Parse Parameter

% param_map
params_group = values(param_map, {'it_z_n', 'it_a_n'});
[it_z_n, it_a_n] = params_group{:};

% result_map standards
params_group = values(result_map, {'cl_mt_pol_a'});
[cl_mt_pol_a] = params_group{:};
[mt_pol_a] = deal(cl_mt_pol_a{1});

% result_map continuous formal informal choices
params_group = values(result_map, {'cl_mt_pol_b_bridge', 'cl_mt_pol_inf_borr_nobridge', ...
    'cl_mt_pol_for_borr', 'cl_mt_pol_for_save'});
[cl_mt_pol_b_bridge, cl_mt_pol_inf_borr_nobridge, cl_mt_pol_for_borr, cl_mt_pol_for_save] = params_group{:};
[mt_pol_b_bridge, mt_pol_inf_borr_nobridge, mt_pol_for_borr, mt_pol_for_save] = ...
    deal(cl_mt_pol_b_bridge{1}, cl_mt_pol_inf_borr_nobridge{1}, cl_mt_pol_for_borr{1}, cl_mt_pol_for_save{1});

% support_map
params_group = values(support_map, {'bl_display_final', 'it_display_final_rowmax', 'it_display_final_colmax'});
[bl_display_final, it_display_final_rowmax, it_display_final_colmax] = params_group{:};
params_group = values(support_map, {'bl_graph', 'bl_graph_onebyones'});
[bl_graph] = params_group{:};
params_group = values(support_map, {'bl_mat', 'st_mat_path', 'st_mat_prefix', 'st_mat_name_main', 'st_mat_suffix'});
[bl_mat, st_mat_path, st_mat_prefix, st_mat_name_main, st_mat_suffix] = params_group{:};

%% Generate Consumption and Income Matrix

if (~isKey(result_map, 'cl_mt_pol_c'))
    f_cons = func_map('f_cons');
    mt_cons = f_cons(ar_z, ar_a', mt_pol_a);
    result_map('cl_mt_pol_c') = {mt_cons, zeros(1)};
end
if (~isKey(result_map, 'cl_mt_coh'))
    f_coh = func_map('f_coh');
    mt_coh = f_coh(ar_z, ar_a');
    result_map('cl_mt_coh') = {mt_coh, zeros(1)};
end

%% Save Mat

if (bl_mat)
    mkdir(support_map('st_mat_path'));
    st_file_name = [st_mat_prefix st_mat_name_main st_mat_suffix];
    save(strcat(st_mat_path, st_file_name));
end

%% Generate and Save Graphs

if (bl_graph)
    bl_input_override = true;
    ff_az_fibs_vf_post_graph(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
end

%% Display Val Pol Iter Table

if (bl_display_final)
    
    % Display Values by States
    % at most display 11 columns of shocks
    % at most display 50 rows for states
    % display first and last
    if (it_a_n >= it_display_final_rowmax)
        ar_it_rows = (1:1:round(it_display_final_rowmax/2));
        ar_it_rows = [ar_it_rows ((it_a_n)-round(it_display_final_rowmax/2)+1):1:(it_a_n)];
    else
        ar_it_rows = 1:1:it_a_n;
    end
    if (it_z_n >= it_display_final_colmax)
        ar_it_cols = (1:1:round(it_display_final_colmax/2));
        ar_it_cols = [ar_it_cols ((it_z_n)-round(it_display_final_colmax/2)+1):1:(it_z_n)];
    else
        ar_it_cols = 1:1:it_z_n;
    end
    mt_pol_b_bridge_print = mt_pol_b_bridge(ar_it_rows, ar_it_cols);
    mt_pol_inf_borr_nobridge_print = mt_pol_inf_borr_nobridge(ar_it_rows, ar_it_cols);
    mt_pol_for_borr_print = mt_pol_for_borr(ar_it_rows, ar_it_cols);
    mt_pol_for_save_print = mt_pol_for_save(ar_it_rows, ar_it_cols);
    
    % Display Optimal Values
    tb_mt_pol_b_bridge_print = array2table(mt_pol_b_bridge_print);
    tb_mt_pol_b_bridge_print.Properties.RowNames = strcat('a', string(ar_it_rows), '=', string(ar_a(ar_it_rows)));
    tb_mt_pol_b_bridge_print.Properties.VariableNames = matlab.lang.makeValidName(strcat('z', string(ar_it_cols), '=', string(ar_z(ar_it_cols))));
    disp('mt_pol_b_bridge_print: bridge loans');
    disp(tb_mt_pol_b_bridge_print);
    
    % Display Optimal Values
    tb_mt_pol_inf_borr_nobridge_print = array2table(mt_pol_inf_borr_nobridge_print);
    tb_mt_pol_inf_borr_nobridge_print.Properties.RowNames = strcat('a', string(ar_it_rows), '=', string(ar_a(ar_it_rows)));
    tb_mt_pol_inf_borr_nobridge_print.Properties.VariableNames = matlab.lang.makeValidName(strcat('z', string(ar_it_cols), '=', string(ar_z(ar_it_cols))));
    disp('mt_pol_inf_borr_nobridge_print: bridge loans');
    disp(tb_mt_pol_inf_borr_nobridge_print);
    
    % Display Optimal Values
    tb_mt_pol_for_borr_print = array2table(mt_pol_for_borr_print);
    tb_mt_pol_for_borr_print.Properties.RowNames = strcat('a', string(ar_it_rows), '=', string(ar_a(ar_it_rows)));
    tb_mt_pol_for_borr_print.Properties.VariableNames = matlab.lang.makeValidName(strcat('z', string(ar_it_cols), '=', string(ar_z(ar_it_cols))));
    disp('mt_pol_for_borr_print: formal borrowing');
    disp(tb_mt_pol_for_borr_print);
    
    % Display Optimal Values
    tb_mt_pol_for_save_print = array2table(mt_pol_for_save_print);
    tb_mt_pol_for_save_print.Properties.RowNames = strcat('a', string(ar_it_rows), '=', string(ar_a(ar_it_rows)));
    tb_mt_pol_for_save_print.Properties.VariableNames = matlab.lang.makeValidName(strcat('z', string(ar_it_cols), '=', string(ar_z(ar_it_cols))));
    disp('mt_pol_for_save_print: formal savings');
    disp(tb_mt_pol_for_save_print);    
    
end

end

##### SOURCE END #####
--></body></html>