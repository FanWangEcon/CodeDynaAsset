
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>For Inf Tabulate Value and Policy Iteration Results, Store to Mat, Graph Results</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-07-05"><meta name="DC.source" content="ff_az_fibs_vf_post.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>For Inf Tabulate Value and Policy Iteration Results, Store to Mat, Graph Results</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#2">FF_AZ_FIBS_VF_POST post formal informal results</a></li><li><a href="#3">Default</a></li><li><a href="#4">Parse Parameter</a></li><li><a href="#5">Get Size of Endogenous and Exogenous State</a></li><li><a href="#6">Generate Consumption and Income Matrix</a></li><li><a href="#7">Save Mat</a></li><li><a href="#8">Generate and Save Graphs</a></li><li><a href="#9">Display Val Pol Iter Table</a></li></ul></div><pre class="codeinput"><span class="keyword">function</span> [result_map] = ff_az_fibs_vf_post(varargin)
</pre><h2 id="2">FF_AZ_FIBS_VF_POST post formal informal results</h2><p>In addition to regular post results</p><p>@param param_map container parameter container</p><p>@param support_map container support container</p><p>@param armt_map container container with states, choices and shocks grids that are inputs for grid based solution algorithm</p><p>@param func_map container container with function handles for consumption cash-on-hand etc.</p><p>@param result_map container contains policy function matrix, value function matrix, iteration results</p><p>@return result_map container add coh consumption and other matrixes to result_map also add table versions of val pol and iter matries</p><p>@example</p><pre>  bl_input_override = true;
  result_map = containers.Map('KeyType','char', 'ValueType','any');
  result_map('mt_val') = mt_val;
  result_map('mt_pol_a') = mt_pol_a;
  result_map('ar_val_diff_norm') = ar_val_diff_norm(1:it_iter_last);
  result_map('ar_pol_diff_norm') = ar_pol_diff_norm(1:it_iter_last);
  result_map('mt_pol_perc_change') = mt_pol_perc_change(1:it_iter_last, :);
  result_map = ff_az_vf_post(param_map, support_map, armt_map, func_map, result_map, bl_input_override);</pre><p>@include</p><div><ul><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solvepost/html/ff_az_vf_post_graph.html">ff_az_vf_post_graph</a></li><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_set_default_param.html">ffs_az_set_default_param</a></li><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_get_funcgrid.html">ffs_az_get_funcgrid</a></li></ul></div><h2 id="3">Default</h2><pre class="codeinput">params_len = length(varargin);
bl_input_override = 0;
<span class="keyword">if</span> (params_len == 6)
    bl_input_override = varargin{6};
<span class="keyword">end</span>

<span class="keyword">if</span> (bl_input_override)
    <span class="comment">% if invoked from outside overrid fully</span>
    [param_map, support_map, armt_map, func_map, result_map, ~] = varargin{:};


<span class="keyword">else</span>

    clear <span class="string">all</span>;
    close <span class="string">all</span>;

    <span class="comment">% 1. internal invoke for testing</span>
    it_param_set = 4;
    bl_input_override = true;

    <span class="comment">% 2. Get Parameters</span>
    [param_map, support_map] = ffs_abz_fibs_set_default_param(it_param_set);
    [armt_map, func_map] = ffs_abz_fibs_get_funcgrid(param_map, support_map, bl_input_override); <span class="comment">% 1 for override</span>

    <span class="comment">% 3. Get Arrays and Functions</span>
    params_group = values(armt_map, {<span class="string">'ar_a'</span>, <span class="string">'ar_z'</span>});
    [ar_a, ar_z] = params_group{:};
    params_group = values(func_map, {<span class="string">'f_util_standin'</span>, <span class="string">'f_cons_coh_fbis'</span>, <span class="string">'f_cons_coh_save'</span>, <span class="string">'f_coh'</span>});
    [f_util_standin, f_cons_coh_fbis, f_cons_coh_save, f_coh] = params_group{:};

    <span class="comment">% 4. Value Default</span>
    mt_val = f_util_standin(ar_z, ar_a');

    <span class="comment">% 5. default optimal asset choices (overall, interesint + principle from</span>
    <span class="comment">% different formal and informal sources following how model is solved)</span>
    mt_pol_a = zeros(size(mt_val)) + ar_a'*(cumsum(sort(ar_z))/sum(ar_z)*0.4 + 0.4);

    <span class="comment">% 6. Default COH</span>
    mt_coh = f_coh(ar_z, ar_a');

    <span class="comment">% 7. Set Default Consumption</span>
    mt_pol_a_pos_idx = (mt_pol_a &gt; 0);
    mt_pol_cons = zeros(size(mt_pol_a));
    mt_pol_cons(mt_pol_a_pos_idx) = f_cons_coh_save(mt_coh(mt_pol_a_pos_idx), mt_pol_a(mt_pol_a_pos_idx));
    mt_pol_cons(~mt_pol_a_pos_idx) = f_cons_coh_fbis(mt_coh(~mt_pol_a_pos_idx), mt_pol_a(~mt_pol_a_pos_idx));

    <span class="comment">% 8. Find Formal Informal Choices given Fake Data</span>
    mt_pol_b_bridge = zeros(length(ar_a),length(ar_z));
    mt_pol_inf_borr_nobridge = zeros(length(ar_a),length(ar_z));
    mt_pol_for_borr = zeros(length(ar_a),length(ar_z));
    mt_pol_for_save = zeros(length(ar_a),length(ar_z));

    <span class="comment">% 9. Solve for formal and informal combinations given the overall fake</span>
    <span class="comment">% choices.</span>
    <span class="keyword">for</span> it_z_i = 1:length(ar_z)
        <span class="keyword">for</span> it_a_j = 1:length(ar_a)
            fl_z = ar_z(it_z_i);
            fl_a = ar_a(it_a_j);
            fl_coh = f_coh(fl_z, fl_a);
            fl_a_opti = mt_pol_a(it_a_j, it_z_i);

            <span class="comment">% call formal and informal function.</span>
            [~, fl_opti_b_bridge, fl_opti_inf_borr_nobridge, fl_opti_for_borr, fl_opti_for_save] = <span class="keyword">...</span>
                ffs_fibs_min_c_cost_bridge(fl_a_opti, fl_coh, <span class="keyword">...</span>
                param_map, support_map, armt_map, func_map, bl_input_override);

            <span class="comment">% store savings and borrowing formal and inf optimal choices</span>
            mt_pol_b_bridge(it_a_j,it_z_i) = fl_opti_b_bridge;
            mt_pol_inf_borr_nobridge(it_a_j,it_z_i) = fl_opti_inf_borr_nobridge;
            mt_pol_for_borr(it_a_j,it_z_i) = fl_opti_for_borr;
            mt_pol_for_save(it_a_j,it_z_i) = fl_opti_for_save;

        <span class="keyword">end</span>
    <span class="keyword">end</span>

    <span class="comment">% 10. Set Results Map</span>
    result_map = containers.Map(<span class="string">'KeyType'</span>,<span class="string">'char'</span>, <span class="string">'ValueType'</span>,<span class="string">'any'</span>);
    result_map(<span class="string">'mt_val'</span>) = mt_val;
    result_map(<span class="string">'cl_mt_pol_a'</span>) = {mt_pol_a, zeros(1)};
    result_map(<span class="string">'cl_mt_coh'</span>) = {mt_coh, zeros(1)};

    result_map(<span class="string">'cl_mt_pol_c'</span>) = {mt_pol_cons, zeros(1)};
    result_map(<span class="string">'cl_mt_pol_b_bridge'</span>) = {mt_pol_b_bridge, zeros(1)};
    result_map(<span class="string">'cl_mt_pol_inf_borr_nobridge'</span>) = {mt_pol_inf_borr_nobridge, zeros(1)};
    result_map(<span class="string">'cl_mt_pol_for_borr'</span>) = {mt_pol_for_borr, zeros(1)};
    result_map(<span class="string">'cl_mt_pol_for_save'</span>) = {mt_pol_for_save, zeros(1)};

    <span class="comment">% Input over-ride</span>
    bl_input_override = true;
    result_map = ffs_fibs_identify_discrete(result_map, bl_input_override);

    <span class="comment">% Control which results to graph</span>
    support_map(<span class="string">'bl_graph_forinf_discrete'</span>) = true;
    support_map(<span class="string">'bl_graph_forinf_pol_lvl'</span>) = true;
    support_map(<span class="string">'bl_graph_forinf_pol_pct'</span>) = true;

    support_map(<span class="string">'bl_graph'</span>) = true;

<span class="keyword">end</span>
</pre><h2 id="4">Parse Parameter</h2><pre class="codeinput"><span class="comment">% armt_map standards</span>
params_group = values(armt_map, {<span class="string">'ar_z'</span>});
[ar_z] = params_group{:};

<span class="comment">% result_map standards</span>
params_group = values(result_map, {<span class="string">'cl_mt_pol_a'</span>});
[cl_mt_pol_a] = params_group{:};
[mt_pol_a] = deal(cl_mt_pol_a{1});

<span class="comment">% result_map continuous formal informal choices</span>
params_group = values(result_map, {<span class="string">'cl_mt_pol_b_bridge'</span>, <span class="string">'cl_mt_pol_inf_borr_nobridge'</span>, <span class="keyword">...</span>
    <span class="string">'cl_mt_pol_for_borr'</span>, <span class="string">'cl_mt_pol_for_save'</span>});
[cl_mt_pol_b_bridge, cl_mt_pol_inf_borr_nobridge, cl_mt_pol_for_borr, cl_mt_pol_for_save] = params_group{:};
[mt_pol_b_bridge, mt_pol_inf_borr_nobridge, mt_pol_for_borr, mt_pol_for_save] = <span class="keyword">...</span>
    deal(cl_mt_pol_b_bridge{1}, cl_mt_pol_inf_borr_nobridge{1}, cl_mt_pol_for_borr{1}, cl_mt_pol_for_save{1});

<span class="comment">% support_map</span>
params_group = values(support_map, {<span class="string">'bl_display_final'</span>, <span class="string">'it_display_final_rowmax'</span>, <span class="string">'it_display_final_colmax'</span>});
[bl_display_final, it_display_final_rowmax, it_display_final_colmax] = params_group{:};
params_group = values(support_map, {<span class="string">'bl_graph'</span>, <span class="string">'bl_graph_onebyones'</span>});
[bl_graph] = params_group{:};
params_group = values(support_map, {<span class="string">'bl_mat'</span>, <span class="string">'st_mat_path'</span>, <span class="string">'st_mat_prefix'</span>, <span class="string">'st_mat_name_main'</span>, <span class="string">'st_mat_suffix'</span>});
[bl_mat, st_mat_path, st_mat_prefix, st_mat_name_main, st_mat_suffix] = params_group{:};
</pre><h2 id="5">Get Size of Endogenous and Exogenous State</h2><pre class="codeinput">it_endostates_n = size(mt_pol_a, 1);
it_exostates_n = size(mt_pol_a, 2);
</pre><h2 id="6">Generate Consumption and Income Matrix</h2><pre class="codeinput"><span class="keyword">if</span> (~isKey(result_map, <span class="string">'cl_mt_pol_c'</span>))
    params_group = values(armt_map, {<span class="string">'ar_a'</span>, <span class="string">'ar_z'</span>});
    [ar_a, ar_z] = params_group{:};
    f_cons = func_map(<span class="string">'f_cons'</span>);
    mt_cons = f_cons(ar_z, ar_a', mt_pol_a);
    result_map(<span class="string">'cl_mt_pol_c'</span>) = {mt_cons, zeros(1)};
<span class="keyword">end</span>
<span class="keyword">if</span> (~isKey(result_map, <span class="string">'cl_mt_coh'</span>))
    params_group = values(armt_map, {<span class="string">'ar_a'</span>, <span class="string">'ar_z'</span>});
    [ar_a, ar_z] = params_group{:};
    f_coh = func_map(<span class="string">'f_coh'</span>);
    mt_coh = f_coh(ar_z, ar_a');
    result_map(<span class="string">'cl_mt_coh'</span>) = {mt_coh, zeros(1)};
<span class="keyword">else</span>
    params_group = values(result_map, {<span class="string">'cl_mt_coh'</span>});
    [cl_mt_coh] = params_group{:};
    [mt_coh] = deal(cl_mt_coh{1});
<span class="keyword">end</span>
</pre><h2 id="7">Save Mat</h2><pre class="codeinput"><span class="keyword">if</span> (bl_mat)
    mkdir(support_map(<span class="string">'st_mat_path'</span>));
    st_file_name = [st_mat_prefix st_mat_name_main st_mat_suffix];
    save(strcat(st_mat_path, st_file_name));
<span class="keyword">end</span>
</pre><h2 id="8">Generate and Save Graphs</h2><pre class="codeinput"><span class="keyword">if</span> (bl_graph)
    bl_input_override = true;
    ff_az_fibs_vf_post_graph(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
<span class="keyword">end</span>
</pre><pre class="codeoutput">Warning: Using only the real component of complex data. 
Warning: Using only the real component of complex data. 
Warning: Using only the real component of complex data. 
Warning: Using only the real component of complex data. 
Warning: Using only the real component of complex data. 
</pre><img vspace="5" hspace="5" src="ff_az_fibs_vf_post_01.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_02.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_03.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_04.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_05.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_06.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_07.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_08.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_09.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_10.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_11.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_12.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_13.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_14.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_15.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_16.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_17.png" alt=""> <img vspace="5" hspace="5" src="ff_az_fibs_vf_post_18.png" alt=""> <h2 id="9">Display Val Pol Iter Table</h2><pre class="codeinput"><span class="keyword">if</span> (bl_display_final)

    <span class="comment">% Display Values by States</span>
    <span class="comment">% at most display 11 columns of shocks</span>
    <span class="comment">% at most display 50 rows for states</span>
    <span class="comment">% display first and last</span>
    <span class="keyword">if</span> (it_endostates_n &gt;= it_display_final_rowmax)
        ar_it_rows = (1:1:round(it_display_final_rowmax/2));
        ar_it_rows = [ar_it_rows ((it_endostates_n)-round(it_display_final_rowmax/2)+1):1:(it_endostates_n)];
    <span class="keyword">else</span>
        ar_it_rows = 1:1:it_endostates_n;
    <span class="keyword">end</span>
    <span class="keyword">if</span> (it_exostates_n &gt;= it_display_final_colmax)
        ar_it_cols = (1:1:round(it_display_final_colmax/2));
        ar_it_cols = [ar_it_cols ((it_exostates_n)-round(it_display_final_colmax/2)+1):1:(it_exostates_n)];
    <span class="keyword">else</span>
        ar_it_cols = 1:1:it_exostates_n;
    <span class="keyword">end</span>
    mt_pol_b_bridge_print = mt_pol_b_bridge(ar_it_rows, ar_it_cols);
    mt_pol_inf_borr_nobridge_print = mt_pol_inf_borr_nobridge(ar_it_rows, ar_it_cols);
    mt_pol_for_borr_print = mt_pol_for_borr(ar_it_rows, ar_it_cols);
    mt_pol_for_save_print = mt_pol_for_save(ar_it_rows, ar_it_cols);

    <span class="comment">% Display Optimal Values</span>
    tb_mt_pol_b_bridge_print = array2table(mt_pol_b_bridge_print);
    tb_mt_pol_b_bridge_print.Properties.RowNames = strcat(<span class="string">'coh'</span>, string(ar_it_rows), <span class="string">'='</span>, string(mt_coh(ar_it_rows)));
    tb_mt_pol_b_bridge_print.Properties.VariableNames = matlab.lang.makeValidName(strcat(<span class="string">'z'</span>, string(ar_it_cols), <span class="string">'='</span>, string(ar_z(ar_it_cols))));
    disp(<span class="string">'mt_pol_b_bridge_print: bridge loans'</span>);
    disp(tb_mt_pol_b_bridge_print);

    <span class="comment">% Display Optimal Values</span>
    tb_mt_pol_inf_borr_nobridge_print = array2table(mt_pol_inf_borr_nobridge_print);
    tb_mt_pol_inf_borr_nobridge_print.Properties.RowNames = strcat(<span class="string">'coh'</span>, string(ar_it_rows), <span class="string">'='</span>, string(mt_coh(ar_it_rows)));
    tb_mt_pol_inf_borr_nobridge_print.Properties.VariableNames = matlab.lang.makeValidName(strcat(<span class="string">'z'</span>, string(ar_it_cols), <span class="string">'='</span>, string(ar_z(ar_it_cols))));
    disp(<span class="string">'mt_pol_inf_borr_nobridge_print: bridge loans'</span>);
    disp(tb_mt_pol_inf_borr_nobridge_print);

    <span class="comment">% Display Optimal Values</span>
    tb_mt_pol_for_borr_print = array2table(mt_pol_for_borr_print);
    tb_mt_pol_for_borr_print.Properties.RowNames = strcat(<span class="string">'coh'</span>, string(ar_it_rows), <span class="string">'='</span>, string(mt_coh(ar_it_rows)));
    tb_mt_pol_for_borr_print.Properties.VariableNames = matlab.lang.makeValidName(strcat(<span class="string">'z'</span>, string(ar_it_cols), <span class="string">'='</span>, string(ar_z(ar_it_cols))));
    disp(<span class="string">'mt_pol_for_borr_print: formal borrowing'</span>);
    disp(tb_mt_pol_for_borr_print);

    <span class="comment">% Display Optimal Values</span>
    tb_mt_pol_for_save_print = array2table(mt_pol_for_save_print);
    tb_mt_pol_for_save_print.Properties.RowNames = strcat(<span class="string">'coh'</span>, string(ar_it_rows), <span class="string">'='</span>, string(mt_coh(ar_it_rows)));
    tb_mt_pol_for_save_print.Properties.VariableNames = matlab.lang.makeValidName(strcat(<span class="string">'z'</span>, string(ar_it_cols), <span class="string">'='</span>, string(ar_z(ar_it_cols))));
    disp(<span class="string">'mt_pol_for_save_print: formal savings'</span>);
    disp(tb_mt_pol_for_save_print);

<span class="keyword">end</span>
</pre><pre class="codeoutput">mt_pol_b_bridge_print: bridge loans
                      z1_0_34741    z2_0_40076    z3_0_4623    z4_0_5333    z5_0_61519    z6_0_70966    z10_1_2567    z11_1_4496    z12_1_6723    z13_1_9291    z14_2_2253    z15_2_567
                      __________    __________    _________    _________    __________    __________    __________    __________    __________    __________    __________    _________

    coh1=-19.5553         0             0             0            0            0             0             0             0             0             0             0             0    
    coh2=-19.4619         0             0             0            0            0             0             0             0             0             0             0             0    
    coh3=-19.3684         0             0             0            0            0             0             0             0             0             0             0             0    
    coh4=-19.2749         0             0             0            0            0             0             0             0             0             0             0             0    
    coh5=-19.1815         0             0             0            0            0             0             0             0             0             0             0             0    
    coh6=-19.088          0             0             0            0            0             0             0             0             0             0             0             0    
    coh7=-18.9946         0             0             0            0            0             0             0             0             0             0             0             0    
    coh8=-18.9011         0             0             0            0            0             0             0             0             0             0             0             0    
    coh9=-18.8077         0             0             0            0            0             0             0             0             0             0             0             0    
    coh10=-18.7142        0             0             0            0            0             0             0             0             0             0             0             0    
    coh11=-18.6207        0             0             0            0            0             0             0             0             0             0             0             0    
    coh12=-18.5273        0             0             0            0            0             0             0             0             0             0             0             0    
    coh13=-18.4338        0             0             0            0            0             0             0             0             0             0             0             0    
    coh14=-18.3404        0             0             0            0            0             0             0             0             0             0             0             0    
    coh15=-18.2469        0             0             0            0            0             0             0             0             0             0             0             0    
    coh16=-18.1534        0             0             0            0            0             0             0             0             0             0             0             0    
    coh17=-18.06          0             0             0            0            0             0             0             0             0             0             0             0    
    coh18=-17.9665        0             0             0            0            0             0             0             0             0             0             0             0    
    coh19=-17.8731        0             0             0            0            0             0             0             0             0             0             0             0    
    coh20=-17.7796        0             0             0            0            0             0             0             0             0             0             0             0    
    coh21=-17.6862        0             0             0            0            0             0             0             0             0             0             0             0    
    coh22=-17.5927        0             0             0            0            0             0             0             0             0             0             0             0    
    coh23=-17.4992        0             0             0            0            0             0             0             0             0             0             0             0    
    coh24=-17.4058        0             0             0            0            0             0             0             0             0             0             0             0    
    coh25=-17.3123        0             0             0            0            0             0             0             0             0             0             0             0    
    coh26=-17.2189        0             0             0            0            0             0             0             0             0             0             0             0    
    coh27=-17.1254        0             0             0            0            0             0             0             0             0             0             0             0    
    coh28=-17.032         0             0             0            0            0             0             0             0             0             0             0             0    
    coh29=-16.9385        0             0             0            0            0             0             0             0             0             0             0             0    
    coh30=-16.845         0             0             0            0            0             0             0             0             0             0             0             0    
    coh31=-16.7516        0             0             0            0            0             0             0             0             0             0             0             0    
    coh32=-16.6581        0             0             0            0            0             0             0             0             0             0             0             0    
    coh33=-16.5647        0             0             0            0            0             0             0             0             0             0             0             0    
    coh34=-16.4712        0             0             0            0            0             0             0             0             0             0             0             0    
    coh35=-16.3777        0             0             0            0            0             0             0             0             0             0             0             0    
    coh36=-16.2843        0             0             0            0            0             0             0             0             0             0             0             0    
    coh37=-16.1908        0             0             0            0            0             0             0             0             0             0             0             0    
    coh38=-16.0974        0             0             0            0            0             0             0             0             0             0             0             0    
    coh39=-16.0039        0             0             0            0            0             0             0             0             0             0             0             0    
    coh40=-15.9105        0             0             0            0            0             0             0             0             0             0             0             0    
    coh41=-15.817         0             0             0            0            0             0             0             0             0             0             0             0    
    coh42=-15.7235        0             0             0            0            0             0             0             0             0             0             0             0    
    coh43=-15.6301        0             0             0            0            0             0             0             0             0             0             0             0    
    coh44=-15.5366        0             0             0            0            0             0             0             0             0             0             0             0    
    coh45=-15.4432        0             0             0            0            0             0             0             0             0             0             0             0    
    coh46=-15.3497        0             0             0            0            0             0             0             0             0             0             0             0    
    coh47=-15.2563        0             0             0            0            0             0             0             0             0             0             0             0    
    coh48=-15.1628        0             0             0            0            0             0             0             0             0             0             0             0    
    coh49=-15.0693        0             0             0            0            0             0             0             0             0             0             0             0    
    coh50=-14.9759        0             0             0            0            0             0             0             0             0             0             0             0    
    coh701=45.8652        0             0             0            0            0             0             0             0             0             0             0             0    
    coh702=45.9587        0             0             0            0            0             0             0             0             0             0             0             0    
    coh703=46.0522        0             0             0            0            0             0             0             0             0             0             0             0    
    coh704=46.1456        0             0             0            0            0             0             0             0             0             0             0             0    
    coh705=46.2391        0             0             0            0            0             0             0             0             0             0             0             0    
    coh706=46.3325        0             0             0            0            0             0             0             0             0             0             0             0    
    coh707=46.426         0             0             0            0            0             0             0             0             0             0             0             0    
    coh708=46.5195        0             0             0            0            0             0             0             0             0             0             0             0    
    coh709=46.6129        0             0             0            0            0             0             0             0             0             0             0             0    
    coh710=46.7064        0             0             0            0            0             0             0             0             0             0             0             0    
    coh711=46.7998        0             0             0            0            0             0             0             0             0             0             0             0    
    coh712=46.8933        0             0             0            0            0             0             0             0             0             0             0             0    
    coh713=46.9867        0             0             0            0            0             0             0             0             0             0             0             0    
    coh714=47.0802        0             0             0            0            0             0             0             0             0             0             0             0    
    coh715=47.1737        0             0             0            0            0             0             0             0             0             0             0             0    
    coh716=47.2671        0             0             0            0            0             0             0             0             0             0             0             0    
    coh717=47.3606        0             0             0            0            0             0             0             0             0             0             0             0    
    coh718=47.454         0             0             0            0            0             0             0             0             0             0             0             0    
    coh719=47.5475        0             0             0            0            0             0             0             0             0             0             0             0    
    coh720=47.6409        0             0             0            0            0             0             0             0             0             0             0             0    
    coh721=47.7344        0             0             0            0            0             0             0             0             0             0             0             0    
    coh722=47.8279        0             0             0            0            0             0             0             0             0             0             0             0    
    coh723=47.9213        0             0             0            0            0             0             0             0             0             0             0             0    
    coh724=48.0148        0             0             0            0            0             0             0             0             0             0             0             0    
    coh725=48.1082        0             0             0            0            0             0             0             0             0             0             0             0    
    coh726=48.2017        0             0             0            0            0             0             0             0             0             0             0             0    
    coh727=48.2952        0             0             0            0            0             0             0             0             0             0             0             0    
    coh728=48.3886        0             0             0            0            0             0             0             0             0             0             0             0    
    coh729=48.4821        0             0             0            0            0             0             0             0             0             0             0             0    
    coh730=48.5755        0             0             0            0            0             0             0             0             0             0             0             0    
    coh731=48.669         0             0             0            0            0             0             0             0             0             0             0             0    
    coh732=48.7624        0             0             0            0            0             0             0             0             0             0             0             0    
    coh733=48.8559        0             0             0            0            0             0             0             0             0             0             0             0    
    coh734=48.9494        0             0             0            0            0             0             0             0             0             0             0             0    
    coh735=49.0428        0             0             0            0            0             0             0             0             0             0             0             0    
    coh736=49.1363        0             0             0            0            0             0             0             0             0             0             0             0    
    coh737=49.2297        0             0             0            0            0             0             0             0             0             0             0             0    
    coh738=49.3232        0             0             0            0            0             0             0             0             0             0             0             0    
    coh739=49.4166        0             0             0            0            0             0             0             0             0             0             0             0    
    coh740=49.5101        0             0             0            0            0             0             0             0             0             0             0             0    
    coh741=49.6036        0             0             0            0            0             0             0             0             0             0             0             0    
    coh742=49.697         0             0             0            0            0             0             0             0             0             0             0             0    
    coh743=49.7905        0             0             0            0            0             0             0             0             0             0             0             0    
    coh744=49.8839        0             0             0            0            0             0             0             0             0             0             0             0    
    coh745=49.9774        0             0             0            0            0             0             0             0             0             0             0             0    
    coh746=50.0709        0             0             0            0            0             0             0             0             0             0             0             0    
    coh747=50.1643        0             0             0            0            0             0             0             0             0             0             0             0    
    coh748=50.2578        0             0             0            0            0             0             0             0             0             0             0             0    
    coh749=50.3512        0             0             0            0            0             0             0             0             0             0             0             0    
    coh750=50.4447        0             0             0            0            0             0             0             0             0             0             0             0    

mt_pol_inf_borr_nobridge_print: bridge loans
                      z1_0_34741    z2_0_40076    z3_0_4623     z4_0_5333     z5_0_61519    z6_0_70966    z10_1_2567    z11_1_4496    z12_1_6723    z13_1_9291    z14_2_2253    z15_2_567
                      __________    __________    __________    __________    __________    __________    __________    __________    __________    __________    __________    _________

    coh1=-19.5553       -0.91829      -1.1066        -1.3239             0            0             0       -1.0236       -1.7049             0             0            0        -0.9925
    coh2=-19.4619       -0.88014      -1.0676        -1.2839       -1.5334            0             0      -0.97042       -1.6486             0             0            0       -0.91773
    coh3=-19.3684       -0.84199      -1.0286        -1.2438       -1.4922            0             0      -0.91727       -1.5922             0             0            0       -0.84297
    coh4=-19.2749       -0.80385     -0.98957        -1.2038       -1.4509            0             0      -0.86412       -1.5359       -2.3109             0            0        -0.7682
    coh5=-19.1815        -0.7657     -0.95054        -1.1638       -1.4097            0             0      -0.81097       -1.4796       -2.2509             0            0       -0.69343
    coh6=-19.088        -0.72755     -0.91151        -1.1237       -1.3685            0             0      -0.75783       -1.4233       -2.1909             0            0       -0.61867
    coh7=-18.9946       -0.68941     -0.87249        -1.0837       -1.3273            0             0      -0.70468       -1.3669       -2.1309             0            0        -0.5439
    coh8=-18.9011       -0.65126     -0.83346        -1.0436       -1.2861      -1.5658             0      -0.65153       -1.3106       -2.0709             0            0       -0.46914
    coh9=-18.8077       -0.61312     -0.79443        -1.0036       -1.2449      -1.5232             0      -0.59838       -1.2543       -2.0109             0            0       -0.39437
    coh10=-18.7142      -0.57497     -0.75541       -0.96356       -1.2037      -1.4807             0      -0.54524       -1.1979       -1.9509             0            0        -0.3196
    coh11=-18.6207      -0.53682     -0.71638       -0.92351       -1.1625      -1.4381             0      -0.49209       -1.1416       -1.8908             0            0       -0.24484
    coh12=-18.5273      -0.49868     -0.67736       -0.88347       -1.1212      -1.3955             0      -0.43894       -1.0853       -1.8308             0            0       -0.17007
    coh13=-18.4338      -0.46053     -0.63833       -0.84343         -1.08       -1.353             0      -0.38579       -1.0289       -1.7708             0            0      -0.095304
    coh14=-18.3404      -0.42238      -0.5993       -0.80339       -1.0388      -1.3104             0      -0.33265       -0.9726       -1.7108             0            0      -0.020537
    coh15=-18.2469      -0.38424     -0.56028       -0.76335       -0.9976      -1.2678             0       -0.2795      -0.91627       -1.6508             0            0              0
    coh16=-18.1534      -0.34609     -0.52125       -0.72331      -0.95639      -1.2253       -1.5354      -0.22635      -0.85994       -1.5908             0            0              0
    coh17=-18.06        -0.30795     -0.48222       -0.68326      -0.91518      -1.1827       -1.4913       -0.1732      -0.80361       -1.5308             0            0              0
    coh18=-17.9665       -0.2698      -0.4432       -0.64322      -0.87396      -1.1401       -1.4472      -0.12006      -0.74728       -1.4708       -2.3055            0              0
    coh19=-17.8731      -0.23165     -0.40417       -0.60318      -0.83275      -1.0976       -1.4031     -0.066909      -0.69095       -1.4108       -2.2412            0              0
    coh20=-17.7796      -0.19351     -0.36514       -0.56314      -0.79154       -1.055       -1.3589     -0.013761      -0.63461       -1.3508        -2.177            0              0
    coh21=-17.6862      -0.15536     -0.32612        -0.5231      -0.75032      -1.0124       -1.3148             0      -0.57828       -1.2908       -2.1127            0              0
    coh22=-17.5927      -0.11722     -0.28709       -0.48306      -0.70911     -0.96988       -1.2707             0      -0.52195       -1.2308       -2.0485            0              0
    coh23=-17.4992     -0.079069     -0.24807       -0.44301       -0.6679     -0.92732       -1.2266             0      -0.46562       -1.1708       -1.9843            0              0
    coh24=-17.4058     -0.040923     -0.20904       -0.40297      -0.62669     -0.88475       -1.1825             0      -0.40929       -1.1108         -1.92            0              0
    coh25=-17.3123    -0.0027768     -0.17001       -0.36293      -0.58547     -0.84219       -1.1383             0      -0.35296       -1.0508       -1.8558            0              0
    coh26=-17.2189             0     -0.13099       -0.32289      -0.54426     -0.79963       -1.0942             0      -0.29663      -0.99078       -1.7915            0              0
    coh27=-17.1254             0     -0.09196       -0.28285      -0.50305     -0.75706       -1.0501             0       -0.2403      -0.93078       -1.7273            0              0
    coh28=-17.032              0    -0.052934        -0.2428      -0.46183      -0.7145        -1.006             0      -0.18396      -0.87078       -1.6631            0              0
    coh29=-16.9385             0    -0.013907       -0.20276      -0.42062     -0.67193      -0.96184             0      -0.12763      -0.81077       -1.5988            0              0
    coh30=-16.845              0            0       -0.16272      -0.37941     -0.62937      -0.91772             0     -0.071301      -0.75077       -1.5346            0              0
    coh31=-16.7516             0            0       -0.12268      -0.33819     -0.58681      -0.87359             0      -0.01497      -0.69076       -1.4703            0              0
    coh32=-16.6581             0            0      -0.082638      -0.29698     -0.54424      -0.82947             0             0      -0.63076       -1.4061      -2.3005              0
    coh33=-16.5647             0            0      -0.042596      -0.25577     -0.50168      -0.78535             0             0      -0.57076       -1.3419      -2.2314              0
    coh34=-16.4712             0            0     -0.0025544      -0.21456     -0.45911      -0.74123             0             0      -0.51075       -1.2776      -2.1622              0
    coh35=-16.3777             0            0              0      -0.17334     -0.41655       -0.6971             0             0      -0.45075       -1.2134      -2.0931              0
    coh36=-16.2843             0            0              0      -0.13213     -0.37398      -0.65298             0             0      -0.39074       -1.1491       -2.024              0
    coh37=-16.1908             0            0              0     -0.090917     -0.33142      -0.60886             0             0      -0.33074       -1.0849      -1.9549              0
    coh38=-16.0974             0            0              0     -0.049704     -0.28886      -0.56473             0             0      -0.27073       -1.0206      -1.8857              0
    coh39=-16.0039             0            0              0    -0.0084907     -0.24629      -0.52061             0             0      -0.21073      -0.95641      -1.8166              0
    coh40=-15.9105             0            0              0             0     -0.20373      -0.47649             0             0      -0.15073      -0.89217      -1.7475              0
    coh41=-15.817              0            0              0             0     -0.16116      -0.43237             0             0     -0.090722      -0.82793      -1.6783              0
    coh42=-15.7235             0            0              0             0      -0.1186      -0.38824             0             0     -0.030718      -0.76369      -1.6092              0
    coh43=-15.6301             0            0              0             0    -0.076036      -0.34412             0             0             0      -0.69944      -1.5401              0
    coh44=-15.5366             0            0              0             0    -0.033471          -0.3             0             0             0       -0.6352       -1.471              0
    coh45=-15.4432             0            0              0             0            0      -0.25587             0             0             0      -0.57096      -1.4018              0
    coh46=-15.3497      -0.75421            0              0             0            0      -0.21175             0             0             0      -0.50672      -1.3327        -2.2855
    coh47=-15.2563      -0.71606            0              0             0            0      -0.16763             0             0             0      -0.44248      -1.2636        -2.2107
    coh48=-15.1628      -0.67791            0              0             0            0      -0.12351             0             0             0      -0.37824      -1.1944         -2.136
    coh49=-15.0693      -0.63977            0              0             0            0     -0.079384             0             0             0        -0.314      -1.1253        -2.0612
    coh50=-14.9759      -0.60162     -0.74685              0             0            0     -0.035261       -1.5243             0             0      -0.24976      -1.0562        -1.9864
    coh701=45.8652             0            0              0             0            0             0             0             0             0             0            0              0
    coh702=45.9587             0            0              0             0            0             0             0             0             0             0            0              0
    coh703=46.0522             0            0              0             0            0             0             0             0             0             0            0              0
    coh704=46.1456             0            0              0             0            0             0             0             0             0             0            0              0
    coh705=46.2391             0            0              0             0            0             0             0             0             0             0            0              0
    coh706=46.3325             0            0              0             0            0             0             0             0             0             0            0              0
    coh707=46.426              0            0              0             0            0             0             0             0             0             0            0              0
    coh708=46.5195             0            0              0             0            0             0             0             0             0             0            0              0
    coh709=46.6129             0            0              0             0            0             0             0             0             0             0            0              0
    coh710=46.7064             0            0              0             0            0             0             0             0             0             0            0              0
    coh711=46.7998             0            0              0             0            0             0             0             0             0             0            0              0
    coh712=46.8933             0            0              0             0            0             0             0             0             0             0            0              0
    coh713=46.9867             0            0              0             0            0             0             0             0             0             0            0              0
    coh714=47.0802             0            0              0             0            0             0             0             0             0             0            0              0
    coh715=47.1737             0            0              0             0            0             0             0             0             0             0            0              0
    coh716=47.2671             0            0              0             0            0             0             0             0             0             0            0              0
    coh717=47.3606             0            0              0             0            0             0             0             0             0             0            0              0
    coh718=47.454              0            0              0             0            0             0             0             0             0             0            0              0
    coh719=47.5475             0            0              0             0            0             0             0             0             0             0            0              0
    coh720=47.6409             0            0              0             0            0             0             0             0             0             0            0              0
    coh721=47.7344             0            0              0             0            0             0             0             0             0             0            0              0
    coh722=47.8279             0            0              0             0            0             0             0             0             0             0            0              0
    coh723=47.9213             0            0              0             0            0             0             0             0             0             0            0              0
    coh724=48.0148             0            0              0             0            0             0             0             0             0             0            0              0
    coh725=48.1082             0            0              0             0            0             0             0             0             0             0            0              0
    coh726=48.2017             0            0              0             0            0             0             0             0             0             0            0              0
    coh727=48.2952             0            0              0             0            0             0             0             0             0             0            0              0
    coh728=48.3886             0            0              0             0            0             0             0             0             0             0            0              0
    coh729=48.4821             0            0              0             0            0             0             0             0             0             0            0              0
    coh730=48.5755             0            0              0             0            0             0             0             0             0             0            0              0
    coh731=48.669              0            0              0             0            0             0             0             0             0             0            0              0
    coh732=48.7624             0            0              0             0            0             0             0             0             0             0            0              0
    coh733=48.8559             0            0              0             0            0             0             0             0             0             0            0              0
    coh734=48.9494             0            0              0             0            0             0             0             0             0             0            0              0
    coh735=49.0428             0            0              0             0            0             0             0             0             0             0            0              0
    coh736=49.1363             0            0              0             0            0             0             0             0             0             0            0              0
    coh737=49.2297             0            0              0             0            0             0             0             0             0             0            0              0
    coh738=49.3232             0            0              0             0            0             0             0             0             0             0            0              0
    coh739=49.4166             0            0              0             0            0             0             0             0             0             0            0              0
    coh740=49.5101             0            0              0             0            0             0             0             0             0             0            0              0
    coh741=49.6036             0            0              0             0            0             0             0             0             0             0            0              0
    coh742=49.697              0            0              0             0            0             0             0             0             0             0            0              0
    coh743=49.7905             0            0              0             0            0             0             0             0             0             0            0              0
    coh744=49.8839             0            0              0             0            0             0             0             0             0             0            0              0
    coh745=49.9774             0            0              0             0            0             0             0             0             0             0            0              0
    coh746=50.0709             0            0              0             0            0             0             0             0             0             0            0              0
    coh747=50.1643             0            0              0             0            0             0             0             0             0             0            0              0
    coh748=50.2578             0            0              0             0            0             0             0             0             0             0            0              0
    coh749=50.3512             0            0              0             0            0             0             0             0             0             0            0              0
    coh750=50.4447             0            0              0             0            0             0             0             0             0             0            0              0

mt_pol_for_borr_print: formal borrowing
                      z1_0_34741    z2_0_40076    z3_0_4623    z4_0_5333    z5_0_61519    z6_0_70966    z10_1_2567    z11_1_4496    z12_1_6723    z13_1_9291    z14_2_2253    z15_2_567
                      __________    __________    _________    _________    __________    __________    __________    __________    __________    __________    __________    _________

    coh1=-19.5553       -7.245        -7.245       -7.245       -10.35        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007       -15.007 
    coh2=-19.4619       -7.245        -7.245       -7.245       -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007       -15.007 
    coh3=-19.3684       -7.245        -7.245       -7.245       -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007       -15.007 
    coh4=-19.2749       -7.245        -7.245       -7.245       -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh5=-19.1815       -7.245        -7.245       -7.245       -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh6=-19.088        -7.245        -7.245       -7.245       -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh7=-18.9946       -7.245        -7.245       -7.245       -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh8=-18.9011       -7.245        -7.245       -7.245       -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh9=-18.8077       -7.245        -7.245       -7.245       -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh10=-18.7142      -7.245        -7.245       -7.245       -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh11=-18.6207      -7.245        -7.245       -7.245       -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh12=-18.5273      -7.245        -7.245       -7.245       -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh13=-18.4338      -7.245        -7.245       -7.245       -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh14=-18.3404      -7.245        -7.245       -7.245       -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh15=-18.2469      -7.245        -7.245       -7.245       -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh16=-18.1534      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh17=-18.06        -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35       -15.007       -15.007       -15.007 
    coh18=-17.9665      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh19=-17.8731      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh20=-17.7796      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh21=-17.6862      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh22=-17.5927      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh23=-17.4992      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh24=-17.4058      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh25=-17.3123      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh26=-17.2189      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh27=-17.1254      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh28=-17.032       -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh29=-16.9385      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh30=-16.845       -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh31=-16.7516      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35       -15.007       -15.007 
    coh32=-16.6581      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh33=-16.5647      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh34=-16.4712      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh35=-16.3777      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh36=-16.2843      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh37=-16.1908      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh38=-16.0974      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh39=-16.0039      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh40=-15.9105      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh41=-15.817       -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh42=-15.7235      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh43=-15.6301      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh44=-15.5366      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh45=-15.4432      -7.245        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35       -15.007 
    coh46=-15.3497     -5.6925        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35        -10.35 
    coh47=-15.2563     -5.6925        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35        -10.35 
    coh48=-15.1628     -5.6925        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35        -10.35 
    coh49=-15.0693     -5.6925        -7.245       -7.245       -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35        -10.35 
    coh50=-14.9759     -5.6925       -5.6925       -7.245       -7.245        -7.245        -7.245        -7.245        -10.35        -10.35        -10.35        -10.35        -10.35 
    coh701=45.8652           0             0            0            0             0             0             0             0             0             0             0             0 
    coh702=45.9587           0             0            0            0             0             0             0             0             0             0             0             0 
    coh703=46.0522           0             0            0            0             0             0             0             0             0             0             0             0 
    coh704=46.1456           0             0            0            0             0             0             0             0             0             0             0             0 
    coh705=46.2391           0             0            0            0             0             0             0             0             0             0             0             0 
    coh706=46.3325           0             0            0            0             0             0             0             0             0             0             0             0 
    coh707=46.426            0             0            0            0             0             0             0             0             0             0             0             0 
    coh708=46.5195           0             0            0            0             0             0             0             0             0             0             0             0 
    coh709=46.6129           0             0            0            0             0             0             0             0             0             0             0             0 
    coh710=46.7064           0             0            0            0             0             0             0             0             0             0             0             0 
    coh711=46.7998           0             0            0            0             0             0             0             0             0             0             0             0 
    coh712=46.8933           0             0            0            0             0             0             0             0             0             0             0             0 
    coh713=46.9867           0             0            0            0             0             0             0             0             0             0             0             0 
    coh714=47.0802           0             0            0            0             0             0             0             0             0             0             0             0 
    coh715=47.1737           0             0            0            0             0             0             0             0             0             0             0             0 
    coh716=47.2671           0             0            0            0             0             0             0             0             0             0             0             0 
    coh717=47.3606           0             0            0            0             0             0             0             0             0             0             0             0 
    coh718=47.454            0             0            0            0             0             0             0             0             0             0             0             0 
    coh719=47.5475           0             0            0            0             0             0             0             0             0             0             0             0 
    coh720=47.6409           0             0            0            0             0             0             0             0             0             0             0             0 
    coh721=47.7344           0             0            0            0             0             0             0             0             0             0             0             0 
    coh722=47.8279           0             0            0            0             0             0             0             0             0             0             0             0 
    coh723=47.9213           0             0            0            0             0             0             0             0             0             0             0             0 
    coh724=48.0148           0             0            0            0             0             0             0             0             0             0             0             0 
    coh725=48.1082           0             0            0            0             0             0             0             0             0             0             0             0 
    coh726=48.2017           0             0            0            0             0             0             0             0             0             0             0             0 
    coh727=48.2952           0             0            0            0             0             0             0             0             0             0             0             0 
    coh728=48.3886           0             0            0            0             0             0             0             0             0             0             0             0 
    coh729=48.4821           0             0            0            0             0             0             0             0             0             0             0             0 
    coh730=48.5755           0             0            0            0             0             0             0             0             0             0             0             0 
    coh731=48.669            0             0            0            0             0             0             0             0             0             0             0             0 
    coh732=48.7624           0             0            0            0             0             0             0             0             0             0             0             0 
    coh733=48.8559           0             0            0            0             0             0             0             0             0             0             0             0 
    coh734=48.9494           0             0            0            0             0             0             0             0             0             0             0             0 
    coh735=49.0428           0             0            0            0             0             0             0             0             0             0             0             0 
    coh736=49.1363           0             0            0            0             0             0             0             0             0             0             0             0 
    coh737=49.2297           0             0            0            0             0             0             0             0             0             0             0             0 
    coh738=49.3232           0             0            0            0             0             0             0             0             0             0             0             0 
    coh739=49.4166           0             0            0            0             0             0             0             0             0             0             0             0 
    coh740=49.5101           0             0            0            0             0             0             0             0             0             0             0             0 
    coh741=49.6036           0             0            0            0             0             0             0             0             0             0             0             0 
    coh742=49.697            0             0            0            0             0             0             0             0             0             0             0             0 
    coh743=49.7905           0             0            0            0             0             0             0             0             0             0             0             0 
    coh744=49.8839           0             0            0            0             0             0             0             0             0             0             0             0 
    coh745=49.9774           0             0            0            0             0             0             0             0             0             0             0             0 
    coh746=50.0709           0             0            0            0             0             0             0             0             0             0             0             0 
    coh747=50.1643           0             0            0            0             0             0             0             0             0             0             0             0 
    coh748=50.2578           0             0            0            0             0             0             0             0             0             0             0             0 
    coh749=50.3512           0             0            0            0             0             0             0             0             0             0             0             0 
    coh750=50.4447           0             0            0            0             0             0             0             0             0             0             0             0 

mt_pol_for_save_print: formal savings
                      z1_0_34741    z2_0_40076    z3_0_4623    z4_0_5333    z5_0_61519    z6_0_70966    z10_1_2567    z11_1_4496    z12_1_6723    z13_1_9291    z14_2_2253    z15_2_567
                      __________    __________    _________    _________    __________    __________    __________    __________    __________    __________    __________    _________

    coh1=-19.5553            0             0            0            0             0             0             0             0             0             0             0            0  
    coh2=-19.4619            0             0            0            0             0             0             0             0             0             0             0            0  
    coh3=-19.3684            0             0            0            0             0             0             0             0             0             0             0            0  
    coh4=-19.2749            0             0            0            0             0             0             0             0             0             0             0            0  
    coh5=-19.1815            0             0            0            0             0             0             0             0             0             0             0            0  
    coh6=-19.088             0             0            0            0             0             0             0             0             0             0             0            0  
    coh7=-18.9946            0             0            0            0             0             0             0             0             0             0             0            0  
    coh8=-18.9011            0             0            0            0             0             0             0             0             0             0             0            0  
    coh9=-18.8077            0             0            0            0             0             0             0             0             0             0             0            0  
    coh10=-18.7142           0             0            0            0             0             0             0             0             0             0             0            0  
    coh11=-18.6207           0             0            0            0             0             0             0             0             0             0             0            0  
    coh12=-18.5273           0             0            0            0             0             0             0             0             0             0             0            0  
    coh13=-18.4338           0             0            0            0             0             0             0             0             0             0             0            0  
    coh14=-18.3404           0             0            0            0             0             0             0             0             0             0             0            0  
    coh15=-18.2469           0             0            0            0             0             0             0             0             0             0             0            0  
    coh16=-18.1534           0             0            0            0             0             0             0             0             0             0             0            0  
    coh17=-18.06             0             0            0            0             0             0             0             0             0             0             0            0  
    coh18=-17.9665           0             0            0            0             0             0             0             0             0             0             0            0  
    coh19=-17.8731           0             0            0            0             0             0             0             0             0             0             0            0  
    coh20=-17.7796           0             0            0            0             0             0             0             0             0             0             0            0  
    coh21=-17.6862           0             0            0            0             0             0             0             0             0             0             0            0  
    coh22=-17.5927           0             0            0            0             0             0             0             0             0             0             0            0  
    coh23=-17.4992           0             0            0            0             0             0             0             0             0             0             0            0  
    coh24=-17.4058           0             0            0            0             0             0             0             0             0             0             0            0  
    coh25=-17.3123           0             0            0            0             0             0             0             0             0             0             0            0  
    coh26=-17.2189           0             0            0            0             0             0             0             0             0             0             0            0  
    coh27=-17.1254           0             0            0            0             0             0             0             0             0             0             0            0  
    coh28=-17.032            0             0            0            0             0             0             0             0             0             0             0            0  
    coh29=-16.9385           0             0            0            0             0             0             0             0             0             0             0            0  
    coh30=-16.845            0             0            0            0             0             0             0             0             0             0             0            0  
    coh31=-16.7516           0             0            0            0             0             0             0             0             0             0             0            0  
    coh32=-16.6581           0             0            0            0             0             0             0             0             0             0             0            0  
    coh33=-16.5647           0             0            0            0             0             0             0             0             0             0             0            0  
    coh34=-16.4712           0             0            0            0             0             0             0             0             0             0             0            0  
    coh35=-16.3777           0             0            0            0             0             0             0             0             0             0             0            0  
    coh36=-16.2843           0             0            0            0             0             0             0             0             0             0             0            0  
    coh37=-16.1908           0             0            0            0             0             0             0             0             0             0             0            0  
    coh38=-16.0974           0             0            0            0             0             0             0             0             0             0             0            0  
    coh39=-16.0039           0             0            0            0             0             0             0             0             0             0             0            0  
    coh40=-15.9105           0             0            0            0             0             0             0             0             0             0             0            0  
    coh41=-15.817            0             0            0            0             0             0             0             0             0             0             0            0  
    coh42=-15.7235           0             0            0            0             0             0             0             0             0             0             0            0  
    coh43=-15.6301           0             0            0            0             0             0             0             0             0             0             0            0  
    coh44=-15.5366           0             0            0            0             0             0             0             0             0             0             0            0  
    coh45=-15.4432           0             0            0            0             0             0             0             0             0             0             0            0  
    coh46=-15.3497           0             0            0            0             0             0             0             0             0             0             0            0  
    coh47=-15.2563           0             0            0            0             0             0             0             0             0             0             0            0  
    coh48=-15.1628           0             0            0            0             0             0             0             0             0             0             0            0  
    coh49=-15.0693           0             0            0            0             0             0             0             0             0             0             0            0  
    coh50=-14.9759           0             0            0            0             0             0             0             0             0             0             0            0  
    coh701=45.8652      18.539        18.967        19.46        20.03        20.686        21.444         25.83        27.377        29.162        31.221        33.596       36.336  
    coh702=45.9587      18.577        19.006         19.5       20.071        20.729        21.488        25.883        27.433        29.222        31.285        33.666       36.411  
    coh703=46.0522      18.615        19.045        19.54       20.112        20.771        21.532        25.936         27.49        29.282         31.35        33.735       36.486  
    coh704=46.1456      18.653        19.084        19.58       20.153        20.814        21.576        25.989        27.546        29.342        31.414        33.804       36.561  
    coh705=46.2391      18.692        19.123        19.62       20.194        20.856         21.62        26.042        27.602        29.402        31.478        33.873       36.636  
    coh706=46.3325       18.73        19.162        19.66       20.236        20.899        21.664        26.095        27.659        29.462        31.542        33.942        36.71  
    coh707=46.426       18.768        19.201       19.701       20.277        20.942        21.708        26.149        27.715        29.522        31.607        34.011       36.785  
    coh708=46.5195      18.806         19.24       19.741       20.318        20.984        21.753        26.202        27.771        29.582        31.671         34.08        36.86  
    coh709=46.6129      18.844        19.279       19.781       20.359        21.027        21.797        26.255        27.828        29.642        31.735        34.149       36.935  
    coh710=46.7064      18.882        19.318       19.821         20.4        21.069        21.841        26.308        27.884        29.702        31.799        34.219       37.009  
    coh711=46.7998      18.921        19.357       19.861       20.442        21.112        21.885        26.361         27.94        29.762        31.864        34.288       37.084  
    coh712=46.8933      18.959        19.396       19.901       20.483        21.154        21.929        26.414        27.997        29.822        31.928        34.357       37.159  
    coh713=46.9867      18.997        19.435       19.941       20.524        21.197        21.973        26.467        28.053        29.882        31.992        34.426       37.234  
    coh714=47.0802      19.035        19.474       19.981       20.565         21.24        22.017        26.521        28.109        29.942        32.056        34.495       37.308  
    coh715=47.1737      19.073        19.513       20.021       20.607        21.282        22.061        26.574        28.166        30.002         32.12        34.564       37.383  
    coh716=47.2671      19.111        19.552       20.061       20.648        21.325        22.106        26.627        28.222        30.062        32.185        34.633       37.458  
    coh717=47.3606      19.149        19.591       20.101       20.689        21.367         22.15         26.68        28.278        30.122        32.249        34.702       37.533  
    coh718=47.454       19.188         19.63       20.141        20.73         21.41        22.194        26.733        28.335        30.182        32.313        34.772       37.607  
    coh719=47.5475      19.226        19.669       20.181       20.771        21.452        22.238        26.786        28.391        30.242        32.377        34.841       37.682  
    coh720=47.6409      19.264        19.708       20.221       20.813        21.495        22.282        26.839        28.447        30.302        32.442         34.91       37.757  
    coh721=47.7344      19.302        19.747       20.261       20.854        21.537        22.326        26.893        28.504        30.362        32.506        34.979       37.832  
    coh722=47.8279       19.34        19.786       20.301       20.895         21.58         22.37        26.946         28.56        30.422         32.57        35.048       37.907  
    coh723=47.9213      19.378        19.825       20.341       20.936        21.623        22.414        26.999        28.616        30.482        32.634        35.117       37.981  
    coh724=48.0148      19.416        19.864       20.381       20.977        21.665        22.459        27.052        28.673        30.542        32.699        35.186       38.056  
    coh725=48.1082      19.455        19.903       20.421       21.019        21.708        22.503        27.105        28.729        30.602        32.763        35.255       38.131  
    coh726=48.2017      19.493        19.942       20.461        21.06         21.75        22.547        27.158        28.785        30.662        32.827        35.325       38.206  
    coh727=48.2952      19.531        19.982       20.501       21.101        21.793        22.591        27.212        28.842        30.722        32.891        35.394        38.28  
    coh728=48.3886      19.569        20.021       20.541       21.142        21.835        22.635        27.265        28.898        30.782        32.956        35.463       38.355  
    coh729=48.4821      19.607         20.06       20.581       21.183        21.878        22.679        27.318        28.954        30.842         33.02        35.532        38.43  
    coh730=48.5755      19.645        20.099       20.621       21.225        21.921        22.723        27.371        29.011        30.902        33.084        35.601       38.505  
    coh731=48.669       19.683        20.138       20.662       21.266        21.963        22.767        27.424        29.067        30.962        33.148         35.67       38.579  
    coh732=48.7624      19.722        20.177       20.702       21.307        22.006        22.811        27.477        29.123        31.022        33.213        35.739       38.654  
    coh733=48.8559       19.76        20.216       20.742       21.348        22.048        22.856         27.53         29.18        31.082        33.277        35.809       38.729  
    coh734=48.9494      19.798        20.255       20.782        21.39        22.091          22.9        27.584        29.236        31.142        33.341        35.878       38.804  
    coh735=49.0428      19.836        20.294       20.822       21.431        22.133        22.944        27.637        29.292        31.202        33.405        35.947       38.879  
    coh736=49.1363      19.874        20.333       20.862       21.472        22.176        22.988         27.69        29.349        31.262         33.47        36.016       38.953  
    coh737=49.2297      19.912        20.372       20.902       21.513        22.218        23.032        27.743        29.405        31.322        33.534        36.085       39.028  
    coh738=49.3232       19.95        20.411       20.942       21.554        22.261        23.076        27.796        29.461        31.382        33.598        36.154       39.103  
    coh739=49.4166      19.989         20.45       20.982       21.596        22.304         23.12        27.849        29.518        31.442        33.662        36.223       39.178  
    coh740=49.5101      20.027        20.489       21.022       21.637        22.346        23.164        27.902        29.574        31.502        33.727        36.292       39.252  
    coh741=49.6036      20.065        20.528       21.062       21.678        22.389        23.209        27.956         29.63        31.562        33.791        36.362       39.327  
    coh742=49.697       20.103        20.567       21.102       21.719        22.431        23.253        28.009        29.687        31.622        33.855        36.431       39.402  
    coh743=49.7905      20.141        20.606       21.142        21.76        22.474        23.297        28.062        29.743        31.682        33.919          36.5       39.477  
    coh744=49.8839      20.179        20.645       21.182       21.802        22.516        23.341        28.115        29.799        31.742        33.983        36.569       39.551  
    coh745=49.9774      20.217        20.684       21.222       21.843        22.559        23.385        28.168        29.856        31.802        34.048        36.638       39.626  
    coh746=50.0709      20.256        20.723       21.262       21.884        22.602        23.429        28.221        29.912        31.862        34.112        36.707       39.701  
    coh747=50.1643      20.294        20.762       21.302       21.925        22.644        23.473        28.274        29.968        31.922        34.176        36.776       39.776  
    coh748=50.2578      20.332        20.801       21.342       21.967        22.687        23.517        28.328        30.025        31.982         34.24        36.845        39.85  
    coh749=50.3512       20.37         20.84       21.382       22.008        22.729        23.562        28.381        30.081        32.042        34.305        36.915       39.925  
    coh750=50.4447      20.408        20.879       21.422       22.049        22.772        23.606        28.434        30.137        32.102        34.369        36.984           40  

</pre><pre class="codeinput"><span class="keyword">end</span>
</pre><pre class="codeoutput">
ans = 

  Map with properties:

        Count: 14
      KeyType: char
    ValueType: any

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% For Inf Tabulate Value and Policy Iteration Results, Store to Mat, Graph Results
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*

%%
function [result_map] = ff_az_fibs_vf_post(varargin)
%% FF_AZ_FIBS_VF_POST post formal informal results
% In addition to regular post results
%
% @param param_map container parameter container
%
% @param support_map container support container
%
% @param armt_map container container with states, choices and shocks
% grids that are inputs for grid based solution algorithm
%
% @param func_map container container with function handles for
% consumption cash-on-hand etc.
%
% @param result_map container contains policy function matrix, value
% function matrix, iteration results
%
% @return result_map container add coh consumption and other matrixes to
% result_map also add table versions of val pol and iter matries
%
% @example
%
%    bl_input_override = true;
%    result_map = containers.Map('KeyType','char', 'ValueType','any');
%    result_map('mt_val') = mt_val;
%    result_map('mt_pol_a') = mt_pol_a;
%    result_map('ar_val_diff_norm') = ar_val_diff_norm(1:it_iter_last);
%    result_map('ar_pol_diff_norm') = ar_pol_diff_norm(1:it_iter_last);
%    result_map('mt_pol_perc_change') = mt_pol_perc_change(1:it_iter_last, :);
%    result_map = ff_az_vf_post(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
%
% @include
%
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/solvepost/html/ff_az_vf_post_graph.html ff_az_vf_post_graph>
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_set_default_param.html ffs_az_set_default_param>
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_get_funcgrid.html ffs_az_get_funcgrid>
%

%% Default

params_len = length(varargin);
bl_input_override = 0;
if (params_len == 6)
    bl_input_override = varargin{6};
end

if (bl_input_override)
    % if invoked from outside overrid fully
    [param_map, support_map, armt_map, func_map, result_map, ~] = varargin{:};
    
    
else
    
    clear all;
    close all;
    
    % 1. internal invoke for testing
    it_param_set = 4;
    bl_input_override = true;
    
    % 2. Get Parameters
    [param_map, support_map] = ffs_abz_fibs_set_default_param(it_param_set);
    [armt_map, func_map] = ffs_abz_fibs_get_funcgrid(param_map, support_map, bl_input_override); % 1 for override
    
    % 3. Get Arrays and Functions
    params_group = values(armt_map, {'ar_a', 'ar_z'});
    [ar_a, ar_z] = params_group{:};
    params_group = values(func_map, {'f_util_standin', 'f_cons_coh_fbis', 'f_cons_coh_save', 'f_coh'});
    [f_util_standin, f_cons_coh_fbis, f_cons_coh_save, f_coh] = params_group{:};
    
    % 4. Value Default
    mt_val = f_util_standin(ar_z, ar_a');
    
    % 5. default optimal asset choices (overall, interesint + principle from
    % different formal and informal sources following how model is solved)
    mt_pol_a = zeros(size(mt_val)) + ar_a'*(cumsum(sort(ar_z))/sum(ar_z)*0.4 + 0.4);
    
    % 6. Default COH
    mt_coh = f_coh(ar_z, ar_a');
    
    % 7. Set Default Consumption
    mt_pol_a_pos_idx = (mt_pol_a > 0);
    mt_pol_cons = zeros(size(mt_pol_a));
    mt_pol_cons(mt_pol_a_pos_idx) = f_cons_coh_save(mt_coh(mt_pol_a_pos_idx), mt_pol_a(mt_pol_a_pos_idx));
    mt_pol_cons(~mt_pol_a_pos_idx) = f_cons_coh_fbis(mt_coh(~mt_pol_a_pos_idx), mt_pol_a(~mt_pol_a_pos_idx));
    
    % 8. Find Formal Informal Choices given Fake Data
    mt_pol_b_bridge = zeros(length(ar_a),length(ar_z));
    mt_pol_inf_borr_nobridge = zeros(length(ar_a),length(ar_z));
    mt_pol_for_borr = zeros(length(ar_a),length(ar_z));
    mt_pol_for_save = zeros(length(ar_a),length(ar_z));
    
    % 9. Solve for formal and informal combinations given the overall fake
    % choices.
    for it_z_i = 1:length(ar_z)
        for it_a_j = 1:length(ar_a)
            fl_z = ar_z(it_z_i);
            fl_a = ar_a(it_a_j);
            fl_coh = f_coh(fl_z, fl_a);
            fl_a_opti = mt_pol_a(it_a_j, it_z_i);
            
            % call formal and informal function.
            [~, fl_opti_b_bridge, fl_opti_inf_borr_nobridge, fl_opti_for_borr, fl_opti_for_save] = ...
                ffs_fibs_min_c_cost_bridge(fl_a_opti, fl_coh, ...
                param_map, support_map, armt_map, func_map, bl_input_override);
            
            % store savings and borrowing formal and inf optimal choices
            mt_pol_b_bridge(it_a_j,it_z_i) = fl_opti_b_bridge;
            mt_pol_inf_borr_nobridge(it_a_j,it_z_i) = fl_opti_inf_borr_nobridge;
            mt_pol_for_borr(it_a_j,it_z_i) = fl_opti_for_borr;
            mt_pol_for_save(it_a_j,it_z_i) = fl_opti_for_save;
            
        end
    end
    
    % 10. Set Results Map
    result_map = containers.Map('KeyType','char', 'ValueType','any');
    result_map('mt_val') = mt_val;
    result_map('cl_mt_pol_a') = {mt_pol_a, zeros(1)};
    result_map('cl_mt_coh') = {mt_coh, zeros(1)};
    
    result_map('cl_mt_pol_c') = {mt_pol_cons, zeros(1)};
    result_map('cl_mt_pol_b_bridge') = {mt_pol_b_bridge, zeros(1)};
    result_map('cl_mt_pol_inf_borr_nobridge') = {mt_pol_inf_borr_nobridge, zeros(1)};
    result_map('cl_mt_pol_for_borr') = {mt_pol_for_borr, zeros(1)};
    result_map('cl_mt_pol_for_save') = {mt_pol_for_save, zeros(1)};
    
    % Input over-ride
    bl_input_override = true;
    result_map = ffs_fibs_identify_discrete(result_map, bl_input_override);
    
    % Control which results to graph
    support_map('bl_graph_forinf_discrete') = true;
    support_map('bl_graph_forinf_pol_lvl') = true;
    support_map('bl_graph_forinf_pol_pct') = true;
    
    support_map('bl_graph') = true;
    
end

%% Parse Parameter

% armt_map standards
params_group = values(armt_map, {'ar_z'});
[ar_z] = params_group{:};    

% result_map standards
params_group = values(result_map, {'cl_mt_pol_a'});
[cl_mt_pol_a] = params_group{:};
[mt_pol_a] = deal(cl_mt_pol_a{1});

% result_map continuous formal informal choices
params_group = values(result_map, {'cl_mt_pol_b_bridge', 'cl_mt_pol_inf_borr_nobridge', ...
    'cl_mt_pol_for_borr', 'cl_mt_pol_for_save'});
[cl_mt_pol_b_bridge, cl_mt_pol_inf_borr_nobridge, cl_mt_pol_for_borr, cl_mt_pol_for_save] = params_group{:};
[mt_pol_b_bridge, mt_pol_inf_borr_nobridge, mt_pol_for_borr, mt_pol_for_save] = ...
    deal(cl_mt_pol_b_bridge{1}, cl_mt_pol_inf_borr_nobridge{1}, cl_mt_pol_for_borr{1}, cl_mt_pol_for_save{1});

% support_map
params_group = values(support_map, {'bl_display_final', 'it_display_final_rowmax', 'it_display_final_colmax'});
[bl_display_final, it_display_final_rowmax, it_display_final_colmax] = params_group{:};
params_group = values(support_map, {'bl_graph', 'bl_graph_onebyones'});
[bl_graph] = params_group{:};
params_group = values(support_map, {'bl_mat', 'st_mat_path', 'st_mat_prefix', 'st_mat_name_main', 'st_mat_suffix'});
[bl_mat, st_mat_path, st_mat_prefix, st_mat_name_main, st_mat_suffix] = params_group{:};

%% Get Size of Endogenous and Exogenous State

it_endostates_n = size(mt_pol_a, 1);
it_exostates_n = size(mt_pol_a, 2);

%% Generate Consumption and Income Matrix

if (~isKey(result_map, 'cl_mt_pol_c'))
    params_group = values(armt_map, {'ar_a', 'ar_z'});
    [ar_a, ar_z] = params_group{:};    
    f_cons = func_map('f_cons');
    mt_cons = f_cons(ar_z, ar_a', mt_pol_a);
    result_map('cl_mt_pol_c') = {mt_cons, zeros(1)};
end
if (~isKey(result_map, 'cl_mt_coh'))
    params_group = values(armt_map, {'ar_a', 'ar_z'});
    [ar_a, ar_z] = params_group{:};    
    f_coh = func_map('f_coh');
    mt_coh = f_coh(ar_z, ar_a');
    result_map('cl_mt_coh') = {mt_coh, zeros(1)};
else
    params_group = values(result_map, {'cl_mt_coh'});
    [cl_mt_coh] = params_group{:};
    [mt_coh] = deal(cl_mt_coh{1});
end

%% Save Mat

if (bl_mat)
    mkdir(support_map('st_mat_path'));
    st_file_name = [st_mat_prefix st_mat_name_main st_mat_suffix];
    save(strcat(st_mat_path, st_file_name));
end

%% Generate and Save Graphs

if (bl_graph)
    bl_input_override = true;
    ff_az_fibs_vf_post_graph(param_map, support_map, armt_map, func_map, result_map, bl_input_override);
end

%% Display Val Pol Iter Table

if (bl_display_final)
    
    % Display Values by States
    % at most display 11 columns of shocks
    % at most display 50 rows for states
    % display first and last
    if (it_endostates_n >= it_display_final_rowmax)
        ar_it_rows = (1:1:round(it_display_final_rowmax/2));
        ar_it_rows = [ar_it_rows ((it_endostates_n)-round(it_display_final_rowmax/2)+1):1:(it_endostates_n)];
    else
        ar_it_rows = 1:1:it_endostates_n;
    end
    if (it_exostates_n >= it_display_final_colmax)
        ar_it_cols = (1:1:round(it_display_final_colmax/2));
        ar_it_cols = [ar_it_cols ((it_exostates_n)-round(it_display_final_colmax/2)+1):1:(it_exostates_n)];
    else
        ar_it_cols = 1:1:it_exostates_n;
    end
    mt_pol_b_bridge_print = mt_pol_b_bridge(ar_it_rows, ar_it_cols);
    mt_pol_inf_borr_nobridge_print = mt_pol_inf_borr_nobridge(ar_it_rows, ar_it_cols);
    mt_pol_for_borr_print = mt_pol_for_borr(ar_it_rows, ar_it_cols);
    mt_pol_for_save_print = mt_pol_for_save(ar_it_rows, ar_it_cols);
    
    % Display Optimal Values
    tb_mt_pol_b_bridge_print = array2table(mt_pol_b_bridge_print);
    tb_mt_pol_b_bridge_print.Properties.RowNames = strcat('coh', string(ar_it_rows), '=', string(mt_coh(ar_it_rows)));
    tb_mt_pol_b_bridge_print.Properties.VariableNames = matlab.lang.makeValidName(strcat('z', string(ar_it_cols), '=', string(ar_z(ar_it_cols))));
    disp('mt_pol_b_bridge_print: bridge loans');
    disp(tb_mt_pol_b_bridge_print);
    
    % Display Optimal Values
    tb_mt_pol_inf_borr_nobridge_print = array2table(mt_pol_inf_borr_nobridge_print);
    tb_mt_pol_inf_borr_nobridge_print.Properties.RowNames = strcat('coh', string(ar_it_rows), '=', string(mt_coh(ar_it_rows)));
    tb_mt_pol_inf_borr_nobridge_print.Properties.VariableNames = matlab.lang.makeValidName(strcat('z', string(ar_it_cols), '=', string(ar_z(ar_it_cols))));
    disp('mt_pol_inf_borr_nobridge_print: bridge loans');
    disp(tb_mt_pol_inf_borr_nobridge_print);
    
    % Display Optimal Values
    tb_mt_pol_for_borr_print = array2table(mt_pol_for_borr_print);
    tb_mt_pol_for_borr_print.Properties.RowNames = strcat('coh', string(ar_it_rows), '=', string(mt_coh(ar_it_rows)));
    tb_mt_pol_for_borr_print.Properties.VariableNames = matlab.lang.makeValidName(strcat('z', string(ar_it_cols), '=', string(ar_z(ar_it_cols))));
    disp('mt_pol_for_borr_print: formal borrowing');
    disp(tb_mt_pol_for_borr_print);
    
    % Display Optimal Values
    tb_mt_pol_for_save_print = array2table(mt_pol_for_save_print);
    tb_mt_pol_for_save_print.Properties.RowNames = strcat('coh', string(ar_it_rows), '=', string(mt_coh(ar_it_rows)));
    tb_mt_pol_for_save_print.Properties.VariableNames = matlab.lang.makeValidName(strcat('z', string(ar_it_cols), '=', string(ar_z(ar_it_cols))));
    disp('mt_pol_for_save_print: formal savings');
    disp(tb_mt_pol_for_save_print);    
    
end

end

##### SOURCE END #####
--></body></html>