
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Analyze Distributional Results</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-07-22"><meta name="DC.source" content="ff_az_test_analyze.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Analyze Distributional Results</h1><!--introduction--><p><b>back to <a href="https://fanwangecon.github.io">Fan</a>'s <a href="https://fanwangecon.github.io/CodeDynaAsset/">Dynamic Assets Repository</a> Table of Content.</b></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#2">FF_AZ_TEST_ANALYZE post solution simulation</a></li><li><a href="#3">Default Parameter</a></li><li><a href="#4">Array Parameters</a></li><li><a href="#5">Default</a></li><li><a href="#6">Parse Parameters 1</a></li><li><a href="#7">Parse Parameters 2</a></li><li><a href="#8">Cross-Simulate Model Along Parameters</a></li><li><a href="#9">Specify Outcome Variables to Plot</a></li><li><a href="#10">Get Var Descs</a></li><li><a href="#11">Graph Outcomes</a></li><li><a href="#13">Loop over Subplots (different sets of Outcomes)</a></li><li><a href="#15">Generate Graphs</a></li></ul></div><pre class="codeinput"><span class="keyword">function</span> [tb_outcomes, support_map] = ff_az_test_analyze(varargin)
</pre><h2 id="2">FF_AZ_TEST_ANALYZE post solution simulation</h2><p>Simulate the model along various dimensions, and produce graphical outputs to show aggregate/distributional statistics.</p><p>@ar_it_plot_sets array integer array of which statistics graphs to generate, see line 128. Could add additional statistics to that conditional list.</p><p>@param st_simu_type string cross vs gridd simulation. cross: with (x,y), vary X fixing y, vary Y fixing x. grid: all (x,y) \in (X,Y)</p><div><ol><li><i>st_simu_type</i> = 'c' for cross simulate, if 'c', then each array value of param_tstar_map container is simulated over one by one. So if there are two arrays associated with two keys in param_tstar_map with length N1 and N2, the total number of simulations equals to N1 + N2.</li><li><i>st_simu_type</i> = 'g' for grid simulate, if 'g', then all possible combinations of the arrays in param_tstar_map are used to create combinations of parameter values. So if there are two arrays with lengths N1 and N2, there will be N1*N2 number of simulations</li><li><i>st_simu_type</i> = 'r' for random simulate, if 'r', then should specify param_map('it_st_simu_type_g_seed') value. Only the minimum and the maximum values for each array in param_tstar_map matters. Based on these minimum and maximum, and also what is in param_map('it_st_simu_type_g_simun'). Random parameter values will be drawn.</li></ol></div><p>@param it_size_type integer:</p><div><ol><li>it_size_type = 1 is quick grid</li><li>it_size_type = 2 is standard grid</li><li>it_size_type = 3 is denser grid</li></ol></div><p>@param cl_st_param_keys cell string cell array container parameters that we are simulating over</p><p>@param param_map container parameter container</p><p>@param support_map container support container</p><p>@param param_tstar_map container map of arrays with keys that are parameter keys. This could be specified outside with array values to override defaults here.</p><p>@param param_desc_map container map of strings for each parameter key.</p><p>@param tb_outcomes table table of simulation outcomes for various statistics for each set of parameters. Columns are statistics, rows are outcome variables, groups of rows are different simulations.</p><p>@include</p><div><ul><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solvepost/html/ff_az_test_gen.html">ff_az_test_gen</a></li><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_vf_vecsv.html">ff_az_vf_vecsv</a></li><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html">ff_az_ds_vecsv</a></li><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_set_default_param.html">ffs_az_set_default_param</a></li><li><a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_get_funcgrid.html">ffs_az_get_funcgrid</a></li></ul></div><p>@seealso</p><div><ul><li><i>SPEED</i> savings only overall benchmark speed testing: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_speed/html/fsi_az_ds_vecsv_speed.html">fsi_az_ds_vecsv_speed</a></li><li><i>PREFERENCE</i> savings only preference testing: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_pref/html/fsi_az_ds_vecsv_pref.html">fsi_az_ds_vecsv_pref</a></li><li><i>PREFERENCE</i> savings only preference testing cross: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_pref/html/fsi_az_ds_vecsv_pref_cross.html">fsi_az_ds_vecsv_pref_cross</a></li><li><i>SHOCK</i> savings only shock testing: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_shock/html/fsi_az_ds_vecsv_shock.html">fsi_az_ds_vecsv_shock</a></li><li><i>SHOCK</i> savings only shock testing cross: <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_shock/html/fsi_az_ds_vecsv_shock_cross.html">fsi_az_ds_vecsv_shock_cross</a></li><li><i>PRICE</i> savings only wage and interest rate testing cross: adjust wage and savings rate <a href="https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_price/html/fsi_az_ds_vecsv_price_cross.html">fsi_az_ds_vecsv_price_cross</a></li></ul></div><h2 id="3">Default Parameter</h2><pre class="codeinput">ar_it_plot_sets = [1,2,4,5,6,7];
it_param_set = 9;
[param_map, support_map] = ffs_az_set_default_param(it_param_set);
support_map(<span class="string">'bl_replacefile'</span>) = false;
support_map(<span class="string">'bl_graph_onebyones'</span>) = true;
support_map(<span class="string">'bl_display_graph_stats'</span>) = true;
</pre><h2 id="4">Array Parameters</h2><p>initiate empty map</p><pre class="codeinput">st_simu_type = <span class="string">'c'</span>; <span class="comment">% if false, simu full grid</span>
it_size_type = 2;
cl_st_param_keys = {<span class="string">'fl_crra'</span>, <span class="string">'fl_beta'</span>};

param_tstar_map = containers.Map(<span class="string">'KeyType'</span>,<span class="string">'char'</span>, <span class="string">'ValueType'</span>,<span class="string">'any'</span>);
it_simu_vec_len = 5;
param_tstar_map(<span class="string">'fl_crra'</span>) = linspace(1, 5, it_simu_vec_len);
param_tstar_map(<span class="string">'fl_beta'</span>) = linspace(0.87, 0.97, it_simu_vec_len);

param_desc_map = containers.Map(<span class="string">'KeyType'</span>,<span class="string">'char'</span>, <span class="string">'ValueType'</span>,<span class="string">'any'</span>);
param_desc_map(<span class="string">'fl_crra'</span>) = {<span class="string">'CRRA'</span>};
param_desc_map(<span class="string">'fl_beta'</span>) = {<span class="string">'Discount'</span>};
</pre><h2 id="5">Default</h2><pre class="codeinput">default_params = {ar_it_plot_sets <span class="keyword">...</span>
                    st_simu_type it_size_type cl_st_param_keys <span class="keyword">...</span>
                    param_map support_map param_tstar_map param_desc_map};
</pre><h2 id="6">Parse Parameters 1</h2><p>override default set above if any parameters are updated</p><pre class="codeinput">params_len = length(varargin);
[default_params{1:params_len}] = varargin{:};

ar_it_plot_sets = default_params{1};
st_simu_type = default_params{2};
it_size_type = default_params{3};
cl_st_param_keys = default_params{4};

param_map = [param_map; default_params{5}];
support_map = [support_map; default_params{6}];
param_tstar_map = [param_tstar_map; default_params{7}];
param_desc_map = [param_desc_map; default_params{8}];
</pre><h2 id="7">Parse Parameters 2</h2><pre class="codeinput">params_group = values(support_map, <span class="keyword">...</span>
    {<span class="string">'bl_graph_onebyones'</span>, <span class="string">'bl_display_graph_stats'</span>});
[bl_graph_onebyones, bl_display_graph_stats] = params_group{:};
</pre><h2 id="8">Cross-Simulate Model Along Parameters</h2><pre class="codeinput">[tb_outcomes, support_map, param_desc_map] = ff_az_test_gen( <span class="keyword">...</span>
    st_simu_type, it_size_type, cl_st_param_keys, <span class="keyword">...</span>
    param_map, support_map, param_tstar_map, param_desc_map);
</pre><pre class="codeoutput">----------------------------------------
----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Begin: Show all key and value pairs from container
CONTAINER NAME: SUPPORT_MAP
----------------------------------------
  Map with properties:

        Count: 48
      KeyType: char
    ValueType: any

xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
----------------------------------------
pos = 1 ; key = bl_display ; val = false
pos = 2 ; key = bl_display_defparam ; val = false
pos = 3 ; key = bl_display_dist ; val = false
pos = 4 ; key = bl_display_final ; val = false
pos = 5 ; key = bl_display_final_dist ; val = true
pos = 6 ; key = bl_display_final_dist_detail ; val = false
pos = 7 ; key = bl_display_funcgrids ; val = false
pos = 8 ; key = bl_display_graph_stats ; val = true
pos = 9 ; key = bl_display_simu_stats ; val = true
pos = 10 ; key = bl_graph ; val = true
pos = 11 ; key = bl_graph_coh_t_coh ; val = false
pos = 12 ; key = bl_graph_funcgrids ; val = false
pos = 13 ; key = bl_graph_onebyones ; val = true
pos = 14 ; key = bl_graph_pol_lvl ; val = false
pos = 15 ; key = bl_graph_pol_pct ; val = false
pos = 16 ; key = bl_graph_val ; val = false
pos = 17 ; key = bl_img_save ; val = false
pos = 18 ; key = bl_mat ; val = false
pos = 19 ; key = bl_mat_test ; val = true
pos = 20 ; key = bl_post ; val = true
pos = 21 ; key = bl_profile ; val = false
pos = 22 ; key = bl_profile_dist ; val = false
pos = 23 ; key = bl_replacefile ; val = false
pos = 24 ; key = bl_time ; val = false
pos = 25 ; key = bl_timer ; val = true
pos = 26 ; key = it_display_every ; val = 20
pos = 27 ; key = it_display_final_colmax ; val = 12
pos = 28 ; key = it_display_final_rowmax ; val = 100
pos = 29 ; key = it_display_summmat_colmax ; val = 5
pos = 30 ; key = it_display_summmat_rowmax ; val = 5
pos = 31 ; key = st_img_name_main ; val = _default
pos = 32 ; key = st_img_path ; val = C:/Users/fan/CodeDynaAsset//m_az//solve/img/
pos = 33 ; key = st_img_prefix ; val = 
pos = 34 ; key = st_img_suffix ; val = _p9.png
pos = 35 ; key = st_mat_name_main ; val = _default
pos = 36 ; key = st_mat_path ; val = C:/Users/fan/CodeDynaAsset//m_az//solve/mat/
pos = 37 ; key = st_mat_prefix ; val = 
pos = 38 ; key = st_mat_suffix ; val = _p9
pos = 39 ; key = st_mat_test_name_main ; val = r
pos = 40 ; key = st_mat_test_path ; val = C:/Users/fan/CodeDynaAsset//m_az//test/ff_az_ds_vecsv/mat/
pos = 41 ; key = st_mat_test_prefix ; val = 
pos = 42 ; key = st_mat_test_suffix ; val = _g12_cc_t2l10
pos = 43 ; key = st_matimg_path_root ; val = C:/Users/fan/CodeDynaAsset//m_az/
pos = 44 ; key = st_profile_name_main ; val = _default
pos = 45 ; key = st_profile_path ; val = C:/Users/fan/CodeDynaAsset//m_az//solve/profile/
pos = 46 ; key = st_profile_prefix ; val = 
pos = 47 ; key = st_profile_suffix ; val = _p9
pos = 48 ; key = st_title_prefix ; val = 
----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Scalars in Container and Sizes and Basic Statistics
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                    i     idx    value
                                    __    ___    _____

    bl_display                       1     1        0 
    bl_display_defparam              2     2        0 
    bl_display_dist                  3     3        0 
    bl_display_final                 4     4        0 
    bl_display_final_dist            5     5        1 
    bl_display_final_dist_detail     6     6        0 
    bl_display_funcgrids             7     7        0 
    bl_display_graph_stats           8     8        1 
    bl_display_simu_stats            9     9        1 
    bl_graph                        10    10        1 
    bl_graph_coh_t_coh              11    11        0 
    bl_graph_funcgrids              12    12        0 
    bl_graph_onebyones              13    13        1 
    bl_graph_pol_lvl                14    14        0 
    bl_graph_pol_pct                15    15        0 
    bl_graph_val                    16    16        0 
    bl_img_save                     17    17        0 
    bl_mat                          18    18        0 
    bl_mat_test                     19    19        1 
    bl_post                         20    20        1 
    bl_profile                      21    21        0 
    bl_profile_dist                 22    22        0 
    bl_replacefile                  23    23        0 
    bl_time                         24    24        0 
    bl_timer                        25    25        1 
    it_display_every                26    26       20 
    it_display_final_colmax         27    27       12 
    it_display_final_rowmax         28    28      100 
    it_display_summmat_colmax       29    29        5 
    it_display_summmat_rowmax       30    30        5 

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Strings in Container and Sizes and Basic Statistics
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                             i     idx
                             __    ___

    st_img_name_main          1    31 
    st_img_path               2    32 
    st_img_prefix             3    33 
    st_img_suffix             4    34 
    st_mat_name_main          5    35 
    st_mat_path               6    36 
    st_mat_prefix             7    37 
    st_mat_suffix             8    38 
    st_mat_test_name_main     9    39 
    st_mat_test_path         10    40 
    st_mat_test_prefix       11    41 
    st_mat_test_suffix       12    42 
    st_matimg_path_root      13    43 
    st_profile_name_main     14    44 
    st_profile_path          15    45 
    st_profile_prefix        16    46 
    st_profile_suffix        17    47 
    st_title_prefix          18    48 

----------------------------------------
----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Begin: Show all key and value pairs from container
CONTAINER NAME: PARAM_MAP
----------------------------------------
  Map with properties:

        Count: 29
      KeyType: char
    ValueType: any

xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
----------------------------------------
pos = 1 ; key = ar_param_keys_idx ;rown= 1 ,coln= 2
ar_param_keys_idx :mu= 1.5 ,sd= 0.70711 ,min= 1 ,max= 2
               zi_1_c1    zi_2_c2
               _______    _______

    zi_1_r1       1          2   

pos = 2 ; key = bl_loglin ; val = false
pos = 3 ; key = cl_st_param_keys ; val = fl_crra
pos = 4 ; key = fl_a_max ; val = 50
pos = 5 ; key = fl_a_min ; val = 0
pos = 6 ; key = fl_b_bd ; val = 0
pos = 7 ; key = fl_beta ; val = 0.94
pos = 8 ; key = fl_crra ; val = 1.5
pos = 9 ; key = fl_loglin_threshold ; val = 1
pos = 10 ; key = fl_nan_replace ; val = -9999
pos = 11 ; key = fl_r_save ; val = 0.025
pos = 12 ; key = fl_tol_dist ; val = 1e-05
pos = 13 ; key = fl_tol_pol ; val = 1e-05
pos = 14 ; key = fl_tol_val ; val = 1e-05
pos = 15 ; key = fl_w ; val = 1.28
pos = 16 ; key = fl_z_mu ; val = 0
pos = 17 ; key = fl_z_rho ; val = 0.8
pos = 18 ; key = fl_z_sig ; val = 0.2
pos = 19 ; key = it_a_n ; val = 750
pos = 20 ; key = it_maxiter_dist ; val = 1000
pos = 21 ; key = it_maxiter_val ; val = 1000
pos = 22 ; key = it_size_type ; val = 2
pos = 23 ; key = it_st_simu_type_g_seed ; val = 123
pos = 24 ; key = it_st_simu_type_g_simun ; val = 20
pos = 25 ; key = it_tol_pol_nochange ; val = 25
pos = 26 ; key = it_trans_power_dist ; val = 1000
pos = 27 ; key = it_z_n ; val = 15
pos = 28 ; key = st_analytical_stationary_type ; val = eigenvector
pos = 29 ; key = st_model ; val = az
----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Matrix in Container and Sizes and Basic Statistics
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                         i    idx    rowN    colN    mean      std      min    max
                         _    ___    ____    ____    ____    _______    ___    ___

    ar_param_keys_idx    1     1      1       2      1.5     0.70711     1      2 

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Scalars in Container and Sizes and Basic Statistics
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                               i     idx    value
                               __    ___    _____

    bl_loglin                   1     2         0
    fl_a_max                    2     4        50
    fl_a_min                    3     5         0
    fl_b_bd                     4     6         0
    fl_beta                     5     7      0.94
    fl_crra                     6     8       1.5
    fl_loglin_threshold         7     9         1
    fl_nan_replace              8    10     -9999
    fl_r_save                   9    11     0.025
    fl_tol_dist                10    12     1e-05
    fl_tol_pol                 11    13     1e-05
    fl_tol_val                 12    14     1e-05
    fl_w                       13    15      1.28
    fl_z_mu                    14    16         0
    fl_z_rho                   15    17       0.8
    fl_z_sig                   16    18       0.2
    it_a_n                     17    19       750
    it_maxiter_dist            18    20      1000
    it_maxiter_val             19    21      1000
    it_size_type               20    22         2
    it_st_simu_type_g_seed     21    23       123
    it_st_simu_type_g_simun    22    24        20
    it_tol_pol_nochange        23    25        25
    it_trans_power_dist        24    26      1000
    it_z_n                     25    27        15

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Strings in Container and Sizes and Basic Statistics
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                     i    idx
                                     _    ___

    cl_st_param_keys                 1     3 
    st_analytical_stationary_type    2    28 
    st_model                         3    29 

----------------------------------------
----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Begin: Show all key and value pairs from container
CONTAINER NAME: PARAM_TSTAR_MAP
----------------------------------------
  Map with properties:

        Count: 9
      KeyType: char
    ValueType: any

xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
----------------------------------------
----------------------------------------
pos = 1 ; key = fl_a_max ;rown= 1 ,coln= 5
fl_a_max :mu= 65 ,sd= 11.8585 ,min= 50 ,max= 80
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1      50        57.5        65        72.5        80   

pos = 2 ; key = fl_beta ;rown= 1 ,coln= 5
fl_beta :mu= 0.92 ,sd= 0.039528 ,min= 0.87 ,max= 0.97
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1     0.87       0.895      0.92       0.945      0.97  

pos = 3 ; key = fl_crra ;rown= 1 ,coln= 5
fl_crra :mu= 3 ,sd= 1.5811 ,min= 1 ,max= 5
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1       1          2          3          4          5   

pos = 4 ; key = fl_r_save ;rown= 1 ,coln= 5
fl_r_save :mu= 0.025 ,sd= 0.011859 ,min= 0.01 ,max= 0.04
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1     0.01      0.0175      0.025     0.0325      0.04  

pos = 5 ; key = fl_w ;rown= 1 ,coln= 5
fl_w :mu= 1.25 ,sd= 0.11859 ,min= 1.1 ,max= 1.4
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1      1.1       1.175      1.25       1.325       1.4  

pos = 6 ; key = fl_z_rho ;rown= 1 ,coln= 5
fl_z_rho :mu= 0.495 ,sd= 0.39133 ,min= 0 ,max= 0.99
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1       0       0.2475      0.495     0.7425      0.99  

pos = 7 ; key = fl_z_sig ;rown= 1 ,coln= 5
fl_z_sig :mu= 0.255 ,sd= 0.19369 ,min= 0.01 ,max= 0.5
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1     0.01      0.1325      0.255     0.3775       0.5  

pos = 8 ; key = it_a_n ;rown= 1 ,coln= 5
it_a_n :mu= 1300 ,sd= 948.6833 ,min= 100 ,max= 2500
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1      100        700       1300       1900       2500  

pos = 9 ; key = it_z_n ;rown= 1 ,coln= 5
it_z_n :mu= 15 ,sd= 7.9057 ,min= 5 ,max= 25
               zi_1_c1    zi_2_c2    zi_3_c3    zi_4_c4    zi_5_c5
               _______    _______    _______    _______    _______

    zi_1_r1       5         10         15         20         25   

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Matrix in Container and Sizes and Basic Statistics
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                 i    idx    rowN    colN    mean       std       min     max 
                 _    ___    ____    ____    _____    ________    ____    ____

    fl_a_max     1     1      1       5         65      11.859      50      80
    fl_beta      2     2      1       5       0.92    0.039528    0.87    0.97
    fl_crra      3     3      1       5          3      1.5811       1       5
    fl_r_save    4     4      1       5      0.025    0.011859    0.01    0.04
    fl_w         5     5      1       5       1.25     0.11859     1.1     1.4
    fl_z_rho     6     6      1       5      0.495     0.39133       0    0.99
    fl_z_sig     7     7      1       5      0.255     0.19369    0.01     0.5
    it_a_n       8     8      1       5       1300      948.68     100    2500
    it_z_n       9     9      1       5         15      7.9057       5      25

---------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxx
    'Vary These Paramet&#8230;'    'fl_crra'    'fl_beta'

xxxxxxxxxxxxxxxxxxxxxxxxxxx
---------------------------
---------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxx
    'Vary '    'CRRA'    ' ('    'fl_crra'    '): '    '1  2  3  4  5'

fl_crra:1.5
fl_beta:0.94
fl_w:1.28
fl_r_save:0.025
fl_z_rho:0.8
fl_z_sig:0.2
fl_a_max:50
it_z_n:15
it_a_n:750
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxx fl_crra = 1 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean        sd       coefofvar      min       max       pYis0     pYls0     pYgr0     pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20       p25       p35        p50         p65        p75       p80        p85       p90       p95       p99      p99_9 
                   _______    _______    _________    _______    ______    _______    _____    _______    _________    __________    _______    _______    _______    _______    _______    _______    ______    ______    ________    _______    _______    ______    _______    ______    ______    ______    ______

    cl_mt_pol_a    0.39061    0.70074      1.7939           0    48.598    0.39645      0      0.60355      0.39645    2.7479e-36          0          0          0          0          0          0         0         0    0.066756    0.26702    0.46729    0.6008    0.86782    1.2016    1.8692    3.3378    5.3405
    cl_mt_coh       1.6804     1.0129     0.60276     0.44468    54.536          0      0            1    0.0025817    2.7479e-36    0.44468    0.59175    0.68262    0.78744    0.90837    0.90837    1.0479    1.1821      1.3944      1.677     2.0102    2.2244     2.5398    2.9616    3.7143    5.4955    7.7401
    cl_mt_pol_c     1.2898    0.37696     0.29227     0.44468    5.9377          0      0            1    0.0025817    2.7479e-36    0.44468    0.59175    0.68262    0.78744    0.90837    0.90837    1.0479    1.1163      1.2789     1.4117     1.5468    1.6247     1.6744    1.8084    1.9368    2.2175    2.4964

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a         0.49104                     1              0.68742             0.96853              0.19638               0.74346      
    cl_mt_coh           0.68742               0.96853               1.0259                   1              0.33848               0.88652      
    cl_mt_pol_c         0.19638               0.74346              0.33848             0.88652               0.1421                     1      

xxxxx fl_crra = 2 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean       sd      coefofvar      min       max       pYis0     pYls0     pYgr0     pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15         p20         p25        p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                   ______    ______    _________    _______    ______    _______    _____    _______    _________    ___________    _______    _______    _______    _______    ________    ________    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a     1.341    1.6059      1.1976           0        50    0.14762      0      0.85238      0.14762    -5.2804e-36          0          0          0          0    0.066756    0.066756    0.13351    0.40053    0.80107    1.4019    1.9359    2.3364    2.8037    3.4713    4.6729    7.2096    10.481
    cl_mt_coh      2.6545    1.8815     0.70878     0.44468    54.536          0      0            1    0.0018409     1.5116e-35    0.44468    0.59175    0.78744    0.90837      1.0479      1.1821     1.2772     1.5953     2.0971    2.8038    3.4471    3.8665    4.4139    5.1666    6.4512    9.2454    12.746
    cl_mt_pol_c    1.3135    0.3224     0.24545     0.44468    4.5358          0      0            1    0.0018409     1.5116e-35    0.44468    0.59175    0.78744    0.90837     0.97846      1.0479     1.1182     1.2031     1.3039    1.4283    1.5229    1.5935    1.6353    1.7216    1.8334    2.0753    2.3262

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a           2.579                     1               3.0075             0.99536              0.42848               0.82757      
    cl_mt_coh            3.0075               0.99536               3.5399                   1              0.53243               0.87773      
    cl_mt_pol_c         0.42848               0.82757              0.53243             0.87773              0.10394                     1      

xxxxx fl_crra = 3 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean       sd       coefofvar      min       max       pYis0      pYls0     pYgr0     pYisMINY      pYisMAXY      p0_1        p1          p5         p10        p15        p20        p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                   ______    _______    _________    _______    ______    ________    _____    _______    _________    __________    _______    _______    ________    _______    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a    2.4357     2.3673      0.9719           0        50    0.049666      0      0.95033     0.049666    1.5116e-19          0          0    0.066756    0.13351    0.33378    0.46729    0.66756    1.0681    1.7356    2.6702    3.4713    4.0721    4.7397    5.6742    7.2096    10.481    14.753
    cl_mt_coh      3.7766     2.6281     0.69588     0.44468    54.536           0      0            1    0.0010806     3.075e-20    0.44468    0.66017     0.90837     1.1163     1.3669     1.5953     1.8138    2.2839    3.1006     4.127    5.0209    5.6297    6.3298    7.3473    8.9984    12.488    16.946
    cl_mt_pol_c    1.3409    0.29467     0.21975     0.44468    4.5358           0      0            1    0.0010806     3.075e-20    0.44468    0.65149     0.85587    0.97801     1.0512     1.1246     1.1437    1.2271    1.3515    1.4562    1.5451     1.583    1.6486    1.7087    1.8172    2.0387    2.2793

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a           5.604                     1               6.2119             0.99849               0.60793              0.87152      
    cl_mt_coh            6.2119               0.99849               6.9067                   1               0.69476              0.89716      
    cl_mt_pol_c         0.60793               0.87152              0.69476             0.89716              0.086829                    1      

xxxxx fl_crra = 4 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean       sd      coefofvar      min       max       pYis0      pYls0     pYgr0     pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                   ______    ______    _________    _______    ______    ________    _____    _______    _________    __________    _______    _______    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a    3.6456    3.0477       0.836           0        50    0.017458      0      0.98254     0.017458    1.4012e-13          0          0    0.20027    0.46729    0.80107    1.0681    1.3351    1.9359    2.8705    4.0721    5.1402    5.8077    6.6756    7.8104    9.6796    13.551    18.625
    cl_mt_coh      5.0168    3.3019     0.65817     0.44468    54.536           0      0            1    0.0005419     1.875e-14    0.51297    0.75104     1.1616     1.5268     1.8822    2.2155    2.5532    3.1931    4.2682    5.5683    6.6827    7.4158    8.3141    9.5169    11.462    15.602    20.827
    cl_mt_pol_c    1.3711    0.2794     0.20377     0.44468    4.5358           0      0            1    0.0005419     1.875e-14    0.51297    0.68262    0.91004     1.0111     1.0736     1.148    1.1763    1.2555    1.3732      1.48    1.5497    1.6064    1.6519     1.732    1.8334    2.0408    2.2622

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a          9.2886                     1               10.056             0.99933               0.76787              0.90175      
    cl_mt_coh            10.056               0.99933               10.902                   1               0.84594              0.91696      
    cl_mt_pol_c         0.76787               0.90175              0.84594             0.91696              0.078065                    1      

xxxxx fl_crra = 5 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean       sd       coefofvar      min       max       pYis0      pYls0     pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5        p10       p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                   ______    _______    _________    _______    ______    ________    _____    _______    __________    __________    ______    ________    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a    4.9436       3.69     0.74641           0        50    0.005859      0      0.99414      0.005859    8.8021e-11         0    0.066756    0.53405    1.0013    1.4019    1.8024    2.1362    2.9372    4.1389    5.6075    6.8758    7.6769    8.6782    9.9466     12.15    16.622    22.363
    cl_mt_coh      6.3472     3.9417       0.621     0.44468    54.536           0      0            1    0.00025955    8.1479e-12    0.5814     0.88789     1.5268    2.0742    2.5506    2.9682    3.3876    4.2195    5.5612    7.0825    8.4421    9.2715    10.338     11.72    13.967    18.681    24.599
    cl_mt_pol_c    1.4036    0.27131     0.19329     0.44468    4.5358           0      0            1    0.00025955    8.1479e-12    0.5814     0.78744    0.96858    1.0696    1.1441    1.1704    1.2297    1.2998    1.3957    1.4958    1.5796     1.622    1.6866     1.745    1.8571     2.052     2.289

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a          13.616                     1                14.54             0.99965               0.92352              0.92249      
    cl_mt_coh             14.54               0.99965               15.537                   1               0.99712              0.93242      
    cl_mt_pol_c         0.92352               0.92249              0.99712             0.93242              0.073607                    1      

---------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxx
  Columns 1 through 5

    'Vary '    'Discount'    ' ('    'fl_beta'    '): '

  Column 6

    '0.87       0.895 &#8230;'

fl_crra:1.5
fl_beta:0.94
fl_w:1.28
fl_r_save:0.025
fl_z_rho:0.8
fl_z_sig:0.2
fl_a_max:50
it_z_n:15
it_a_n:750
xxxxxxxxxxxxxxxxxxxxxxxxxxx
xxxxx fl_beta = 0.87 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                     mean        sd       coefofvar      min       max       pYis0     pYls0     pYgr0     pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15        p20        p25       p35       p50       p65        p75         p80         p85        p90        p95       p99      p99_9 
                   ________    _______    _________    _______    ______    _______    _____    _______    _________    __________    _______    _______    _______    _______    _______    _______    _______    ______    ______    ______    ________    ________    _______    _______    _______    ______    ______

    cl_mt_pol_a    0.083735    0.23518      2.8087           0    45.995    0.74808      0      0.25192      0.74808    3.4466e-36          0          0          0          0          0          0          0         0         0         0    0.066756    0.066756    0.13351    0.26702    0.46729    1.2016    2.2029
    cl_mt_coh        1.3658     0.6001     0.43937     0.44468    54.536          0      0            1    0.0027041    3.4466e-36    0.44468    0.59175    0.68262    0.78744    0.90837    0.90837    0.90837    1.0479    1.2088    1.3944      1.6085       1.677     1.8555     2.1292     2.5376     3.564    4.8641
    cl_mt_pol_c      1.2821    0.41818     0.32617     0.44468    8.5411          0      0            1    0.0027041    3.4466e-36    0.44468    0.59175    0.68262    0.78744    0.90837    0.90837    0.90837    1.0479    1.2088    1.3944      1.6085      1.6102     1.7888     1.8606     2.0124    2.3992    2.7801

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a         0.055312                    1              0.12028             0.85224              0.064969               0.6606      
    cl_mt_coh            0.12028              0.85224              0.36013                   1               0.23984              0.95574      
    cl_mt_pol_c         0.064969               0.6606              0.23984             0.95574               0.17487                    1      

xxxxx fl_beta = 0.895 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean       sd       coefofvar      min       max       pYis0     pYls0     pYgr0     pYisMINY     pYisMAXY       p0_1        p1         p5         p10        p15        p20        p25       p35       p50        p65         p75        p80        p85       p90        p95       p99      p99_9 
                   ______    _______    _________    _______    ______    _______    _____    _______    ________    ___________    _______    _______    _______    _______    _______    _______    _______    ______    ______    ________    _______    _______    _______    ______    _______    ______    ______

    cl_mt_pol_a    0.1837    0.40215      2.1892           0    47.263    0.58423      0      0.41577    0.58423     -3.1624e-38          0          0          0          0          0          0          0         0         0    0.066756    0.20027    0.26702    0.40053    0.6008    0.93458    2.0027    3.3378
    cl_mt_coh      1.4683    0.74402     0.50673     0.44468    54.536          0      0            1    0.00268     -3.1624e-38    0.44468    0.59175    0.68262    0.78744    0.90837    0.90837    0.97679    1.0479    1.2088      1.4825     1.7365     1.8822     2.0875    2.4029     2.9482    4.2617    5.8926
    cl_mt_pol_c    1.2846    0.40112     0.31226     0.44468    7.2728          0      0            1    0.00268     -3.1624e-38    0.44468    0.59175    0.68262    0.78744    0.90837    0.90837    0.97679    1.0479    1.2088      1.3961     1.5418     1.6135     1.7237    1.8005     1.9557    2.3294     2.665

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a         0.16172                     1               0.2772             0.92643              0.11547               0.71583      
    cl_mt_coh            0.2772               0.92643              0.55357                   1              0.27637               0.92604      
    cl_mt_pol_c         0.11547               0.71583              0.27637             0.92604               0.1609                     1      

xxxxx fl_beta = 0.92 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean        sd       coefofvar      min       max       pYis0     pYls0     pYgr0     pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20       p25       p35        p50         p65        p75        p80        p85       p90       p95       p99      p99_9 
                   _______    _______    _________    _______    ______    _______    _____    _______    _________    ___________    _______    _______    _______    _______    _______    _______    ______    ______    ________    _______    _______    _______    _______    ______    ______    ______    ______

    cl_mt_pol_a    0.40859     0.7045      1.7242           0    48.531    0.38605      0      0.61395      0.38605    -2.4207e-34          0          0          0          0          0          0         0         0    0.066756    0.26702    0.53405    0.66756    0.93458    1.2684    1.8692    3.3378    5.2737
    cl_mt_coh       1.6988     1.0188     0.59973     0.44468    54.536          0      0            1    0.0025648    -2.4207e-34    0.44468    0.59175    0.68262    0.78744    0.90837    0.90837    1.0479    1.1847      1.3944      1.709     2.0608     2.2773     2.5665    2.9878    3.7405    5.5087    7.6983
    cl_mt_pol_c     1.2902    0.37555     0.29107     0.44468    6.0044          0      0            1    0.0025648    -2.4207e-34    0.44468    0.59175    0.68262    0.78744    0.90837    0.90837    1.0479    1.1163      1.2789       1.42     1.5485     1.6252     1.6694    1.7938    1.9402    2.2209    2.4979

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a         0.49633                     1              0.69666             0.97058              0.20033               0.75717      
    cl_mt_coh           0.69666               0.97058                1.038                   1              0.34136               0.89218      
    cl_mt_pol_c         0.20033               0.75717              0.34136             0.89218              0.14104                     1      

xxxxx fl_beta = 0.945 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean       sd       coefofvar      min       max       pYis0     pYls0     pYgr0     pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20         p25         p35        p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                   ______    _______    _________    _______    ______    _______    _____    _______    _________    ___________    _______    _______    _______    _______    _______    ________    ________    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a    1.0308     1.3631      1.3224           0    49.866    0.18721      0      0.81279      0.18721    -4.3701e-35          0          0          0          0          0    0.066756    0.066756    0.20027    0.53405    1.0013    1.4686    1.8024    2.2029    2.8037    3.8718    6.2083    9.1455
    cl_mt_coh      2.3366     1.6448     0.70394     0.44468    54.536          0      0            1    0.0021034    -4.3701e-35    0.44468    0.59175    0.78744    0.90837    0.97679      1.0479      1.1847     1.3944     1.8246    2.4208     2.977    3.3609    3.8399    4.5241    5.6873    8.2303    11.446
    cl_mt_pol_c    1.3058    0.33496     0.25653     0.44468    4.6693          0      0            1    0.0021034    -4.3701e-35    0.44468    0.59175    0.75104    0.85754    0.92596      1.0479      1.0495     1.1964     1.3293    1.4211    1.5301    1.5863    1.6619     1.717    1.8617    2.0854    2.3457

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a          1.8581                     1               2.2256             0.99267              0.36753               0.80495      
    cl_mt_coh            2.2256               0.99267               2.7053                   1              0.47974               0.87075      
    cl_mt_pol_c         0.36753               0.80495              0.47974             0.87075               0.1122                     1      

xxxxx fl_beta = 0.97 xxxxx
xxxxx it_a_n = 750, it_z_n = 15 xxxxx
xxx All Variables PERCENTILES AND STATS xxx
tb_outcomes_meansdperc: mean, sd, percentiles
                    mean       sd       coefofvar      min       max       pYis0      pYls0    pYgr0      pYisMINY      pYisMAXY      p0_1        p1         p5         p10        p15       p20       p25       p35       p50       p65       p75       p80       p85       p90       p95       p99      p99_9 
                   ______    _______    _________    _______    ______    ________    _____    ______    __________    __________    _______    _______    _______    _______    _______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______    ______

    cl_mt_pol_a    5.4081     4.7673     0.88152           0        50    0.025303      0      0.9747      0.025303    1.2197e-07          0          0    0.13351    0.53405    0.93458    1.3351    1.8024    2.6702    4.2056    6.0748    7.8104    8.8785    10.147    11.949     14.82    20.961    28.772
    cl_mt_coh      6.8233     5.0167     0.73523     0.44468    54.536           0      0           1    0.00057637    6.7203e-09    0.51297    0.68262     1.1296     1.5997     2.0742    2.5506    3.0295     3.988    5.6323     7.614     9.393    10.488    11.815    13.693    16.673    23.012      31.1
    cl_mt_pol_c    1.4152    0.27424     0.19378     0.44468    4.5358           0      0           1    0.00057637    6.7203e-09    0.51297    0.68262      0.968     1.0619     1.1463    1.2041    1.2422    1.3216    1.4183    1.5159    1.5952    1.6331    1.6877    1.7595    1.8589    2.0683    2.3223

tb_outcomes_covvar: variance correlation
                   fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c
                   __________________    __________________    ________________    ________________    __________________    __________________

    cl_mt_pol_a          22.728                     1                23.91             0.99973                1.1824              0.90439      
    cl_mt_coh             23.91               0.99973               25.168                   1                1.2576               0.9141      
    cl_mt_pol_c          1.1824               0.90439               1.2576              0.9141              0.075208                    1      

-------------------------
xxxxxx tb_outcomes xxxxxx
                        variablenames    var_param_key    it_test_grp    it_cur_param    fl_crra    fl_beta     mean        sd       coefofvar      min       max       pYis0      pYls0     pYgr0     pYisMINY      pYisMAXY       p0_1        p1          p5         p10        p15         p20         p25        p35        p50         p65        p75       p80        p85       p90       p95       p99      p99_9     fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c    fracByP0_1    fracByP1      fracByP5     fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                        _____________    _____________    ___________    ____________    _______    _______    _______    _______    _________    _______    ______    ________    _____    _______    _________    ___________    _______    _______    ________    _______    ________    ________    _______    _______    ________    _______    _______    ______    _______    ______    ______    ______    ______    __________________    __________________    ________________    ________________    __________________    __________________    __________    _________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_a_p1v1    'cl_mt_pol_a'      'fl_crra'           1              1             1        0.94      0.39061    0.70074      1.7939           0    48.598     0.39645      0      0.60355      0.39645     2.7479e-36          0          0           0          0           0           0          0          0    0.066756    0.26702    0.46729    0.6008    0.86782    1.2016    1.8692    3.3378    5.3405         0.49104                     1              0.68742             0.96853               0.19638              0.74346                   0            0             0            0            0            0            0           0     0.023145     0.095121      0.18032      0.23865      0.33749      0.46911      0.66296      0.89305        0.9853  
    cl_mt_coh_p1v1      'cl_mt_coh'        'fl_crra'           1              1             1        0.94       1.6804     1.0129     0.60276     0.44468    54.536           0      0            1    0.0025817     2.7479e-36    0.44468    0.59175     0.68262    0.78744     0.90837     0.90837     1.0479     1.1821      1.3944      1.677     2.0102    2.2244     2.5398    2.9616    3.7143    5.4955    7.7401         0.68742               0.96853               1.0259                   1               0.33848              0.88652           0.0006832    0.0086357      0.023204     0.052293     0.099572     0.099572      0.16432     0.18645       0.3169      0.43939       0.5474      0.60976      0.67982      0.76067      0.85695      0.96139       0.99496  
    cl_mt_pol_c_p1v1    'cl_mt_pol_c'      'fl_crra'           1              1             1        0.94       1.2898    0.37696     0.29227     0.44468    5.9377           0      0            1    0.0025817     2.7479e-36    0.44468    0.59175     0.68262    0.78744     0.90837     0.90837     1.0479     1.1163      1.2789     1.4117     1.5468    1.6247     1.6744    1.8084    1.9368    2.2175    2.4964         0.19638               0.74346              0.33848             0.88652                0.1421                    1          0.00089011     0.011257      0.030266     0.068259      0.13058      0.13058      0.21982     0.24476      0.38915       0.5387      0.65664      0.71602      0.77957      0.84889      0.91884      0.98208       0.99802  
    cl_mt_pol_a_p1v2    'cl_mt_pol_a'      'fl_crra'           1              2             2        0.94        1.341     1.6059      1.1976           0        50     0.14762      0      0.85238      0.14762    -5.2804e-36          0          0           0          0    0.066756    0.066756    0.13351    0.40053     0.80107     1.4019     1.9359    2.3364     2.8037    3.4713    4.6729    7.2096    10.481           2.579                     1               3.0075             0.99536               0.42848              0.82757                   0            0             0            0    0.0029229    0.0029229    0.0077043    0.036467      0.10023      0.22219       0.3408      0.41914      0.51048       0.6212      0.77591      0.93641       0.99147  
    cl_mt_coh_p1v2      'cl_mt_coh'        'fl_crra'           1              2             2        0.94       2.6545     1.8815     0.70878     0.44468    54.536           0      0            1    0.0018409     1.5116e-35    0.44468    0.59175     0.78744    0.90837      1.0479      1.1821     1.2772     1.5953      2.0971     2.8038     3.4471    3.8665     4.4139    5.1666    6.4512    9.2454    12.746          3.0075               0.99536               3.5399                   1               0.53243              0.87773          0.00030838    0.0035603      0.018694      0.03352     0.054774     0.067209     0.091675      0.1469      0.24761      0.38479      0.50336      0.57157      0.64932      0.73816      0.84639       0.9596       0.99473  
    cl_mt_pol_c_p1v2    'cl_mt_pol_c'      'fl_crra'           1              2             2        0.94       1.3135     0.3224     0.24545     0.44468    4.5358           0      0            1    0.0018409     1.5116e-35    0.44468    0.59175     0.78744    0.90837     0.97846      1.0479     1.1182     1.2031      1.3039     1.4283     1.5229    1.5935     1.6353    1.7216    1.8334    2.0753    2.3262         0.42848               0.82757              0.53243             0.87773               0.10394                    1          0.00062321    0.0072357       0.03945     0.075383     0.097192      0.13092      0.17167     0.25997      0.40354      0.56191      0.67362      0.73201      0.79429      0.85705      0.92474       0.9835       0.99819  
    cl_mt_pol_a_p1v3    'cl_mt_pol_a'      'fl_crra'           1              3             3        0.94       2.4357     2.3673      0.9719           0        50    0.049666      0      0.95033     0.049666     1.5116e-19          0          0    0.066756    0.13351     0.33378     0.46729    0.66756     1.0681      1.7356     2.6702     3.4713    4.0721     4.7397    5.6742    7.2096    10.481    14.753           5.604                     1               6.2119             0.99849               0.60793              0.87152                   0            0    0.00097432    0.0022854     0.009111     0.015882     0.029216    0.064299      0.14851      0.28728      0.40885      0.49279      0.58088      0.68497      0.81344      0.95007       0.99351  
    cl_mt_coh_p1v3      'cl_mt_coh'        'fl_crra'           1              3             3        0.94       3.7766     2.6281     0.69588     0.44468    54.536           0      0            1    0.0010806      3.075e-20    0.44468    0.66017     0.90837     1.1163      1.3669      1.5953     1.8138     2.2839      3.1006      4.127     5.0209    5.6297     6.3298    7.3473    8.9984    12.488    16.946          6.2119               0.99849               6.9067                   1               0.69476              0.89716          0.00012724    0.0016707      0.011249     0.023357     0.040029     0.060539     0.082293     0.13641       0.2431      0.38607       0.5058       0.5763      0.65517      0.74546      0.85281      0.96179       0.99506  
    cl_mt_pol_c_p1v3    'cl_mt_pol_c'      'fl_crra'           1              3             3        0.94       1.3409    0.29467     0.21975     0.44468    4.5358           0      0            1    0.0010806      3.075e-20    0.44468    0.65149     0.85587    0.97801      1.0512      1.1246     1.1437     1.2271      1.3515     1.4562     1.5451     1.583     1.6486    1.7087    1.8172    2.0387    2.2793         0.60793               0.87152              0.69476             0.89716              0.086829                    1          0.00035836    0.0041899      0.027885     0.060874      0.10025      0.14086      0.18336     0.27076      0.41297      0.56966      0.68178      0.73931      0.79905      0.86159      0.92723      0.98418       0.99826  
    cl_mt_pol_a_p1v4    'cl_mt_pol_a'      'fl_crra'           1              4             4        0.94       3.6456     3.0477       0.836           0        50    0.017458      0      0.98254     0.017458     1.4012e-13          0          0     0.20027    0.46729     0.80107      1.0681     1.3351     1.9359      2.8705     4.0721     5.1402    5.8077     6.6756    7.8104    9.6796    13.551    18.625          9.2886                     1               10.056             0.99933               0.76787              0.90175                   0            0     0.0013091    0.0060387     0.016884     0.028504      0.04597    0.092306      0.18762      0.33163      0.46002      0.53334      0.61892       0.7203      0.83868      0.95713       0.99451  

                        variablenames    var_param_key    it_test_grp    it_cur_param    fl_crra    fl_beta     mean        sd       coefofvar      min       max       pYis0      pYls0     pYgr0      pYisMINY      pYisMAXY       p0_1        p1         p5         p10        p15        p20         p25         p35        p50         p65        p75        p80        p85       p90       p95       p99      p99_9     fl_cov_cl_mt_pol_a    fl_cor_cl_mt_pol_a    fl_cov_cl_mt_coh    fl_cor_cl_mt_coh    fl_cov_cl_mt_pol_c    fl_cor_cl_mt_pol_c    fracByP0_1     fracByP1      fracByP5     fracByP10    fracByP15    fracByP20    fracByP25    fracByP35    fracByP50    fracByP65    fracByP75    fracByP80    fracByP85    fracByP90    fracByP95    fracByP99    fracByP99_9
                        _____________    _____________    ___________    ____________    _______    _______    _______    _______    _________    _______    ______    ________    _____    _______    __________    ___________    _______    _______    _______    _______    _______    ________    ________    _______    ________    _______    _______    _______    _______    ______    ______    ______    ______    __________________    __________________    ________________    ________________    __________________    __________________    __________    __________    __________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    _________    ___________

    cl_mt_pol_c_p2v2    'cl_mt_pol_c'      'fl_beta'           2              2            1.5       0.895      1.2846    0.40112     0.31226     0.44468    7.2728           0      0            1       0.00268    -3.1624e-38    0.44468    0.59175    0.68262    0.78744    0.90837     0.90837     0.97679     1.0479      1.2088     1.3961     1.5418     1.6135     1.7237    1.8005    1.9557    2.3294     2.665         0.11547               0.71583              0.27637             0.92604                0.1609                    1          0.00092772      0.011975      0.032853     0.076218     0.15047       0.15047      0.15667     0.25767      0.38506      0.54656      0.65069      0.70726      0.78419      0.84088      0.91544      0.98096       0.99799  
    cl_mt_pol_a_p2v3    'cl_mt_pol_a'      'fl_beta'           2              3            1.5        0.92     0.40859     0.7045      1.7242           0    48.531     0.38605      0      0.61395       0.38605    -2.4207e-34          0          0          0          0          0           0           0          0    0.066756    0.26702    0.53405    0.66756    0.93458    1.2684    1.8692    3.3378    5.2737         0.49633                     1              0.69666             0.97058               0.20033              0.75717                   0             0             0            0           0             0            0           0     0.020815     0.097078      0.20816      0.26786      0.37393      0.49872      0.67152      0.89928       0.98628  
    cl_mt_coh_p2v3      'cl_mt_coh'        'fl_beta'           2              3            1.5        0.92      1.6988     1.0188     0.59973     0.44468    54.536           0      0            1     0.0025648    -2.4207e-34    0.44468    0.59175    0.68262    0.78744    0.90837     0.90837      1.0479     1.1847      1.3944      1.709     2.0608     2.2773     2.5665    2.9878    3.7405    5.5087    7.6983         0.69666               0.97058                1.038                   1               0.34136              0.89218          0.00067137      0.008455      0.022652     0.050886    0.096651      0.096651      0.15921     0.18636      0.30575      0.43419      0.55005       0.6088      0.68283      0.76048      0.85814      0.96206       0.99502  
    cl_mt_pol_c_p2v3    'cl_mt_pol_c'      'fl_beta'           2              3            1.5        0.92      1.2902    0.37555     0.29107     0.44468    6.0044           0      0            1     0.0025648    -2.4207e-34    0.44468    0.59175    0.68262    0.78744    0.90837     0.90837      1.0479     1.1163      1.2789       1.42     1.5485     1.6252     1.6694    1.7938    1.9402    2.2209    2.4979         0.20033               0.75717              0.34136             0.89218               0.14104                    1          0.00088398       0.01114      0.029867      0.06716     0.12831       0.12831      0.21613     0.24256       0.3835      0.53974      0.66421      0.71656      0.77961      0.84746      0.91918      0.98202         0.998  
    cl_mt_pol_a_p2v4    'cl_mt_pol_a'      'fl_beta'           2              4            1.5       0.945      1.0308     1.3631      1.3224           0    49.866     0.18721      0      0.81279       0.18721    -4.3701e-35          0          0          0          0          0    0.066756    0.066756    0.20027     0.53405     1.0013     1.4686     1.8024     2.2029    2.8037    3.8718    6.2083    9.1455          1.8581                     1               2.2256             0.99267               0.36753              0.80495                   0             0             0            0           0     0.0060757    0.0060757    0.019631     0.074229      0.18304      0.29907      0.38098      0.47145      0.59085      0.74988      0.92935       0.99017  
    cl_mt_coh_p2v4      'cl_mt_coh'        'fl_beta'           2              4            1.5       0.945      2.3366     1.6448     0.70394     0.44468    54.536           0      0            1     0.0021034    -4.3701e-35    0.44468    0.59175    0.78744    0.90837    0.97679      1.0479      1.1847     1.3944      1.8246     2.4208      2.977     3.3609     3.8399    4.5241    5.6873    8.2303    11.446          2.2256               0.99267               2.7053                   1               0.47974              0.87075          0.00040031     0.0047704      0.025752     0.046373    0.054855      0.074891     0.098423     0.15204      0.25956      0.39216      0.50639       0.5726      0.64874      0.73789       0.8457      0.95876        0.9946  
    cl_mt_pol_c_p2v4    'cl_mt_pol_c'      'fl_beta'           2              4            1.5       0.945      1.3058    0.33496     0.25653     0.44468    4.6693           0      0            1     0.0021034    -4.3701e-35    0.44468    0.59175    0.75104    0.85754    0.92596      1.0479      1.0495     1.1964      1.3293     1.4211     1.5301     1.5863     1.6619     1.717    1.8617    2.0854    2.3457         0.36753               0.80495              0.47974             0.87075                0.1122                    1          0.00071632     0.0085684      0.024786     0.056686    0.090731       0.15087      0.17309     0.25801      0.40613      0.55831      0.66977       0.7291      0.79066      0.85532      0.92343      0.98323       0.99814  
    cl_mt_pol_a_p2v5    'cl_mt_pol_a'      'fl_beta'           2              5            1.5        0.97      5.4081     4.7673     0.88152           0        50    0.025303      0       0.9747      0.025303     1.2197e-07          0          0    0.13351    0.53405    0.93458      1.3351      1.8024     2.6702      4.2056     6.0748     7.8104     8.8785     10.147    11.949     14.82    20.961    28.772          22.728                     1                23.91             0.99973                1.1824              0.90439                   0             0    0.00042546    0.0041313    0.011047      0.021795     0.037059    0.078287       0.1707      0.31411      0.44213      0.52092      0.60597      0.70798      0.82864      0.95526       0.99411  
    cl_mt_coh_p2v5      'cl_mt_coh'        'fl_beta'           2              5            1.5        0.97      6.8233     5.0167     0.73523     0.44468    54.536           0      0            1    0.00057637     6.7203e-09    0.51297    0.68262     1.1296     1.5997     2.0742      2.5506      3.0295      3.988      5.6323      7.614      9.393     10.488     11.815    13.693    16.673    23.012      31.1           23.91               0.99973               25.168                   1                1.2576               0.9141          0.00013148    0.00092583      0.006643     0.016531    0.030098       0.04724     0.067609     0.11854      0.22375      0.36799        0.492      0.56457      0.64604      0.73924      0.84931      0.96107       0.99497  
    cl_mt_pol_c_p2v5    'cl_mt_pol_c'      'fl_beta'           2              5            1.5        0.97      1.4152    0.27424     0.19378     0.44468    4.5358           0      0            1    0.00057637     6.7203e-09    0.51297    0.68262      0.968     1.0619     1.1463      1.2041      1.2422     1.3216      1.4183     1.5159     1.5952     1.6331     1.6877    1.7595    1.8589    2.0683    2.3223          1.1824               0.90439               1.2576              0.9141              0.075208                    1          0.00063393     0.0045937      0.028828     0.065524     0.10505       0.14553      0.18905     0.27989      0.42469      0.57988      0.68964      0.74659      0.80516      0.86608      0.92988      0.98462       0.99829  

</pre><h2 id="9">Specify Outcome Variables to Plot</h2><pre class="codeinput">it_plot_n = length(ar_it_plot_sets);
[it_plot_rows, it_plot_cols] = deal(round(it_plot_n/3), 3);

cl_ar_st_variablenames = cell([it_plot_n,1]);
cl_ar_st_legend = cell([it_plot_n,1]);
cl_ar_st_colnames = cell([it_plot_n,1]);
cl_st_title = cell([it_plot_n,1]);
cl_st_ytitle = cell([it_plot_n,1]);

it_plot_ctr = 0;
<span class="keyword">for</span> it_plot = ar_it_plot_sets

    it_plot_ctr = it_plot_ctr + 1;

    <span class="keyword">if</span> (it_plot == 1)
        ar_st_colnames_plot =  {<span class="string">'p1'</span>, <span class="string">'p25'</span>, <span class="string">'p50'</span>, <span class="string">'mean'</span>, <span class="string">'p75'</span>, <span class="string">'p99'</span>};
        ar_st_variablenames_plot =  repmat({<span class="string">'cl_mt_pol_c'</span>}, [1, length(ar_st_colnames_plot)]);
        ar_st_legend_plot =  ar_st_colnames_plot;
        st_title = <span class="string">'Consumption Percentiles'</span>;
        st_ytitle = <span class="string">'C Distribution'</span>;
    <span class="keyword">elseif</span> (it_plot == 2)
        ar_st_colnames_plot =  {<span class="string">'mean'</span>, <span class="string">'sd'</span>};
        ar_st_variablenames_plot =  repmat({<span class="string">'cl_mt_pol_c'</span>}, [1, length(ar_st_colnames_plot)]);
        ar_st_legend_plot =  ar_st_colnames_plot;
        st_title = <span class="string">'Consumption Mean and SD'</span>;
        st_ytitle = <span class="string">'C Mean and SD'</span>;
    <span class="keyword">elseif</span> (it_plot == 3)
        ar_st_colnames_plot =  {<span class="string">'p1'</span>, <span class="string">'p25'</span>, <span class="string">'p50'</span>, <span class="string">'mean'</span>, <span class="string">'p75'</span>, <span class="string">'p99'</span>};
        ar_st_variablenames_plot =  repmat({<span class="string">'cl_mt_pol_a'</span>}, [1, length(ar_st_colnames_plot)]);
        ar_st_legend_plot =  ar_st_colnames_plot;
        st_title = <span class="string">'Savings Percentiles'</span>;
        st_ytitle = <span class="string">'A Distribution'</span>;
    <span class="keyword">elseif</span> (it_plot == 4)
        ar_st_colnames_plot =  {<span class="string">'mean'</span>, <span class="string">'sd'</span>};
        ar_st_variablenames_plot =  repmat({<span class="string">'cl_mt_pol_a'</span>}, [1, length(ar_st_colnames_plot)]);
        ar_st_legend_plot =  ar_st_colnames_plot;
        st_title = <span class="string">'Savings Mean and SD'</span>;
        st_ytitle = <span class="string">'A Mean and SD'</span>;
    <span class="keyword">elseif</span> (it_plot == 5)
        ar_st_variablenames_plot =  {<span class="string">'cl_mt_coh'</span>, <span class="string">'cl_mt_pol_a'</span>, <span class="string">'cl_mt_pol_c'</span>};
        ar_st_legend_plot =  {<span class="string">'coh=wealth'</span>, <span class="string">'savings'</span>, <span class="string">'consumption'</span>};
        ar_st_colnames_plot =  repmat({<span class="string">'mean'</span>}, [1, length(ar_st_variablenames_plot)]);
        st_title = <span class="string">'Aggregate Outcomes (wealth, savings, consumption)'</span>;
        st_ytitle = <span class="string">'Aggregate Levels'</span>;
    <span class="keyword">elseif</span> (it_plot == 6)
        ar_st_variablenames_plot =  {<span class="string">'cl_mt_coh'</span>, <span class="string">'cl_mt_pol_a'</span>, <span class="string">'cl_mt_pol_c'</span>};
        ar_st_legend_plot =  {<span class="string">'coh=wealth'</span>, <span class="string">'savings'</span>, <span class="string">'consumption'</span>};
        ar_st_colnames_plot =  repmat({<span class="string">'coefofvar'</span>}, [1, length(ar_st_variablenames_plot)]);
        st_title = <span class="string">'Coef of Variation (wealth, savings, consumption)'</span>;
        st_ytitle = <span class="string">'Coefficient of Variation (SD/Mean)'</span>;
    <span class="keyword">elseif</span> (it_plot == 7)
        ar_st_variablenames_plot =  {<span class="string">'cl_mt_coh'</span>, <span class="string">'cl_mt_pol_a'</span>, <span class="string">'cl_mt_pol_c'</span>};
        ar_st_legend_plot =  {<span class="string">'coh=wealth'</span>, <span class="string">'savings'</span>, <span class="string">'consumption'</span>};
        ar_st_colnames_plot =  repmat({<span class="string">'fl_cor_cl_mt_pol_c'</span>}, [1, length(ar_st_variablenames_plot)]);
        st_title = <span class="string">'Correlation with Consumption)'</span>;
        st_ytitle = <span class="string">'Correlation Coefficient'</span>;
    <span class="keyword">end</span>

    cl_ar_st_variablenames{it_plot_ctr} = ar_st_variablenames_plot;
    cl_ar_st_legend{it_plot_ctr} = ar_st_legend_plot;
    cl_ar_st_colnames{it_plot_ctr} = ar_st_colnames_plot;
    cl_st_title{it_plot_ctr} = st_title;
    cl_st_ytitle{it_plot_ctr} = st_ytitle;

<span class="keyword">end</span>
</pre><h2 id="10">Get Var Descs</h2><pre class="codeinput">cl_st_param_desc = values(param_desc_map, cl_st_param_keys);
cl_st_param_desc = cellfun(@(m) m{1}, cl_st_param_desc, <span class="string">'UniformOutput'</span>, false);
</pre><h2 id="11">Graph Outcomes</h2><pre class="codeinput">close <span class="string">all</span>;

<span class="keyword">for</span> it_pcombi_ctr = 1:length(cl_st_param_keys)
</pre><pre class="codeinput">    st_param_key = cl_st_param_keys{it_pcombi_ctr};
    st_param_desc = cl_st_param_desc(it_pcombi_ctr);

    <span class="keyword">if</span> (~bl_graph_onebyones)
        figure(<span class="string">'PaperPosition'</span>, [0 0 it_plot_cols*7 it_plot_rows*4]);
    <span class="keyword">else</span>
    <span class="keyword">end</span>

    <span class="comment">% get data</span>
    <span class="keyword">if</span> (strcmp(st_simu_type, <span class="string">'c'</span>))
        mt_cur_data = tb_outcomes(strcmp(tb_outcomes.var_param_key, st_param_key), :);
    <span class="keyword">elseif</span> (ismember(st_simu_type, [<span class="string">"g"</span>, <span class="string">"r"</span>]))
        mt_cur_data = tb_outcomes;
    <span class="keyword">end</span>
    st_x_label = st_param_desc;
</pre><h2 id="13">Loop over Subplots (different sets of Outcomes)</h2><pre class="codeinput">    <span class="keyword">for</span> it_plot=1:1:it_plot_n
</pre><pre class="codeinput">        <span class="comment">% Get x variable and label</span>
        cl_legend = cl_ar_st_legend{it_plot};
        ar_st_variablenames_plot = cl_ar_st_variablenames{it_plot};
        ar_st_colnames_plot = cl_ar_st_colnames{it_plot};

        mt_graph_data = mt_cur_data(:, [{st_param_key}, ar_st_colnames_plot]);

        <span class="keyword">if</span> (bl_display_graph_stats)
            disp(mt_graph_data)
        <span class="keyword">end</span>
</pre><pre class="codeoutput">                        fl_crra       p1         p25        p50        mean        p75       p99  
                        _______    ________    _______    ________    _______    _______    ______

    cl_mt_pol_a_p1v1       1              0          0    0.066756    0.39061    0.46729    3.3378
    cl_mt_coh_p1v1         1        0.59175     1.0479      1.3944     1.6804     2.0102    5.4955
    cl_mt_pol_c_p1v1       1        0.59175     1.0479      1.2789     1.2898     1.5468    2.2175
    cl_mt_pol_a_p1v2       2              0    0.13351     0.80107      1.341     1.9359    7.2096
    cl_mt_coh_p1v2         2        0.59175     1.2772      2.0971     2.6545     3.4471    9.2454
    cl_mt_pol_c_p1v2       2        0.59175     1.1182      1.3039     1.3135     1.5229    2.0753
    cl_mt_pol_a_p1v3       3              0    0.66756      1.7356     2.4357     3.4713    10.481
    cl_mt_coh_p1v3         3        0.66017     1.8138      3.1006     3.7766     5.0209    12.488
    cl_mt_pol_c_p1v3       3        0.65149     1.1437      1.3515     1.3409     1.5451    2.0387
    cl_mt_pol_a_p1v4       4              0     1.3351      2.8705     3.6456     5.1402    13.551
    cl_mt_coh_p1v4         4        0.75104     2.5532      4.2682     5.0168     6.6827    15.602
    cl_mt_pol_c_p1v4       4        0.68262     1.1763      1.3732     1.3711     1.5497    2.0408
    cl_mt_pol_a_p1v5       5       0.066756     2.1362      4.1389     4.9436     6.8758    16.622
    cl_mt_coh_p1v5         5        0.88789     3.3876      5.5612     6.3472     8.4421    18.681
    cl_mt_pol_c_p1v5       5        0.78744     1.2297      1.3957     1.4036     1.5796     2.052

</pre><pre class="codeoutput">                        fl_crra     mean        sd   
                        _______    _______    _______

    cl_mt_pol_a_p1v1       1       0.39061    0.70074
    cl_mt_coh_p1v1         1        1.6804     1.0129
    cl_mt_pol_c_p1v1       1        1.2898    0.37696
    cl_mt_pol_a_p1v2       2         1.341     1.6059
    cl_mt_coh_p1v2         2        2.6545     1.8815
    cl_mt_pol_c_p1v2       2        1.3135     0.3224
    cl_mt_pol_a_p1v3       3        2.4357     2.3673
    cl_mt_coh_p1v3         3        3.7766     2.6281
    cl_mt_pol_c_p1v3       3        1.3409    0.29467
    cl_mt_pol_a_p1v4       4        3.6456     3.0477
    cl_mt_coh_p1v4         4        5.0168     3.3019
    cl_mt_pol_c_p1v4       4        1.3711     0.2794
    cl_mt_pol_a_p1v5       5        4.9436       3.69
    cl_mt_coh_p1v5         5        6.3472     3.9417
    cl_mt_pol_c_p1v5       5        1.4036    0.27131

</pre><pre class="codeoutput">                        fl_crra     mean        sd   
                        _______    _______    _______

    cl_mt_pol_a_p1v1       1       0.39061    0.70074
    cl_mt_coh_p1v1         1        1.6804     1.0129
    cl_mt_pol_c_p1v1       1        1.2898    0.37696
    cl_mt_pol_a_p1v2       2         1.341     1.6059
    cl_mt_coh_p1v2         2        2.6545     1.8815
    cl_mt_pol_c_p1v2       2        1.3135     0.3224
    cl_mt_pol_a_p1v3       3        2.4357     2.3673
    cl_mt_coh_p1v3         3        3.7766     2.6281
    cl_mt_pol_c_p1v3       3        1.3409    0.29467
    cl_mt_pol_a_p1v4       4        3.6456     3.0477
    cl_mt_coh_p1v4         4        5.0168     3.3019
    cl_mt_pol_c_p1v4       4        1.3711     0.2794
    cl_mt_pol_a_p1v5       5        4.9436       3.69
    cl_mt_coh_p1v5         5        6.3472     3.9417
    cl_mt_pol_c_p1v5       5        1.4036    0.27131

</pre><pre class="codeoutput">                        fl_crra     mean      mean_1     mean_2 
                        _______    _______    _______    _______

    cl_mt_pol_a_p1v1       1       0.39061    0.39061    0.39061
    cl_mt_coh_p1v1         1        1.6804     1.6804     1.6804
    cl_mt_pol_c_p1v1       1        1.2898     1.2898     1.2898
    cl_mt_pol_a_p1v2       2         1.341      1.341      1.341
    cl_mt_coh_p1v2         2        2.6545     2.6545     2.6545
    cl_mt_pol_c_p1v2       2        1.3135     1.3135     1.3135
    cl_mt_pol_a_p1v3       3        2.4357     2.4357     2.4357
    cl_mt_coh_p1v3         3        3.7766     3.7766     3.7766
    cl_mt_pol_c_p1v3       3        1.3409     1.3409     1.3409
    cl_mt_pol_a_p1v4       4        3.6456     3.6456     3.6456
    cl_mt_coh_p1v4         4        5.0168     5.0168     5.0168
    cl_mt_pol_c_p1v4       4        1.3711     1.3711     1.3711
    cl_mt_pol_a_p1v5       5        4.9436     4.9436     4.9436
    cl_mt_coh_p1v5         5        6.3472     6.3472     6.3472
    cl_mt_pol_c_p1v5       5        1.4036     1.4036     1.4036

</pre><pre class="codeoutput">                        fl_crra    coefofvar    coefofvar_1    coefofvar_2
                        _______    _________    ___________    ___________

    cl_mt_pol_a_p1v1       1         1.7939        1.7939         1.7939  
    cl_mt_coh_p1v1         1        0.60276       0.60276        0.60276  
    cl_mt_pol_c_p1v1       1        0.29227       0.29227        0.29227  
    cl_mt_pol_a_p1v2       2         1.1976        1.1976         1.1976  
    cl_mt_coh_p1v2         2        0.70878       0.70878        0.70878  
    cl_mt_pol_c_p1v2       2        0.24545       0.24545        0.24545  
    cl_mt_pol_a_p1v3       3         0.9719        0.9719         0.9719  
    cl_mt_coh_p1v3         3        0.69588       0.69588        0.69588  
    cl_mt_pol_c_p1v3       3        0.21975       0.21975        0.21975  
    cl_mt_pol_a_p1v4       4          0.836         0.836          0.836  
    cl_mt_coh_p1v4         4        0.65817       0.65817        0.65817  
    cl_mt_pol_c_p1v4       4        0.20377       0.20377        0.20377  
    cl_mt_pol_a_p1v5       5        0.74641       0.74641        0.74641  
    cl_mt_coh_p1v5         5          0.621         0.621          0.621  
    cl_mt_pol_c_p1v5       5        0.19329       0.19329        0.19329  

</pre><pre class="codeoutput">                        fl_crra    fl_cor_cl_mt_pol_c    fl_cor_cl_mt_pol_c_1    fl_cor_cl_mt_pol_c_2
                        _______    __________________    ____________________    ____________________

    cl_mt_pol_a_p1v1       1            0.74346                0.74346                 0.74346       
    cl_mt_coh_p1v1         1            0.88652                0.88652                 0.88652       
    cl_mt_pol_c_p1v1       1                  1                      1                       1       
    cl_mt_pol_a_p1v2       2            0.82757                0.82757                 0.82757       
    cl_mt_coh_p1v2         2            0.87773                0.87773                 0.87773       
    cl_mt_pol_c_p1v2       2                  1                      1                       1       
    cl_mt_pol_a_p1v3       3            0.87152                0.87152                 0.87152       
    cl_mt_coh_p1v3         3            0.89716                0.89716                 0.89716       
    cl_mt_pol_c_p1v3       3                  1                      1                       1       
    cl_mt_pol_a_p1v4       4            0.90175                0.90175                 0.90175       
    cl_mt_coh_p1v4         4            0.91696                0.91696                 0.91696       
    cl_mt_pol_c_p1v4       4                  1                      1                       1       
    cl_mt_pol_a_p1v5       5            0.92249                0.92249                 0.92249       
    cl_mt_coh_p1v5         5            0.93242                0.93242                 0.93242       
    cl_mt_pol_c_p1v5       5                  1                      1                       1       

</pre><pre class="codeoutput">                        fl_beta      p1         p25         p50         mean        p75        p99  
                        _______    _______    ________    ________    ________    ________    ______

    cl_mt_pol_a_p2v1      0.87           0           0           0    0.083735    0.066756    1.2016
    cl_mt_coh_p2v1        0.87     0.59175     0.90837      1.2088      1.3658      1.6085     3.564
    cl_mt_pol_c_p2v1      0.87     0.59175     0.90837      1.2088      1.2821      1.6085    2.3992
    cl_mt_pol_a_p2v2     0.895           0           0           0      0.1837     0.20027    2.0027
    cl_mt_coh_p2v2       0.895     0.59175     0.97679      1.2088      1.4683      1.7365    4.2617
    cl_mt_pol_c_p2v2     0.895     0.59175     0.97679      1.2088      1.2846      1.5418    2.3294
    cl_mt_pol_a_p2v3      0.92           0           0    0.066756     0.40859     0.53405    3.3378
    cl_mt_coh_p2v3        0.92     0.59175      1.0479      1.3944      1.6988      2.0608    5.5087
    cl_mt_pol_c_p2v3      0.92     0.59175      1.0479      1.2789      1.2902      1.5485    2.2209
    cl_mt_pol_a_p2v4     0.945           0    0.066756     0.53405      1.0308      1.4686    6.2083
    cl_mt_coh_p2v4       0.945     0.59175      1.1847      1.8246      2.3366       2.977    8.2303
    cl_mt_pol_c_p2v4     0.945     0.59175      1.0495      1.3293      1.3058      1.5301    2.0854
    cl_mt_pol_a_p2v5      0.97           0      1.8024      4.2056      5.4081      7.8104    20.961
    cl_mt_coh_p2v5        0.97     0.68262      3.0295      5.6323      6.8233       9.393    23.012
    cl_mt_pol_c_p2v5      0.97     0.68262      1.2422      1.4183      1.4152      1.5952    2.0683

</pre><pre class="codeoutput">                        fl_beta      mean        sd   
                        _______    ________    _______

    cl_mt_pol_a_p2v1      0.87     0.083735    0.23518
    cl_mt_coh_p2v1        0.87       1.3658     0.6001
    cl_mt_pol_c_p2v1      0.87       1.2821    0.41818
    cl_mt_pol_a_p2v2     0.895       0.1837    0.40215
    cl_mt_coh_p2v2       0.895       1.4683    0.74402
    cl_mt_pol_c_p2v2     0.895       1.2846    0.40112
    cl_mt_pol_a_p2v3      0.92      0.40859     0.7045
    cl_mt_coh_p2v3        0.92       1.6988     1.0188
    cl_mt_pol_c_p2v3      0.92       1.2902    0.37555
    cl_mt_pol_a_p2v4     0.945       1.0308     1.3631
    cl_mt_coh_p2v4       0.945       2.3366     1.6448
    cl_mt_pol_c_p2v4     0.945       1.3058    0.33496
    cl_mt_pol_a_p2v5      0.97       5.4081     4.7673
    cl_mt_coh_p2v5        0.97       6.8233     5.0167
    cl_mt_pol_c_p2v5      0.97       1.4152    0.27424

</pre><pre class="codeoutput">                        fl_beta      mean        sd   
                        _______    ________    _______

    cl_mt_pol_a_p2v1      0.87     0.083735    0.23518
    cl_mt_coh_p2v1        0.87       1.3658     0.6001
    cl_mt_pol_c_p2v1      0.87       1.2821    0.41818
    cl_mt_pol_a_p2v2     0.895       0.1837    0.40215
    cl_mt_coh_p2v2       0.895       1.4683    0.74402
    cl_mt_pol_c_p2v2     0.895       1.2846    0.40112
    cl_mt_pol_a_p2v3      0.92      0.40859     0.7045
    cl_mt_coh_p2v3        0.92       1.6988     1.0188
    cl_mt_pol_c_p2v3      0.92       1.2902    0.37555
    cl_mt_pol_a_p2v4     0.945       1.0308     1.3631
    cl_mt_coh_p2v4       0.945       2.3366     1.6448
    cl_mt_pol_c_p2v4     0.945       1.3058    0.33496
    cl_mt_pol_a_p2v5      0.97       5.4081     4.7673
    cl_mt_coh_p2v5        0.97       6.8233     5.0167
    cl_mt_pol_c_p2v5      0.97       1.4152    0.27424

</pre><pre class="codeoutput">                        fl_beta      mean       mean_1      mean_2 
                        _______    ________    ________    ________

    cl_mt_pol_a_p2v1      0.87     0.083735    0.083735    0.083735
    cl_mt_coh_p2v1        0.87       1.3658      1.3658      1.3658
    cl_mt_pol_c_p2v1      0.87       1.2821      1.2821      1.2821
    cl_mt_pol_a_p2v2     0.895       0.1837      0.1837      0.1837
    cl_mt_coh_p2v2       0.895       1.4683      1.4683      1.4683
    cl_mt_pol_c_p2v2     0.895       1.2846      1.2846      1.2846
    cl_mt_pol_a_p2v3      0.92      0.40859     0.40859     0.40859
    cl_mt_coh_p2v3        0.92       1.6988      1.6988      1.6988
    cl_mt_pol_c_p2v3      0.92       1.2902      1.2902      1.2902
    cl_mt_pol_a_p2v4     0.945       1.0308      1.0308      1.0308
    cl_mt_coh_p2v4       0.945       2.3366      2.3366      2.3366
    cl_mt_pol_c_p2v4     0.945       1.3058      1.3058      1.3058
    cl_mt_pol_a_p2v5      0.97       5.4081      5.4081      5.4081
    cl_mt_coh_p2v5        0.97       6.8233      6.8233      6.8233
    cl_mt_pol_c_p2v5      0.97       1.4152      1.4152      1.4152

</pre><pre class="codeoutput">                        fl_beta    coefofvar    coefofvar_1    coefofvar_2
                        _______    _________    ___________    ___________

    cl_mt_pol_a_p2v1      0.87       2.8087        2.8087         2.8087  
    cl_mt_coh_p2v1        0.87      0.43937       0.43937        0.43937  
    cl_mt_pol_c_p2v1      0.87      0.32617       0.32617        0.32617  
    cl_mt_pol_a_p2v2     0.895       2.1892        2.1892         2.1892  
    cl_mt_coh_p2v2       0.895      0.50673       0.50673        0.50673  
    cl_mt_pol_c_p2v2     0.895      0.31226       0.31226        0.31226  
    cl_mt_pol_a_p2v3      0.92       1.7242        1.7242         1.7242  
    cl_mt_coh_p2v3        0.92      0.59973       0.59973        0.59973  
    cl_mt_pol_c_p2v3      0.92      0.29107       0.29107        0.29107  
    cl_mt_pol_a_p2v4     0.945       1.3224        1.3224         1.3224  
    cl_mt_coh_p2v4       0.945      0.70394       0.70394        0.70394  
    cl_mt_pol_c_p2v4     0.945      0.25653       0.25653        0.25653  
    cl_mt_pol_a_p2v5      0.97      0.88152       0.88152        0.88152  
    cl_mt_coh_p2v5        0.97      0.73523       0.73523        0.73523  
    cl_mt_pol_c_p2v5      0.97      0.19378       0.19378        0.19378  

</pre><pre class="codeoutput">                        fl_beta    fl_cor_cl_mt_pol_c    fl_cor_cl_mt_pol_c_1    fl_cor_cl_mt_pol_c_2
                        _______    __________________    ____________________    ____________________

    cl_mt_pol_a_p2v1      0.87           0.6606                 0.6606                  0.6606       
    cl_mt_coh_p2v1        0.87          0.95574                0.95574                 0.95574       
    cl_mt_pol_c_p2v1      0.87                1                      1                       1       
    cl_mt_pol_a_p2v2     0.895          0.71583                0.71583                 0.71583       
    cl_mt_coh_p2v2       0.895          0.92604                0.92604                 0.92604       
    cl_mt_pol_c_p2v2     0.895                1                      1                       1       
    cl_mt_pol_a_p2v3      0.92          0.75717                0.75717                 0.75717       
    cl_mt_coh_p2v3        0.92          0.89218                0.89218                 0.89218       
    cl_mt_pol_c_p2v3      0.92                1                      1                       1       
    cl_mt_pol_a_p2v4     0.945          0.80495                0.80495                 0.80495       
    cl_mt_coh_p2v4       0.945          0.87075                0.87075                 0.87075       
    cl_mt_pol_c_p2v4     0.945                1                      1                       1       
    cl_mt_pol_a_p2v5      0.97          0.90439                0.90439                 0.90439       
    cl_mt_coh_p2v5        0.97           0.9141                 0.9141                  0.9141       
    cl_mt_pol_c_p2v5      0.97                1                      1                       1       

</pre><h2 id="15">Generate Graphs</h2><pre class="codeinput">        <span class="keyword">if</span> (bl_graph_onebyones)
            figure(<span class="string">'PaperPosition'</span>, [0 0 7 4]);
        <span class="keyword">else</span>
            subplot(it_plot_rows,it_plot_cols,it_plot);
        <span class="keyword">end</span>

        hold <span class="string">on</span>;

        st_legend_loc = <span class="string">'southeast'</span>;

        blue = [57 106 177]./255;
        red = [204 37 41]./255;
        black = [83 81 84]./255;
        green = [62 150 81]./255;
        brown = [146 36 40]./255;
        purple = [107 76 154]./255;
        cl_colors = {blue, red, black, <span class="keyword">...</span>
            green, brown, purple};
        cl_scatter_shapes = {<span class="string">'s'</span>,<span class="string">'x'</span>,<span class="string">'o'</span>,<span class="string">'d'</span>,<span class="string">'p'</span>,<span class="string">'*'</span>};
        cl_linestyle = {<span class="string">'-'</span>,<span class="string">'-'</span>,<span class="string">'-'</span>,<span class="string">'-'</span>,<span class="string">'-'</span>,<span class="string">'-'</span>};
        it_sca_bs = 3;
        cl_scatter_csizes = {10*it_sca_bs, 10*it_sca_bs, 10*it_sca_bs, 10*it_sca_bs, 10*it_sca_bs, 10*it_sca_bs};
        it_line_bs = 2;
        cl_line_csizes = {1*it_line_bs, 1*it_line_bs, 1*it_line_bs, 1*it_line_bs, 1*it_line_bs, 1*it_line_bs};

        it_graph_counter = 0;
        ls_chart = [];
        <span class="keyword">for</span> it_fig = 1:length(cl_ar_st_variablenames{it_plot})

            <span class="comment">% Counter</span>
            it_graph_counter = it_graph_counter + 1;

            <span class="comment">% Color and Size etc</span>
            it_csize = cl_scatter_csizes{it_fig};
            ar_color = cl_colors{it_fig};
            st_shape = cl_scatter_shapes{it_fig};
            st_lnsty = cl_linestyle{it_fig};
            st_lnwth = cl_line_csizes{it_fig};

            <span class="comment">% Access Y Outcomes</span>
            ar_cur_rows = strcmp(mt_cur_data.variablenames, ar_st_variablenames_plot(it_fig));
            st_cur_stat_col = ar_st_colnames_plot{it_fig};

            <span class="comment">% Access X and Y Values</span>
            mt_graph_data = mt_cur_data(ar_cur_rows, {st_param_key, st_cur_stat_col});
            <span class="comment">% Access Y Values</span>
            ar_y = mt_graph_data{:, st_cur_stat_col};
            <span class="comment">% Access X Values</span>
            ar_x = mt_graph_data{:, st_param_key};

            <span class="comment">% Plot Scatter</span>
            ls_chart(it_graph_counter) = scatter(ar_x', ar_y', it_csize, ar_color, st_shape);

            <span class="keyword">if</span> (strcmp(st_simu_type, <span class="string">'c'</span>))
                <span class="comment">% plot line do not include in legend</span>
                line = plot(ar_x, ar_y);
                line.HandleVisibility = <span class="string">'off'</span>;
                line.Color = ar_color;
                line.LineStyle = st_lnsty;
                line.HandleVisibility = <span class="string">'off'</span>;
                line.LineWidth = st_lnwth;
            <span class="keyword">elseif</span> (ismember(st_simu_type, [<span class="string">"g"</span>, <span class="string">"r"</span>]))

            <span class="keyword">end</span>

            cl_legend{it_graph_counter} = cl_legend{it_fig};

        <span class="keyword">end</span>

        legend(ls_chart, cl_legend, <span class="string">'Location'</span>, st_legend_loc, <span class="string">'color'</span>, <span class="string">'none'</span>);

        <span class="comment">% 9. Titling etc</span>
        grid <span class="string">on</span>;
        title(strrep(cl_st_title{it_plot}, <span class="string">'_'</span>, <span class="string">'\_'</span>));
        ylabel(strrep(cl_st_ytitle{it_plot}, <span class="string">'_'</span>, <span class="string">'\_'</span>));
        st_xlabel = strrep(st_x_label, <span class="string">'_'</span>, <span class="string">'\_'</span>);
        <span class="keyword">if</span> (strcmp(st_simu_type, <span class="string">'c'</span>))
            xlabel(st_xlabel);
        <span class="keyword">elseif</span> (ismember(st_simu_type, [<span class="string">"g"</span>]))
            st_xlabel_randvars = string([<span class="string">'full grid of: '</span> strrep(strjoin(cl_st_param_desc, <span class="string">' and '</span>), <span class="string">'_'</span>, <span class="string">'\_'</span>)]);
            xlabel({st_xlabel{1} st_xlabel_randvars});
        <span class="keyword">elseif</span> (ismember(st_simu_type, [<span class="string">"r"</span>]))
            st_xlabel_randvars = string([<span class="string">'random vary by: '</span> strrep(strjoin(cl_st_param_desc, <span class="string">' and '</span>), <span class="string">'_'</span>, <span class="string">'\_'</span>)]);
            xlabel({st_xlabel{1} st_xlabel_randvars});
        <span class="keyword">end</span>
</pre><img vspace="5" hspace="5" src="ff_az_test_analyze_01.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_02.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_03.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_04.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_05.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_06.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_07.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_08.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_09.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_10.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_11.png" alt=""> <img vspace="5" hspace="5" src="ff_az_test_analyze_12.png" alt=""> <pre class="codeinput">    <span class="keyword">end</span>

    <span class="comment">% snap figure in place</span>
    <span class="keyword">if</span> (bl_graph_onebyones)
        snapnow;
    <span class="keyword">else</span>
        st_img_path = <span class="string">'C:\Users\fan\CodeDynaAsset\m_fibs\m_ipwkbzr_test\mat\'</span>;
        st_file_name = [<span class="string">'img1_s'</span> num2str(it_size_type) <span class="string">'_m'</span> num2str(it_pcombi_ctr)];
        saveas(gcf, strcat(st_img_path, st_file_name));
    <span class="keyword">end</span>
</pre><pre class="codeinput"><span class="keyword">end</span>
</pre><pre class="codeinput"><span class="keyword">end</span>
</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2019a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Analyze Distributional Results
% *back to <https://fanwangecon.github.io Fan>'s
% <https://fanwangecon.github.io/CodeDynaAsset/ Dynamic Assets Repository>
% Table of Content.*

%%
function [tb_outcomes, support_map] = ff_az_test_analyze(varargin)
%% FF_AZ_TEST_ANALYZE post solution simulation
% Simulate the model along various dimensions, and produce graphical
% outputs to show aggregate/distributional statistics.
%
% @ar_it_plot_sets array integer array of which statistics graphs to
% generate, see line 128. Could add additional statistics to that
% conditional list.
%
% @param st_simu_type string cross vs gridd simulation. cross: with
% (x,y), vary X fixing y, vary Y fixing x. grid: all (x,y) \in (X,Y)
%
% # _st_simu_type_ = 'c' for cross simulate, if 'c', then each array value
% of param_tstar_map container is simulated over one by one. So if there
% are two arrays associated with two keys in param_tstar_map with length N1
% and N2, the total number of simulations equals to N1 + N2.
% # _st_simu_type_ = 'g' for grid simulate, if 'g', then all possible
% combinations of the arrays in param_tstar_map are used to create
% combinations of parameter values. So if there are two arrays with lengths
% N1 and N2, there will be N1*N2 number of simulations
% # _st_simu_type_ = 'r' for random simulate, if 'r', then should specify
% param_map('it_st_simu_type_g_seed') value. Only the minimum and the
% maximum values for each array in param_tstar_map matters. Based on these
% minimum and maximum, and also what is in
% param_map('it_st_simu_type_g_simun'). Random parameter values will be
% drawn. 
%
% @param it_size_type integer: 
% 
% # it_size_type = 1 is quick grid
% # it_size_type = 2 is standard grid
% # it_size_type = 3 is denser grid
%
% @param cl_st_param_keys cell string cell array container parameters that
% we are simulating over
%
% @param param_map container parameter container
%
% @param support_map container support container
%
% @param param_tstar_map container map of arrays with keys that are
% parameter keys. This could be specified outside with array values to
% override defaults here. 
%
% @param param_desc_map container map of strings for each parameter key.
%
% @param tb_outcomes table table of simulation outcomes for various
% statistics for each set of parameters. Columns are statistics, rows are
% outcome variables, groups of rows are different simulations.
%
% @include
%
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/solvepost/html/ff_az_test_gen.html ff_az_test_gen>
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_vf_vecsv.html ff_az_vf_vecsv>
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/solve/html/ff_az_ds_vecsv.html ff_az_ds_vecsv>
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_set_default_param.html ffs_az_set_default_param>
% * <https://fanwangecon.github.io/CodeDynaAsset/m_az/paramfunc/html/ffs_az_get_funcgrid.html ffs_az_get_funcgrid>
%
% @seealso
%
% * _SPEED_ savings only overall benchmark speed testing: <https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_speed/html/fsi_az_ds_vecsv_speed.html fsi_az_ds_vecsv_speed>
% * _PREFERENCE_ savings only preference testing: <https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_pref/html/fsi_az_ds_vecsv_pref.html fsi_az_ds_vecsv_pref>
% * _PREFERENCE_ savings only preference testing cross:
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_pref/html/fsi_az_ds_vecsv_pref_cross.html fsi_az_ds_vecsv_pref_cross>
% * _SHOCK_ savings only shock testing: <https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_shock/html/fsi_az_ds_vecsv_shock.html fsi_az_ds_vecsv_shock>
% * _SHOCK_ savings only shock testing cross:
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_shock/html/fsi_az_ds_vecsv_shock_cross.html fsi_az_ds_vecsv_shock_cross>
% * _PRICE_ savings only wage and interest rate testing cross: adjust wage and savings rate
% <https://fanwangecon.github.io/CodeDynaAsset/m_az/test/ff_az_ds_vecsv/test_price/html/fsi_az_ds_vecsv_price_cross.html fsi_az_ds_vecsv_price_cross>
%

%% Default Parameter
ar_it_plot_sets = [1,2,4,5,6,7];
it_param_set = 9;
[param_map, support_map] = ffs_az_set_default_param(it_param_set);
support_map('bl_replacefile') = false;
support_map('bl_graph_onebyones') = true;
support_map('bl_display_graph_stats') = true;

%% Array Parameters
% initiate empty map

st_simu_type = 'c'; % if false, simu full grid
it_size_type = 2;
cl_st_param_keys = {'fl_crra', 'fl_beta'};

param_tstar_map = containers.Map('KeyType','char', 'ValueType','any');
it_simu_vec_len = 5;
param_tstar_map('fl_crra') = linspace(1, 5, it_simu_vec_len);
param_tstar_map('fl_beta') = linspace(0.87, 0.97, it_simu_vec_len);

param_desc_map = containers.Map('KeyType','char', 'ValueType','any');
param_desc_map('fl_crra') = {'CRRA'};
param_desc_map('fl_beta') = {'Discount'};

%% Default
default_params = {ar_it_plot_sets ...
                    st_simu_type it_size_type cl_st_param_keys ...
                    param_map support_map param_tstar_map param_desc_map};

%% Parse Parameters 1
% override default set above if any parameters are updated

params_len = length(varargin);
[default_params{1:params_len}] = varargin{:};

ar_it_plot_sets = default_params{1};
st_simu_type = default_params{2};
it_size_type = default_params{3};
cl_st_param_keys = default_params{4};

param_map = [param_map; default_params{5}];
support_map = [support_map; default_params{6}];
param_tstar_map = [param_tstar_map; default_params{7}];
param_desc_map = [param_desc_map; default_params{8}];

%% Parse Parameters 2

params_group = values(support_map, ...
    {'bl_graph_onebyones', 'bl_display_graph_stats'});
[bl_graph_onebyones, bl_display_graph_stats] = params_group{:};

%% Cross-Simulate Model Along Parameters

[tb_outcomes, support_map, param_desc_map] = ff_az_test_gen( ...
    st_simu_type, it_size_type, cl_st_param_keys, ...
    param_map, support_map, param_tstar_map, param_desc_map);

%% Specify Outcome Variables to Plot
it_plot_n = length(ar_it_plot_sets);
[it_plot_rows, it_plot_cols] = deal(round(it_plot_n/3), 3);

cl_ar_st_variablenames = cell([it_plot_n,1]);
cl_ar_st_legend = cell([it_plot_n,1]);
cl_ar_st_colnames = cell([it_plot_n,1]);
cl_st_title = cell([it_plot_n,1]);
cl_st_ytitle = cell([it_plot_n,1]);

it_plot_ctr = 0;
for it_plot = ar_it_plot_sets
    
    it_plot_ctr = it_plot_ctr + 1;
    
    if (it_plot == 1)
        ar_st_colnames_plot =  {'p1', 'p25', 'p50', 'mean', 'p75', 'p99'};
        ar_st_variablenames_plot =  repmat({'cl_mt_pol_c'}, [1, length(ar_st_colnames_plot)]);
        ar_st_legend_plot =  ar_st_colnames_plot;
        st_title = 'Consumption Percentiles';
        st_ytitle = 'C Distribution';
    elseif (it_plot == 2)
        ar_st_colnames_plot =  {'mean', 'sd'};
        ar_st_variablenames_plot =  repmat({'cl_mt_pol_c'}, [1, length(ar_st_colnames_plot)]);
        ar_st_legend_plot =  ar_st_colnames_plot;
        st_title = 'Consumption Mean and SD';
        st_ytitle = 'C Mean and SD';
    elseif (it_plot == 3)
        ar_st_colnames_plot =  {'p1', 'p25', 'p50', 'mean', 'p75', 'p99'};
        ar_st_variablenames_plot =  repmat({'cl_mt_pol_a'}, [1, length(ar_st_colnames_plot)]);
        ar_st_legend_plot =  ar_st_colnames_plot;
        st_title = 'Savings Percentiles';
        st_ytitle = 'A Distribution';
    elseif (it_plot == 4)
        ar_st_colnames_plot =  {'mean', 'sd'};
        ar_st_variablenames_plot =  repmat({'cl_mt_pol_a'}, [1, length(ar_st_colnames_plot)]);
        ar_st_legend_plot =  ar_st_colnames_plot;
        st_title = 'Savings Mean and SD';
        st_ytitle = 'A Mean and SD';
    elseif (it_plot == 5)
        ar_st_variablenames_plot =  {'cl_mt_coh', 'cl_mt_pol_a', 'cl_mt_pol_c'};
        ar_st_legend_plot =  {'coh=wealth', 'savings', 'consumption'};
        ar_st_colnames_plot =  repmat({'mean'}, [1, length(ar_st_variablenames_plot)]);
        st_title = 'Aggregate Outcomes (wealth, savings, consumption)';
        st_ytitle = 'Aggregate Levels';
    elseif (it_plot == 6)
        ar_st_variablenames_plot =  {'cl_mt_coh', 'cl_mt_pol_a', 'cl_mt_pol_c'};
        ar_st_legend_plot =  {'coh=wealth', 'savings', 'consumption'};
        ar_st_colnames_plot =  repmat({'coefofvar'}, [1, length(ar_st_variablenames_plot)]);
        st_title = 'Coef of Variation (wealth, savings, consumption)';
        st_ytitle = 'Coefficient of Variation (SD/Mean)';        
    elseif (it_plot == 7)
        ar_st_variablenames_plot =  {'cl_mt_coh', 'cl_mt_pol_a', 'cl_mt_pol_c'};
        ar_st_legend_plot =  {'coh=wealth', 'savings', 'consumption'};
        ar_st_colnames_plot =  repmat({'fl_cor_cl_mt_pol_c'}, [1, length(ar_st_variablenames_plot)]);
        st_title = 'Correlation with Consumption)';
        st_ytitle = 'Correlation Coefficient';
    end
    
    cl_ar_st_variablenames{it_plot_ctr} = ar_st_variablenames_plot;
    cl_ar_st_legend{it_plot_ctr} = ar_st_legend_plot;
    cl_ar_st_colnames{it_plot_ctr} = ar_st_colnames_plot;
    cl_st_title{it_plot_ctr} = st_title;
    cl_st_ytitle{it_plot_ctr} = st_ytitle;
    
end

%% Get Var Descs

cl_st_param_desc = values(param_desc_map, cl_st_param_keys);
cl_st_param_desc = cellfun(@(m) m{1}, cl_st_param_desc, 'UniformOutput', false);

%% Graph Outcomes
close all;

for it_pcombi_ctr = 1:length(cl_st_param_keys)
    
    st_param_key = cl_st_param_keys{it_pcombi_ctr};
    st_param_desc = cl_st_param_desc(it_pcombi_ctr);
    
    if (~bl_graph_onebyones)
        figure('PaperPosition', [0 0 it_plot_cols*7 it_plot_rows*4]);
    else
    end
    
    % get data
    if (strcmp(st_simu_type, 'c'))
        mt_cur_data = tb_outcomes(strcmp(tb_outcomes.var_param_key, st_param_key), :);
    elseif (ismember(st_simu_type, ["g", "r"]))
        mt_cur_data = tb_outcomes;
    end    
    st_x_label = st_param_desc;
    
    %% Loop over Subplots (different sets of Outcomes)
    for it_plot=1:1:it_plot_n
        
        % Get x variable and label
        cl_legend = cl_ar_st_legend{it_plot};
        ar_st_variablenames_plot = cl_ar_st_variablenames{it_plot};
        ar_st_colnames_plot = cl_ar_st_colnames{it_plot};
        
        mt_graph_data = mt_cur_data(:, [{st_param_key}, ar_st_colnames_plot]);
        
        if (bl_display_graph_stats)
            disp(mt_graph_data)
        end
        
        %% Generate Graphs
        if (bl_graph_onebyones)
            figure('PaperPosition', [0 0 7 4]);
        else
            subplot(it_plot_rows,it_plot_cols,it_plot);
        end
        
        hold on;
        
        st_legend_loc = 'southeast';
        
        blue = [57 106 177]./255;
        red = [204 37 41]./255;
        black = [83 81 84]./255;
        green = [62 150 81]./255;
        brown = [146 36 40]./255;
        purple = [107 76 154]./255;
        cl_colors = {blue, red, black, ...
            green, brown, purple};
        cl_scatter_shapes = {'s','x','o','d','p','*'};
        cl_linestyle = {'-','-','-','-','-','-'};
        it_sca_bs = 3;
        cl_scatter_csizes = {10*it_sca_bs, 10*it_sca_bs, 10*it_sca_bs, 10*it_sca_bs, 10*it_sca_bs, 10*it_sca_bs};
        it_line_bs = 2;
        cl_line_csizes = {1*it_line_bs, 1*it_line_bs, 1*it_line_bs, 1*it_line_bs, 1*it_line_bs, 1*it_line_bs};
        
        it_graph_counter = 0;
        ls_chart = [];
        for it_fig = 1:length(cl_ar_st_variablenames{it_plot})
            
            % Counter
            it_graph_counter = it_graph_counter + 1;
            
            % Color and Size etc
            it_csize = cl_scatter_csizes{it_fig};
            ar_color = cl_colors{it_fig};
            st_shape = cl_scatter_shapes{it_fig};
            st_lnsty = cl_linestyle{it_fig};
            st_lnwth = cl_line_csizes{it_fig};
            
            % Access Y Outcomes
            ar_cur_rows = strcmp(mt_cur_data.variablenames, ar_st_variablenames_plot(it_fig));
            st_cur_stat_col = ar_st_colnames_plot{it_fig};
            
            % Access X and Y Values
            mt_graph_data = mt_cur_data(ar_cur_rows, {st_param_key, st_cur_stat_col});
            % Access Y Values
            ar_y = mt_graph_data{:, st_cur_stat_col};
            % Access X Values
            ar_x = mt_graph_data{:, st_param_key};
            
            % Plot Scatter            
            ls_chart(it_graph_counter) = scatter(ar_x', ar_y', it_csize, ar_color, st_shape);
            
            if (strcmp(st_simu_type, 'c'))
                % plot line do not include in legend
                line = plot(ar_x, ar_y);
                line.HandleVisibility = 'off';
                line.Color = ar_color;
                line.LineStyle = st_lnsty;
                line.HandleVisibility = 'off';
                line.LineWidth = st_lnwth;
            elseif (ismember(st_simu_type, ["g", "r"]))
                
            end
            
            cl_legend{it_graph_counter} = cl_legend{it_fig};            
            
        end
        
        legend(ls_chart, cl_legend, 'Location', st_legend_loc, 'color', 'none');
        
        % 9. Titling etc
        grid on;
        title(strrep(cl_st_title{it_plot}, '_', '\_'));
        ylabel(strrep(cl_st_ytitle{it_plot}, '_', '\_'));        
        st_xlabel = strrep(st_x_label, '_', '\_');
        if (strcmp(st_simu_type, 'c'))        
            xlabel(st_xlabel);
        elseif (ismember(st_simu_type, ["g"]))
            st_xlabel_randvars = string(['full grid of: ' strrep(strjoin(cl_st_param_desc, ' and '), '_', '\_')]);
            xlabel({st_xlabel{1} st_xlabel_randvars});
        elseif (ismember(st_simu_type, ["r"]))
            st_xlabel_randvars = string(['random vary by: ' strrep(strjoin(cl_st_param_desc, ' and '), '_', '\_')]);
            xlabel({st_xlabel{1} st_xlabel_randvars});
        end
    end
    
    % snap figure in place
    if (bl_graph_onebyones)
        snapnow;
    else
        st_img_path = 'C:\Users\fan\CodeDynaAsset\m_fibs\m_ipwkbzr_test\mat\';
        st_file_name = ['img1_s' num2str(it_size_type) '_m' num2str(it_pcombi_ctr)];
        saveas(gcf, strcat(st_img_path, st_file_name));
    end
    
end

end

##### SOURCE END #####
--></body></html>